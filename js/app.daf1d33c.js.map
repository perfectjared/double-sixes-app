{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/Sidebar.vue?c78d","webpack:///./src/components/Database.vue?45fb","webpack:///./src/components/Toolbar.vue?04bc","webpack:///./src/App.vue","webpack:///./src/components/Toolbar.vue","webpack:///src/components/Toolbar.vue","webpack:///./src/components/Toolbar.vue?2909","webpack:///./src/components/Toolbar.vue?2966","webpack:///./src/components/Sidebar.vue","webpack:///./src/components/ImageLoad.vue","webpack:///src/components/ImageLoad.vue","webpack:///./src/components/ImageLoad.vue?73f7","webpack:///./src/components/ImageLoad.vue?c71b","webpack:///./src/components/ObjectManager.vue","webpack:///./src/firebase.js","webpack:///./src/dataservice.js","webpack:///./src/classes/Board.js","webpack:///./src/components/BoardVue.vue","webpack:///src/components/BoardVue.vue","webpack:///./src/components/BoardVue.vue?ad20","webpack:///./src/components/BoardVue.vue?81c8","webpack:///./src/classes/Space.js","webpack:///./src/components/SpaceVue.vue","webpack:///src/components/SpaceVue.vue","webpack:///./src/components/SpaceVue.vue?093f","webpack:///./src/components/SpaceVue.vue?ece1","webpack:///./src/classes/Connection.js","webpack:///./src/components/ConnectionVue.vue","webpack:///src/components/ConnectionVue.vue","webpack:///./src/components/ConnectionVue.vue?751d","webpack:///./src/components/ConnectionVue.vue?dede","webpack:///./src/components/Analysis.vue","webpack:///./src/classes/Path.js","webpack:///./src/classes/Player.js","webpack:///src/components/Analysis.vue","webpack:///./src/components/Analysis.vue?944d","webpack:///./src/components/Analysis.vue?d1c2","webpack:///src/components/ObjectManager.vue","webpack:///./src/components/ObjectManager.vue?86a6","webpack:///./src/components/ObjectManager.vue?d882","webpack:///./src/components/Database.vue","webpack:///src/components/Database.vue","webpack:///./src/components/Database.vue?3691","webpack:///./src/components/Database.vue?9ca3","webpack:///src/components/Sidebar.vue","webpack:///./src/components/Sidebar.vue?d975","webpack:///./src/components/Sidebar.vue?ebf3","webpack:///./src/components/ImageCanvas.vue","webpack:///./src/classes/Shapes.js","webpack:///./src/classes/DrawShape.js","webpack:///./src/classes/DrawConnection.js","webpack:///./src/classes/ImageContainer.js","webpack:///src/components/ImageCanvas.vue","webpack:///./src/components/ImageCanvas.vue?ca2a","webpack:///./src/components/ImageCanvas.vue?ed80","webpack:///./src/classes/Control.js","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue?bff9","webpack:///./src/router.js","webpack:///./src/main.js","webpack:///./src/App.vue?2342","webpack:///./src/components/ImageLoad.vue?8389"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","jsonpScriptSrc","p","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","script","document","createElement","charset","timeout","nc","setAttribute","src","error","Error","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","message","name","request","undefined","setTimeout","head","appendChild","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_c","_self","staticRenderFns","attrs","directives","rawName","modifiers","select","on","selectClick","staticClass","pan","panClick","center","centerClick","rect","rectClick","ellipse","ellipseClick","polygonClick","line","lineClick","jump","jumpClick","panSelect","panToggle","top","documentElement","clientHeight","methods","clear","controlEventBus","imagePanRelease","drawSelect","imagePanPress","imagePlace","drawRect","drawEllipse","drawLine","drawJump","computed","mounted","$on","created","component","buttonBoard","analysisToggle","download","buttonJson","staticStyle","databaseToggle","width","title","model","toggled","callback","$$v","expression","selected","imgLoaded","_e","selectImage","ref","storeImage","img","Image","$refs","imgLoad","click","input","file","files","reader","FileReader","fileName","onloadend","submitImage","readAsDataURL","fileEventBus","imageLoaded","objectEventBus","createBoard","space","id","connection","topBoard","config","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firebase","container","db","store","DataService","getAll","thumbnail","imgReader","read","url","fabric","fromURL","max","scale","Math","min","height","filters","Resize","scaleX","scaleY","applyFilters","_element","toDataURL","log","imageUpload","child","putString","put","snapshot","progress","ceil","bytesTransferred","totalBytes","async","getDownloadURL","content","createThubmnail","then","thumb","catch","url_thumb","update","delete","remove","deleteAll","Board","constructor","image","_defineProperty","dice","furidashi","agari","spaces","trimTitle","split","join","spaceAt","index","addSpace","removeSpace","clearSpaces","toString","board","_v","_s","$set","englishTitle","date","publisher","artist","theme","boardOptions","movementType","chanceMechanism","material","otherMaterial","text","disabled","props","Number","components","Space","shape","SetID","number","exact","description","instructionText","instructionTranslation","otherText","otherTranslation","checked","ChangeLabel","embed","Boolean","Connection","origin","triangle","chances","chanceType","setLineColor","set","x","aCoords","tl","br","y","sqrt","pow","connectionOptions","connectionType","_l","chance","addConnection","$event","pop","String","originName","targetName","toFixed","analyze","reset","preconditionsButton","cardColor","containsFuridashi","containsAgari","pathToEndExists","noConflictingChances","noConflictingSequences","agentControlsVisible","readyToAnimate","playerCount","finishAnimationOnAgari","animationSpeed","doneAnimating","simulate","onAgari","roundsUntilComplete","heatSpaces","Path","connections","findOptimalPath","pathString","forEach","connectionsString","connectionString","Player","debug","spaceOn","path","done","roll","floor","random","rolls","_debug","_planMove","next","jumpingConnections","_findJumpingConnections","_spaceAhead","_move","animated","amount","_spaceBehind","_findSequentialConnection","from","_findReverseConnection","sequentialConnection","string","getObjects","canvas","Spaces","Connections","players","playerShapes","turnAt","roundAt","firstOnAgari","preconditionsVisible","find","isJumpingSugoroku","paths","findPaths","numberOfSpaces","isValid","heatToAdd","lastOnAgari","obj","getCanvas","pathsString","createHeat","createPlayers","animateNext","heatSpace","EllSpace","rx","ry","RectSpace","heat","left","selectable","strokeWidth","opacity","fill","add","player","playerShape","PlayerShape","finishAnimation","animationAt","animateShape","newPosition","findNewPosition","animate","duration","onChange","renderAll","onComplete","easing","util","ease","easeOutCirc","node","unvisitedEdges","visitedNodes","connectedEdges","includes","adjacentEdges","edge","indexOf","nextNode","finishedInTurns","filename","Blob","JSON","stringify","saveAs","Array","topSpace","topConnection","boardList","BoardVue","spaceList","SpaceVue","connectionList","ConnectionVue","analysis","Analysis","jsonUpload","json","b","prop","selectBoard","jsonToCanvas","CanvasObjects","buttonElement","getElementsByName","lastTop","spaceIndex","check","connIndex","findIndex","toRemove","clearLines","copy","loopConnection","uniqueID","connectionsList","temp","parse","readAsText","getImage","submissionData","load","submit","$emit","sidebar","sidebarButton","jsonButton","boardButton","dbButton","drag","conn","to","nothingSelected","ObjectManager","ImageLoad","Database","getElementById","addEventListener","uploadJson","uploadBoard","mouse","equals","every","val","toggle","dragged","buttonDb","upload","_m","createClass","Line","initialize","element","options","callSuper","toObject","extend","fromObject","_fromObject","_render","ctx","Rect","label","font","fillStyle","textAlign","fillText","dirty","requestRenderAll","GetID","Normalize","getObjectScaling","Ellipse","selectableselectable","stroke","size","newSpace","xOffset","yOffset","DrawShape","mouseDown","mouseMove","mouseUp","activeTool","pointer","getPointer","isDown","selection","origX","origY","lockScalingFlip","originX","originY","angle","transparentCorners","point","evented","abs","smallest","x2","y2","objects","lastObject","createSpace","pt1","Point","pt2","containsPoint","createConnection","DrawConnection","imageCanvas","_lineMovement","_newLines","_clearLines","jsonConnection","coords","_lineCoords","_trianglePosition","sendToBack","_makeLine","hasControls","Triangle","centeredRotation","xDiff","x1","yDiff","y1","atan2","PI","ImageContainer","img1","hasBorders","hoverCursor","Canvas","deselect","clientWidth","relativeWidth","hasMoved","isPanning","drawShape","drawConnection","controlEventBusSetup","canvasCenter","controlSetActive","getActiveObjects","fileEventBusSetup","imageSetup","objectEventBusSetup","canvasSetup","backgroundColor","preserveObjectStacking","canvasPanSetup","$nextTick","canvasResize","setWidth","setHeight","calcOffset","setZoom","imgZoom","canvasZoom","zoomFactor","zoom","vpw","vph","absolutePan","controlSetup","canvasSelectSetup","activeObjects","selectShape","canvasZoomSetup","opt","delta","deltaY","getZoom","zoomToPoint","offsetX","offsetY","preventDefault","stopPropagation","evt","isDragging","lastPosX","clientX","lastPosY","clientY","vpt","viewportTransform","setViewportTransform","control","setSelectable","discardActiveObject","Control","tagName","keyName","shiftPress","drawPolygon","shiftRelease","backspace","appToolbar","Toolbar","appSidebar","Sidebar","appImageCanvas","ImageCanvas","Vue","use","Router","routes","alias","productionTip","BootstrapVue","IconsPlugin","router","el","h","App"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrB,IAAO,GAGJK,EAAkB,GAGtB,SAASY,EAAe5B,GACvB,OAAOyB,EAAoBI,EAAI,OAAS,GAAG7B,IAAUA,GAAW,IAAM,CAAC,iBAAiB,WAAW,iBAAiB,YAAYA,GAAW,MAI5I,SAASyB,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU+B,QAGnC,IAAIC,EAASJ,EAAiB5B,GAAY,CACzCK,EAAGL,EACHiC,GAAG,EACHF,QAAS,IAUV,OANAjB,EAAQd,GAAUW,KAAKqB,EAAOD,QAASC,EAAQA,EAAOD,QAASL,GAG/DM,EAAOC,GAAI,EAGJD,EAAOD,QAKfL,EAAoBQ,EAAI,SAAuBjC,GAC9C,IAAIkC,EAAW,GAKXC,EAAqBxB,EAAgBX,GACzC,GAA0B,IAAvBmC,EAGF,GAAGA,EACFD,EAAStB,KAAKuB,EAAmB,QAC3B,CAEN,IAAIC,EAAU,IAAIC,SAAQ,SAASC,EAASC,GAC3CJ,EAAqBxB,EAAgBX,GAAW,CAACsC,EAASC,MAE3DL,EAAStB,KAAKuB,EAAmB,GAAKC,GAGtC,IACII,EADAC,EAASC,SAASC,cAAc,UAGpCF,EAAOG,QAAU,QACjBH,EAAOI,QAAU,IACbpB,EAAoBqB,IACvBL,EAAOM,aAAa,QAAStB,EAAoBqB,IAElDL,EAAOO,IAAMpB,EAAe5B,GAG5B,IAAIiD,EAAQ,IAAIC,MAChBV,EAAmB,SAAUW,GAE5BV,EAAOW,QAAUX,EAAOY,OAAS,KACjCC,aAAaT,GACb,IAAIU,EAAQ5C,EAAgBX,GAC5B,GAAa,IAAVuD,EAAa,CACf,GAAGA,EAAO,CACT,IAAIC,EAAYL,IAAyB,SAAfA,EAAMM,KAAkB,UAAYN,EAAMM,MAChEC,EAAUP,GAASA,EAAMQ,QAAUR,EAAMQ,OAAOX,IACpDC,EAAMW,QAAU,iBAAmB5D,EAAU,cAAgBwD,EAAY,KAAOE,EAAU,IAC1FT,EAAMY,KAAO,iBACbZ,EAAMQ,KAAOD,EACbP,EAAMa,QAAUJ,EAChBH,EAAM,GAAGN,GAEVtC,EAAgBX,QAAW+D,IAG7B,IAAIlB,EAAUmB,YAAW,WACxBxB,EAAiB,CAAEiB,KAAM,UAAWE,OAAQlB,MAC1C,MACHA,EAAOW,QAAUX,EAAOY,OAASb,EACjCE,SAASuB,KAAKC,YAAYzB,GAG5B,OAAOJ,QAAQ8B,IAAIjC,IAIpBT,EAAoB2C,EAAIvD,EAGxBY,EAAoB4C,EAAI1C,EAGxBF,EAAoB6C,EAAI,SAASxC,EAAS+B,EAAMU,GAC3C9C,EAAoB+C,EAAE1C,EAAS+B,IAClCtD,OAAOkE,eAAe3C,EAAS+B,EAAM,CAAEa,YAAY,EAAMC,IAAKJ,KAKhE9C,EAAoBmD,EAAI,SAAS9C,GACX,qBAAX+C,QAA0BA,OAAOC,aAC1CvE,OAAOkE,eAAe3C,EAAS+C,OAAOC,YAAa,CAAEC,MAAO,WAE7DxE,OAAOkE,eAAe3C,EAAS,aAAc,CAAEiD,OAAO,KAQvDtD,EAAoBuD,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQtD,EAAoBsD,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAK5E,OAAO6E,OAAO,MAGvB,GAFA3D,EAAoBmD,EAAEO,GACtB5E,OAAOkE,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOtD,EAAoB6C,EAAEa,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIR1D,EAAoB8D,EAAI,SAASxD,GAChC,IAAIwC,EAASxC,GAAUA,EAAOmD,WAC7B,WAAwB,OAAOnD,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAN,EAAoB6C,EAAEC,EAAQ,IAAKA,GAC5BA,GAIR9C,EAAoB+C,EAAI,SAASgB,EAAQC,GAAY,OAAOlF,OAAOC,UAAUC,eAAeC,KAAK8E,EAAQC,IAGzGhE,EAAoBI,EAAI,qBAGxBJ,EAAoBiE,GAAK,SAASC,GAA2B,MAApBC,QAAQ3C,MAAM0C,GAAYA,GAEnE,IAAIE,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAWjF,KAAK0E,KAAKO,GAC5CA,EAAWjF,KAAOf,EAClBgG,EAAaA,EAAWG,QACxB,IAAI,IAAI5F,EAAI,EAAGA,EAAIyF,EAAWvF,OAAQF,IAAKP,EAAqBgG,EAAWzF,IAC3E,IAAIU,EAAsBiF,EAI1B/E,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,0IC5NT,W,oCCAA,W,sDCAA,W,0MCAI+E,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,cAAcA,EAAG,cAAcA,EAAG,mBAAmB,IAEjIE,EAAkB,GCFlBL,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACG,MAAM,CAAC,GAAK,YAAY,CAACH,EAAG,iBAAiB,CAACG,MAAM,CAAC,SAAW,GAAG,KAAO,KAAK,YAAY,YAAY,CAACH,EAAG,WAAW,CAACI,WAAW,CAAC,CAAC3C,KAAK,YAAY4C,QAAQ,0BAA0BC,UAAU,CAAC,OAAQ,EAAK,OAAQ,KAAQH,MAAM,CAAC,QAAU,QAAQ,QAAUL,EAAIS,OAAO,MAAQ,cAAcC,GAAG,CAAC,MAAQV,EAAIW,cAAc,CAACT,EAAG,MAAM,CAACU,YAAY,eAAeP,MAAM,CAAC,MAAQ,MAAM,OAAS,MAAM,QAAU,YAAY,KAAO,eAAe,MAAQ,+BAA+B,CAACH,EAAG,OAAO,CAACG,MAAM,CAAC,YAAY,UAAU,EAAI,uOAAuOH,EAAG,WAAW,CAACI,WAAW,CAAC,CAAC3C,KAAK,YAAY4C,QAAQ,0BAA0BC,UAAU,CAAC,OAAQ,EAAK,OAAQ,KAAQH,MAAM,CAAC,QAAU,QAAQ,QAAUL,EAAIa,IAAI,MAAQ,oBAAoBH,GAAG,CAAC,MAAQV,EAAIc,WAAW,CAACZ,EAAG,MAAM,CAACU,YAAY,oBAAoBP,MAAM,CAAC,MAAQ,MAAM,OAAS,MAAM,QAAU,YAAY,KAAO,eAAe,MAAQ,+BAA+B,CAACH,EAAG,OAAO,CAACG,MAAM,CAAC,YAAY,UAAU,EAAI,iiBAAiiBH,EAAG,WAAW,CAACI,WAAW,CAAC,CAAC3C,KAAK,YAAY4C,QAAQ,0BAA0BC,UAAU,CAAC,OAAQ,EAAK,OAAQ,KAAQH,MAAM,CAAC,QAAU,QAAQ,QAAUL,EAAIe,OAAO,MAAQ,cAAcL,GAAG,CAAC,MAAQV,EAAIgB,cAAc,CAACd,EAAG,MAAM,CAACU,YAAY,0BAA0BP,MAAM,CAAC,MAAQ,6BAA6B,MAAQ,KAAK,OAAS,KAAK,KAAO,eAAe,QAAU,cAAc,CAACH,EAAG,OAAO,CAACG,MAAM,CAAC,YAAY,UAAU,EAAI,mjBAAmjBH,EAAG,WAAW,CAACI,WAAW,CAAC,CAAC3C,KAAK,YAAY4C,QAAQ,0BAA0BC,UAAU,CAAC,OAAQ,EAAK,OAAQ,KAAQH,MAAM,CAAC,QAAU,QAAQ,QAAUL,EAAIiB,KAAK,MAAQ,iBAAiBP,GAAG,CAAC,MAAQV,EAAIkB,YAAY,CAAChB,EAAG,MAAM,CAACU,YAAY,eAAeP,MAAM,CAAC,MAAQ,MAAM,OAAS,MAAM,QAAU,YAAY,KAAO,eAAe,MAAQ,+BAA+B,CAACH,EAAG,OAAO,CAACG,MAAM,CAAC,YAAY,UAAU,EAAI,yJAAyJH,EAAG,WAAW,CAACI,WAAW,CAAC,CAAC3C,KAAK,YAAY4C,QAAQ,0BAA0BC,UAAU,CAAC,OAAQ,EAAK,OAAQ,KAAQH,MAAM,CAAC,QAAU,QAAQ,QAAUL,EAAImB,QAAQ,MAAQ,eAAeT,GAAG,CAAC,MAAQV,EAAIoB,eAAe,CAAClB,EAAG,MAAM,CAACU,YAAY,eAAeP,MAAM,CAAC,MAAQ,MAAM,OAAS,MAAM,QAAU,YAAY,KAAO,eAAe,MAAQ,+BAA+B,CAACH,EAAG,OAAO,CAACG,MAAM,CAAC,YAAY,UAAU,EAAI,+EAA+EH,EAAG,WAAW,CAACI,WAAW,CAAC,CAAC3C,KAAK,YAAY4C,QAAQ,0BAA0BC,UAAU,CAAC,OAAQ,EAAK,OAAQ,KAAQH,MAAM,CAAC,QAAU,QAAQ,MAAQ,cAAc,SAAW,IAAIK,GAAG,CAAC,MAAQV,EAAIqB,eAAe,CAACnB,EAAG,MAAM,CAACU,YAAY,iBAAiBP,MAAM,CAAC,MAAQ,MAAM,OAAS,MAAM,QAAU,YAAY,KAAO,eAAe,MAAQ,+BAA+B,CAACH,EAAG,OAAO,CAACG,MAAM,CAAC,YAAY,UAAU,EAAI,kGAAkGH,EAAG,WAAW,CAACI,WAAW,CAAC,CAAC3C,KAAK,YAAY4C,QAAQ,0BAA0BC,UAAU,CAAC,OAAQ,EAAK,OAAQ,KAAQH,MAAM,CAAC,QAAU,QAAQ,QAAUL,EAAIsB,KAAK,MAAQ,6BAA6BZ,GAAG,CAAC,MAAQV,EAAIuB,YAAY,CAACrB,EAAG,MAAM,CAACU,YAAY,uBAAuBP,MAAM,CAAC,MAAQ,MAAM,OAAS,MAAM,QAAU,YAAY,KAAO,eAAe,MAAQ,+BAA+B,CAACH,EAAG,OAAO,CAACG,MAAM,CAAC,YAAY,UAAU,EAAI,2HAA2HH,EAAG,WAAW,CAACI,WAAW,CAAC,CAAC3C,KAAK,YAAY4C,QAAQ,0BAA0BC,UAAU,CAAC,OAAQ,EAAK,OAAQ,KAAQH,MAAM,CAAC,QAAU,QAAQ,QAAUL,EAAIwB,KAAK,MAAQ,0BAA0Bd,GAAG,CAAC,MAAQV,EAAIyB,YAAY,CAACvB,EAAG,MAAM,CAACU,YAAY,0BAA0BP,MAAM,CAAC,MAAQ,6BAA6B,MAAQ,KAAK,OAAS,KAAK,KAAO,eAAe,QAAU,cAAc,CAACH,EAAG,OAAO,CAACG,MAAM,CAAC,YAAY,UAAU,EAAI,wLAAwL,IAAI,IAEt7KD,EAAkB,GCsDP,GACfxG,OACA,OACA6G,QAAA,EACAiB,WAAA,EACAC,WAAA,EACAZ,QAAA,EACAE,MAAA,EACAE,SAAA,EACAG,MAAA,EACAE,MAAA,EACAI,IAAApF,SAAAqF,gBAAAC,aAAA,IAGAxB,WAAA,GAGAyB,QAAA,CACAC,MAAA,WACA,KAAAvB,QAAA,OAAAiB,WAAA,OAAAT,MAAA,OAAAE,SAAA,OAAAG,MAAA,OAAAE,MAAA,EACAS,GAAAC,mBAEAvB,YAAA,WACAsB,GAAAE,aACAF,GAAAC,kBACA,KAAAF,QACA,KAAAvB,QAAA,GAEAK,SAAA,WACAmB,GAAAG,gBACA,KAAAJ,QACA,KAAAN,WAAA,GAEAV,YAAA,WACAiB,GAAAI,cAEAnB,UAAA,WACAe,GAAAK,WACAL,GAAAC,kBACA,KAAAF,QACA,KAAAf,MAAA,GAEAG,aAAA,WACAa,GAAAM,cACAN,GAAAC,kBACA,KAAAF,QACA,KAAAb,SAAA,GAEAE,aAAA,aAGAE,UAAA,WACAU,GAAAO,WACAP,GAAAC,mBAEAT,UAAA,WACAQ,GAAAQ,WACAR,GAAAC,oBAGAQ,SAAA,CACA7B,IAAA,WACA,YAAAa,WAAA,KAAAC,YAGAgB,UACAV,GAAAW,IAAA,kBACA,KAAAZ,QACA,KAAAvB,QAAA,IAEAwB,GAAAW,IAAA,qBACA,KAAAjB,WAAA,IAEAM,GAAAW,IAAA,uBACA,KAAAjB,WAAA,IAEAM,GAAAW,IAAA,gBACA,KAAAZ,QACA,KAAAf,MAAA,IAEAgB,GAAAW,IAAA,mBACA,KAAAZ,QACA,KAAAb,SAAA,IAEAc,GAAAW,IAAA,gBACA,KAAAZ,QACA,KAAAV,MAAA,IAEAW,GAAAW,IAAA,gBACA,KAAAZ,QACA,KAAAR,MAAA,KAGAqB,aCrJiV,I,wBCQ7UC,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,QCnBX/C,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACG,MAAM,CAAC,GAAK,YAAY,CAACH,EAAG,MAAM,CAACG,MAAM,CAAC,GAAK,YAAY,CAACH,EAAG,WAAW,CAACI,WAAW,CAAC,CAAC3C,KAAK,YAAY4C,QAAQ,yBAAyBC,UAAU,CAAC,OAAQ,EAAK,MAAO,IAAO,CAAC7C,KAAK,WAAW4C,QAAQ,sBAAsBC,UAAU,CAAC,UAAW,KAAQH,MAAM,CAAC,KAAO,gBAAgB,GAAK,YAAY,KAAO,GAAG,QAAU,QAAQ,KAAO,KAAK,MAAQ,YAAY,CAACH,EAAG,MAAM,CAACU,YAAY,+BAA+BP,MAAM,CAAC,MAAQ,6BAA6B,MAAQ,MAAM,OAAS,MAAM,KAAO,eAAe,QAAU,cAAc,CAACH,EAAG,OAAO,CAACG,MAAM,CAAC,EAAI,wKAAwKH,EAAG,MAAMA,EAAG,WAAW,CAACI,WAAW,CAAC,CAAC3C,KAAK,YAAY4C,QAAQ,0BAA0BC,UAAU,CAAC,OAAQ,EAAK,OAAQ,KAAQH,MAAM,CAAC,KAAO,cAAc,GAAK,cAAc,KAAO,GAAG,QAAU,QAAQ,KAAO,KAAK,MAAQ,sBAAsBK,GAAG,CAAC,MAAQV,EAAI+C,cAAc,CAAC7C,EAAG,MAAM,CAACU,YAAY,cAAcP,MAAM,CAAC,MAAQ,6BAA6B,MAAQ,MAAM,OAAS,MAAM,KAAO,eAAe,QAAU,cAAc,CAACH,EAAG,OAAO,CAACG,MAAM,CAAC,EAAI,qDAAqDH,EAAG,OAAO,CAACG,MAAM,CAAC,EAAI,mNAAmNH,EAAG,aAAa,CAACG,MAAM,CAAC,GAAK,kBAAkB,GAAGH,EAAG,MAAMA,EAAG,WAAW,CAACI,WAAW,CAAC,CAAC3C,KAAK,YAAY4C,QAAQ,0BAA0BC,UAAU,CAAC,OAAQ,EAAK,OAAQ,IAAO,CAAC7C,KAAK,WAAW4C,QAAQ,sBAAsBC,UAAU,CAAC,UAAW,KAAQH,MAAM,CAAC,KAAO,iBAAiB,GAAK,iBAAiB,KAAO,GAAG,QAAU,QAAQ,MAAQ,WAAW,KAAO,MAAMK,GAAG,CAAC,MAAQV,EAAIgD,iBAAiB,CAAC9C,EAAG,MAAM,CAACU,YAAY,uBAAuBP,MAAM,CAAC,MAAQ,6BAA6B,MAAQ,MAAM,OAAS,MAAM,KAAO,eAAe,QAAU,cAAc,CAACH,EAAG,OAAO,CAACG,MAAM,CAAC,EAAI,uHAAuHH,EAAG,OAAO,CAACG,MAAM,CAAC,EAAI,8JAA8JH,EAAG,OAAO,CAACG,MAAM,CAAC,EAAI,8LAA8LH,EAAG,MAAMA,EAAG,WAAW,CAACI,WAAW,CAAC,CAAC3C,KAAK,YAAY4C,QAAQ,0BAA0BC,UAAU,CAAC,OAAQ,EAAK,OAAQ,KAAQH,MAAM,CAAC,KAAO,aAAa,GAAK,iBAAiB,KAAO,GAAG,QAAU,QAAQ,KAAO,KAAK,MAAQ,iBAAiBK,GAAG,CAAC,MAAQV,EAAIiD,WAAW,CAAC/C,EAAG,MAAM,CAACU,YAAY,gCAAgCP,MAAM,CAAC,MAAQ,6BAA6B,MAAQ,MAAM,OAAS,MAAM,KAAO,eAAe,QAAU,cAAc,CAACH,EAAG,OAAO,CAACG,MAAM,CAAC,EAAI,kIAAkIH,EAAG,OAAO,CAACG,MAAM,CAAC,EAAI,iKAAiKH,EAAG,MAAMA,EAAG,WAAW,CAACI,WAAW,CAAC,CAAC3C,KAAK,YAAY4C,QAAQ,0BAA0BC,UAAU,CAAC,OAAQ,EAAK,OAAQ,KAAQH,MAAM,CAAC,KAAO,WAAW,GAAK,eAAe,KAAO,GAAG,QAAU,QAAQ,KAAO,KAAK,MAAQ,eAAeK,GAAG,CAAC,MAAQV,EAAIkD,aAAa,CAAChD,EAAG,MAAM,CAACU,YAAY,8BAA8BP,MAAM,CAAC,MAAQ,6BAA6B,MAAQ,MAAM,OAAS,MAAM,KAAO,eAAe,QAAU,cAAc,CAACH,EAAG,OAAO,CAACG,MAAM,CAAC,EAAI,mIAAmIH,EAAG,OAAO,CAACG,MAAM,CAAC,EAAI,iKAAiKH,EAAG,QAAQ,CAACiD,YAAY,CAAC,QAAU,QAAQ9C,MAAM,CAAC,GAAK,aAAa,KAAO,OAAO,OAAS,WAAWH,EAAG,MAAMA,EAAG,WAAW,CAACI,WAAW,CAAC,CAAC3C,KAAK,YAAY4C,QAAQ,0BAA0BC,UAAU,CAAC,OAAQ,EAAK,OAAQ,IAAO,CAAC7C,KAAK,WAAW4C,QAAQ,uBAAuBC,UAAU,CAAC,WAAY,KAAQH,MAAM,CAAC,KAAO,WAAW,GAAK,WAAW,KAAO,GAAG,QAAU,QAAQ,KAAO,KAAK,MAAQ,YAAYK,GAAG,CAAC,MAAQV,EAAIoD,iBAAiB,CAAClD,EAAG,MAAM,CAACU,YAAY,aAAaP,MAAM,CAAC,MAAQ,6BAA6B,MAAQ,MAAM,OAAS,MAAM,KAAO,eAAe,QAAU,cAAc,CAACH,EAAG,OAAO,CAACG,MAAM,CAAC,EAAI,8NAA8NH,EAAG,OAAO,CAACG,MAAM,CAAC,EAAI,2kBAA2kB,GAAGH,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,WAAW,GAAK,WAAW,MAAQL,EAAIqD,MAAM,MAAQrD,EAAIsD,MAAM,MAAQ,GAAG,OAAS,IAAIC,MAAM,CAAC1E,MAAOmB,EAAIwD,QAASC,SAAS,SAAUC,GAAM1D,EAAIwD,QAAQE,GAAKC,WAAW,YAAY,CAACzD,EAAG,iBAAiB,CAACG,MAAM,CAAC,GAAK,iBAAiB,SAAWL,EAAI4D,aAAa,GAAG1D,EAAG,YAAYA,EAAG,aAAa,IAE70LE,EAAkB,GCFlBL,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAAGF,EAAI6D,UAA6K7D,EAAI8D,KAAtK5D,EAAG,MAAM,CAACG,MAAM,CAAC,GAAK,aAAaK,GAAG,CAAC,MAAQV,EAAI+D,cAAc,CAAC7D,EAAG,QAAQ,CAAC8D,IAAI,UAAU3D,MAAM,CAAC,KAAO,OAAO,OAAS,QAAQK,GAAG,CAAC,MAAQV,EAAIiE,mBAE5O7D,EAAkB,GCiBP,GACfxG,KAAA,WACA,OACAsK,IAAA,CACAA,IAAA,IAAAC,MACAxG,KAAA,GACAJ,KAAA,MAEAsG,WAAA,IAGA9B,QAAA,CACAgC,YAAA,WACA,KAAAK,MAAAC,QAAAC,SAEAL,WAAA,WACA,IAAAM,EAAA,KAAAH,MAAAC,QACAG,EAAAD,EAAAE,MACAP,EAAA,IAAAC,MAEA,GAAAK,KAAA,IACA,IAAAE,EAAA,IAAAC,WACAD,EAAAE,SAAAJ,EAAA,GAAA7G,KACA+G,EAAAvH,OAAApB,IACAmI,EAAApH,IAAAf,EAAA0B,OAAAxC,OACA,KAAAiJ,IAAAvG,KAAA5B,EAAA0B,OAAAmH,UAEAF,EAAAG,UAAA,KACA,KAAAX,UACA,KAAAL,WAAA,EACA,KAAAK,IAAA3G,KAAAiH,EAAA,GAAAjH,KACA,KAAA2G,IAAAM,OAAA,GACA,KAAAM,eAEAJ,EAAAK,cAAAP,EAAA,MAGAM,YAAA,WACAE,GAAAC,YAAA,KAAAf,KACAgB,GAAAC,YAAA,KAAAjB,QC1DmV,ICQ/U,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,I,QCnBXnE,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACU,YAAY,YAAYP,MAAM,CAAC,GAAK,kBAAkB,CAAEL,EAAI4D,SAAS,GAAI1D,EAAG,MAAM,CAAEF,EAAI4D,SAAS,GAAGwB,MAAOlF,EAAG,aAAa,CAACf,IAAIa,EAAI4D,SAAS,GAAGwB,MAAMC,GAAGhF,MAAM,CAAC,MAAQL,EAAI4D,SAAS,GAAGwB,MAAM,GAAKpF,EAAI4D,SAAS,GAAGwB,MAAMC,GAAG,OAAQ,KAASrF,EAAI8D,KAAM9D,EAAI4D,SAAS,GAAG0B,WAAYpF,EAAG,kBAAkB,CAACf,IAAIa,EAAI4D,SAAS,GAAG0B,WAAWD,GAAGhF,MAAM,CAAC,WAAaL,EAAI4D,SAAS,GAAG0B,WAAW,GAAKtF,EAAI4D,SAAS,GAAG0B,WAAWD,GAAG,OAAQ,KAASrF,EAAI8D,MAAM,GAAI9D,EAAIgD,eAAgB9C,EAAG,OAAQF,EAAIuF,SAAUrF,EAAG,MAAM,CAACA,EAAG,aAAa,CAACf,IAAIa,EAAIuF,SAASF,GAAGhF,MAAM,CAAC,MAAQL,EAAIuF,SAAS,GAAKvF,EAAIuF,SAASF,OAAO,GAAGrF,EAAI8D,QAE7pB1D,EAAkB,G,oECEtB,MAAMoF,EAAS,CACXC,OAAQ,0CACRC,WAAY,uCACZC,UAAW,uBACXC,cAAe,mCACfC,kBAAmB,cACnBC,MAAO,4CAGXC,mBAAuBP,GAEvB,MAAMQ,EAAY,CAChBC,GAAIF,gBACJG,MAAOH,gBAGMC,QCjBf,MAAMC,EAAKF,EAASE,GAAGjC,MACjBkC,EAAQH,EAASG,MAAMlC,MAE7B,MAAMmC,EACJC,SACE,OAAOH,EAGT,sBAAsB/B,GAEpB,OAAO,IAAI/H,QACRC,IAEC,IAAIiK,EAAY,GACZC,EAAY,IAAI3B,WACpB2B,EAAUnJ,OAAS,SAASoJ,GAE1B,IAAIC,EAAMD,EAAK9I,OAAOxC,OACtBwL,YAAOtC,MAAMuC,QAAQF,EAClBtC,IAEC,MAAMyC,EAAM,IACZ,IAAIC,EAAQC,KAAKC,IAAIH,EAAMzC,EAAIb,MAAOsD,EAAMzC,EAAI6C,QAChD7C,EAAI8C,QAAQtM,KAAK,IAAI+L,YAAOtC,MAAM6C,QAAQC,OAC1C,CACEC,OAAQN,EACRO,OAAQP,KAEV1C,EAAIkD,eACJf,EAAYnC,EAAImD,SAASC,YACzBlL,EAAQiK,MAGdC,EAAUvB,cAAcb,EAAIM,QAIlC,kBAAkBN,EAAKvG,GAGrB,OADA+B,QAAQ6H,IAAI,oBAAqB5J,GAC1B,IAAIxB,QACX,CAACC,EAASC,KAER,IAAImL,EAAc,GACWA,EAAV,iBAARtD,EAAgCgC,EAAMuB,MAAM9J,GAAM+J,UAAUxD,EAAK,YACzDgC,EAAMuB,MAAM9J,GAAMgK,IAAIzD,EAAIM,MAC7CgD,EAAY9G,GAAG,gBACdkH,IAEC,MAAMC,EAAWhB,KAAKiB,KAAMF,EAASG,iBAAmBH,EAASI,WAAc,KAC/EtI,QAAQ6H,IAAIM,EAAW,eAExB9K,IACC2C,QAAQ6H,IAAIxK,GACZV,EAAOU,IAETkL,UAEE,MAAMzB,QAAYgB,EAAYI,SAAS5D,IAAIkE,iBAC3CxI,QAAQ6H,IAAI,eAAiBf,GAC7BpK,EAAQoK,OAKd,aAAatC,EAAKiE,GAEhB,IAAI9B,QAAkB,IAAIlK,QACzBC,IAEC6D,KAAKmI,gBAAgBlE,GAAKmE,KACvBC,IAEClM,EAAQkM,OAMdH,EAAQ3B,UAAY,IAAIrK,QAASC,IAE/B6D,KAAKuH,YAAYtD,EAAKiE,EAAQ7E,OAAO+E,KAClC7B,IAECpK,EAAQoK,KAEV+B,MACDxL,SAQLoL,EAAQK,gBAAkB,IAAIrM,QAASC,IAErC6D,KAAKuH,YAAYnB,EAAW8B,EAAQ7E,MAAQ,UAAU+E,KACnD7B,IAECpK,EAAQoK,KAEV+B,MACCxL,SAQLkJ,EAAGvL,KAAKyN,GAASE,KACjB,KAEI3I,QAAQ6H,IAAI,YAAaY,EAAQ7E,MAAO,mBACxC5D,QAAQ6H,IAAIY,KACbI,MACFxM,IAEG2D,QAAQ6H,IAAIxL,KAIhB0M,OAAOtJ,EAAKN,GACV,OAAOoH,EAAGwB,MAAMtI,GAAKsJ,OAAO5J,GAG9B6J,OAAOvJ,GACL,OAAO8G,EAAGwB,MAAMtI,GAAKwJ,SAGvBC,YACE,OAAO3C,EAAG0C,UAIC,UAAIxC,E,YC3IJ,MAAM0C,EAuBjBC,YAAalE,EAAUmE,GAtBvBC,eAAA,gBACW,IAAEA,eAAA,aACL,IAAIA,eAAA,aAEJ,IAAIA,eAAA,UACP,GAAGA,eAAA,oBACO,IAAEA,eAAA,uBACC,IAAEA,eAAA,YACb,IAAEA,eAAA,cACA,IAETA,eAAA,oBACe,IAAEA,eAAA,YACV,IAAEA,eAAA,cACA,IAAEA,eAAA,aACH,IAAEA,eAAA,cACD,IAAEA,eAAA,iBACC,IAAEA,eAAA,aACN,IAAEA,eAAA,gBACC,MAAIA,eAAA,qBACC,IAGZ/I,KAAK2E,SAAWA,EAChB3E,KAAK8I,MAAQA,EAGjB,aAAanE,GACT3E,KAAK2E,SAAWA,EAGpB,UAAUtB,GACNrD,KAAKqD,MAAQA,EAGjB,UAAUyF,GACN9I,KAAK8I,MAAQA,EAGjB,OAAO1D,GACHpF,KAAKoF,GAAKA,EAGd,SAAS4D,GACLhJ,KAAKgJ,KAAOA,EAGhB,cAAc7D,GACVnF,KAAKiJ,UAAY9D,EAGrB,UAAUA,GACNnF,KAAKkJ,MAAQ/D,EAGjB,WAAWgE,GACPnJ,KAAKmJ,OAASA,EAGlB,eACI,OAAOnJ,KAAK2E,SAGhB,YACI,OAAO3E,KAAKqD,MAGhB,SACI,OAAOrD,KAAKoF,GAGhB,YACI,OAAOpF,KAAK8I,MAGhB,mBACI,OAAO9I,KAAKmJ,OAAOhP,OAGvB,aACI,OAAO6F,KAAKmJ,OAGhBC,UAAU/F,GACN,OAAOA,EAAMgG,MAAM,KAAKxJ,MAAM,GAAI,GAAGyJ,KAAK,KAG9CC,QAAQC,GACJ,OAAOxJ,KAAKmJ,OAAOK,GAGvBC,SAAStE,GACLnF,KAAKmJ,OAAO1O,KAAK0K,GAGrBuE,YAAYF,GACRxJ,KAAKmJ,OAASnJ,KAAKmJ,OAAO9N,OAAOmO,EAAO,GAG5CG,cACI3J,KAAKmJ,OAAS,ICrGtB,IAAIrJ,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,SAAS,CAACG,MAAM,CAAC,GAAKL,EAAIqF,GAAGwE,aAAa,CAAE7J,EAAI8J,MAAO5J,EAAG,QAAQ,CAACG,MAAM,CAAC,IAAML,EAAI8J,MAAMf,MAAMjM,IAAI,MAAQ,GAAG,UAAY,MAAMkD,EAAI8D,KAAK5D,EAAG,IAAI,CAACA,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACF,EAAI+J,GAAG/J,EAAIgK,GAAGhK,EAAI8J,MAAMlF,iBAAiB1E,EAAG,eAAe,CAACU,YAAY,OAAOP,MAAM,CAAC,MAAQ,mBAAmB,cAAc,0BAA0B,CAACH,EAAG,eAAe,CAACG,MAAM,CAAC,GAAK,gBAAgB,MAAQ,QAAQ,YAAY,UAAU,aAAa,OAAO,CAACH,EAAG,eAAe,CAACG,MAAM,CAAC,GAAK,UAAU,KAAO,MAAMkD,MAAM,CAAC1E,MAAOmB,EAAI8J,MAAMxG,MAAOG,SAAS,SAAUC,GAAM1D,EAAIiK,KAAKjK,EAAI8J,MAAO,QAASpG,IAAMC,WAAW,kBAAkB,GAAGzD,EAAG,eAAe,CAACG,MAAM,CAAC,GAAK,gBAAgB,MAAQ,qBAAqB,YAAY,UAAU,aAAa,OAAO,CAACH,EAAG,eAAe,CAACG,MAAM,CAAC,GAAK,UAAU,KAAO,MAAMkD,MAAM,CAAC1E,MAAOmB,EAAI8J,MAAMI,aAAczG,SAAS,SAAUC,GAAM1D,EAAIiK,KAAKjK,EAAI8J,MAAO,eAAgBpG,IAAMC,WAAW,yBAAyB,GAAGzD,EAAG,eAAe,CAACG,MAAM,CAAC,GAAK,gBAAgB,MAAQ,OAAO,YAAY,UAAU,YAAc,aAAa,aAAa,OAAO,CAACH,EAAG,eAAe,CAACG,MAAM,CAAC,GAAK,UAAU,KAAO,MAAMkD,MAAM,CAAC1E,MAAOmB,EAAI8J,MAAMK,KAAM1G,SAAS,SAAUC,GAAM1D,EAAIiK,KAAKjK,EAAI8J,MAAO,OAAQpG,IAAMC,WAAW,iBAAiB,GAAGzD,EAAG,eAAe,CAACG,MAAM,CAAC,GAAK,gBAAgB,MAAQ,YAAY,YAAY,UAAU,aAAa,OAAO,CAACH,EAAG,eAAe,CAACG,MAAM,CAAC,GAAK,UAAU,KAAO,MAAMkD,MAAM,CAAC1E,MAAOmB,EAAI8J,MAAMM,UAAW3G,SAAS,SAAUC,GAAM1D,EAAIiK,KAAKjK,EAAI8J,MAAO,YAAapG,IAAMC,WAAW,sBAAsB,GAAGzD,EAAG,eAAe,CAACG,MAAM,CAAC,GAAK,iBAAiB,MAAQ,SAAS,YAAY,WAAW,aAAa,OAAO,CAACH,EAAG,eAAe,CAACG,MAAM,CAAC,GAAK,WAAW,KAAO,MAAMkD,MAAM,CAAC1E,MAAOmB,EAAI8J,MAAMO,OAAQ5G,SAAS,SAAUC,GAAM1D,EAAIiK,KAAKjK,EAAI8J,MAAO,SAAUpG,IAAMC,WAAW,mBAAmB,IAAI,GAAGzD,EAAG,eAAe,CAACU,YAAY,OAAOP,MAAM,CAAC,MAAQ,cAAc,cAAc,0BAA0B,CAACH,EAAG,eAAe,CAACG,MAAM,CAAC,GAAK,gBAAgB,MAAQ,QAAQ,YAAY,UAAU,YAAc,kBAAkB,aAAa,OAAO,CAACH,EAAG,cAAc,CAACG,MAAM,CAAC,GAAK,UAAU,UAAY,IAAI,KAAO,MAAMkD,MAAM,CAAC1E,MAAOmB,EAAI8J,MAAMQ,MAAO7G,SAAS,SAAUC,GAAM1D,EAAIiK,KAAKjK,EAAI8J,MAAO,QAASpG,IAAMC,WAAW,kBAAkB,GAAGzD,EAAG,eAAe,CAACG,MAAM,CAAC,GAAK,iBAAiB,MAAQ,gBAAgB,YAAY,WAAW,aAAa,OAAO,CAACH,EAAG,gBAAgB,CAACG,MAAM,CAAC,GAAK,WAAW,KAAO,KAAK,QAAUL,EAAIuK,aAAaC,cAAcjH,MAAM,CAAC1E,MAAOmB,EAAI8J,MAAMU,aAAc/G,SAAS,SAAUC,GAAM1D,EAAIiK,KAAKjK,EAAI8J,MAAO,eAAgBpG,IAAMC,WAAW,yBAAyB,GAAGzD,EAAG,eAAe,CAACG,MAAM,CAAC,GAAK,iBAAiB,MAAQ,mBAAmB,YAAY,WAAW,aAAa,OAAO,CAACH,EAAG,gBAAgB,CAACG,MAAM,CAAC,GAAK,WAAW,KAAO,KAAK,QAAUL,EAAIuK,aAAaE,iBAAiBlH,MAAM,CAAC1E,MAAOmB,EAAI8J,MAAMW,gBAAiBhH,SAAS,SAAUC,GAAM1D,EAAIiK,KAAKjK,EAAI8J,MAAO,kBAAmBpG,IAAMC,WAAW,4BAA4B,IAAI,GAAGzD,EAAG,eAAe,CAACU,YAAY,OAAOP,MAAM,CAAC,MAAQ,gBAAgB,cAAc,0BAA0B,CAACH,EAAG,eAAe,CAACG,MAAM,CAAC,GAAK,gBAAgB,MAAQ,SAAS,YAAY,UAAU,YAAc,KAAK,aAAa,OAAO,CAACH,EAAG,eAAe,CAACG,MAAM,CAAC,GAAK,UAAU,KAAO,MAAMkD,MAAM,CAAC1E,MAAOmB,EAAI8J,MAAM/C,OAAQtD,SAAS,SAAUC,GAAM1D,EAAIiK,KAAKjK,EAAI8J,MAAO,SAAUpG,IAAMC,WAAW,mBAAmB,GAAGzD,EAAG,eAAe,CAACG,MAAM,CAAC,GAAK,gBAAgB,MAAQ,QAAQ,YAAY,UAAU,YAAc,KAAK,aAAa,OAAO,CAACH,EAAG,eAAe,CAACG,MAAM,CAAC,GAAK,UAAU,KAAO,MAAMkD,MAAM,CAAC1E,MAAOmB,EAAI8J,MAAMzG,MAAOI,SAAS,SAAUC,GAAM1D,EAAIiK,KAAKjK,EAAI8J,MAAO,QAASpG,IAAMC,WAAW,kBAAkB,GAAGzD,EAAG,eAAe,CAACG,MAAM,CAAC,GAAK,iBAAiB,MAAQ,WAAW,YAAY,WAAW,aAAa,OAAO,CAACH,EAAG,gBAAgB,CAACG,MAAM,CAAC,GAAK,WAAW,KAAO,KAAK,QAAUL,EAAIuK,aAAaG,UAAUnH,MAAM,CAAC1E,MAAOmB,EAAI8J,MAAMY,SAAUjH,SAAS,SAAUC,GAAM1D,EAAIiK,KAAKjK,EAAI8J,MAAO,WAAYpG,IAAMC,WAAW,qBAAqB,GAA0B,SAAtB3D,EAAI8J,MAAMY,SAAqBxK,EAAG,eAAe,CAACG,MAAM,CAAC,GAAK,iBAAiB,MAAQ,iBAAiB,YAAY,WAAW,aAAa,OAAO,CAACH,EAAG,eAAe,CAACG,MAAM,CAAC,GAAK,WAAW,KAAO,MAAMkD,MAAM,CAAC1E,MAAOmB,EAAI8J,MAAMa,cAAelH,SAAS,SAAUC,GAAM1D,EAAIiK,KAAKjK,EAAI8J,MAAO,gBAAiBpG,IAAMC,WAAW,0BAA0B,GAAG3D,EAAI8D,MAAM,IAAI,IAAI,IAEv4I1D,EAAkB,GCoKP,GACfxG,OACA,OACA2Q,aAAA,CACAC,aAAA,CACA,CAAA3L,MAAA,aAAA+L,KAAA,mBACA,CAAA/L,MAAA,qBAAA+L,KAAA,8BACA,CAAA/L,MAAA,UAAA+L,KAAA,gBACA,CAAA/L,MAAA,SAAA+L,KAAA,eACA,CAAA/L,MAAA,SAAA+L,KAAA,WAEAF,SAAA,CACA,CAAA7L,MAAA,QAAA+L,KAAA,SACA,CAAA/L,MAAA,YAAA+L,KAAA,aACA,CAAA/L,MAAA,YAAA+L,KAAA,aACA,CAAA/L,MAAA,YAAA+L,KAAA,aACA,CAAA/L,MAAA,SAAA+L,KAAA,UACA,CAAA/L,MAAA,UAAA+L,KAAA,WACA,CAAA/L,MAAA,UAAA+L,KAAA,WACA,CAAA/L,MAAA,QAAA+L,KAAA,UAEAH,gBAAA,CACA,CAAA5L,MAAA,OAAA+L,KAAA,QACA,CAAA/L,MAAA,QAAA+L,KAAA,QAAAC,UAAA,GACA,CAAAhM,MAAA,WAAA+L,KAAA,YACA,CAAA/L,MAAA,UAAA+L,KAAA,WACA,CAAA/L,MAAA,WAAA+L,KAAA,YACA,CAAA/L,MAAA,aAAA+L,KAAA,kBAMAE,MAAA,CACAhB,MAAAzP,OACAgL,GAAA0F,QAEApI,YAGAE,YAGAH,SAAA,GAGAsI,WAAA,GAGAjJ,QAAA,ICvNkV,ICO9U,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,I,QCZA,MAAMkJ,EAejBnC,YAAYoC,GAAOlC,eAAA,aAdX,GAACA,eAAA,aACD,IAAEA,eAAA,UAEL,IAAIA,eAAA,cACA,IAAEA,eAAA,kBACC,GAAKA,eAAA,cACT,GAAKA,eAAA,cACL,GAAIA,eAAA,mBACE,IAAEA,eAAA,uBACE,IAAEA,eAAA,8BACK,IAAEA,eAAA,iBACf,IAAEA,eAAA,wBACK,IAGf/I,KAAKiL,MAAQA,EAGjB,SACI,OAAOjL,KAAKoF,GAGhB,OAAOA,GACHpF,KAAKoF,GAAKA,EACVpF,KAAKiL,MAAM7F,GAAKA,EAGpB8F,MAAM9F,GACFpF,KAAKoF,GAAKA,EACVpF,KAAKiL,MAAM7F,GAAKA,GCpCxB,IAAItF,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,SAAS,CAACG,MAAM,CAAC,GAAKL,EAAIqF,GAAGwE,aAAa,CAAC3J,EAAG,eAAe,CAACU,YAAY,OAAOP,MAAM,CAAC,MAAQ,aAAa,cAAc,0BAA0B,CAACH,EAAG,eAAe,CAACG,MAAM,CAAC,GAAK,gBAAgB,MAAQ,UAAU,YAAY,UAAU,aAAa,OAAO,CAACH,EAAG,eAAe,CAACG,MAAM,CAAC,GAAK,UAAU,KAAO,MAAMkD,MAAM,CAAC1E,MAAOmB,EAAIoF,MAAMgG,OAAQ3H,SAAS,SAAUC,GAAM1D,EAAIiK,KAAKjK,EAAIoF,MAAO,SAAU1B,IAAMC,WAAW,mBAAmB,GAAGzD,EAAG,kBAAkB,CAACG,MAAM,CAAC,GAAK,aAAa,KAAO,MAAMK,GAAG,CAAC,OAASV,EAAIkJ,WAAW3F,MAAM,CAAC1E,MAAOmB,EAAIoF,MAAM8D,UAAWzF,SAAS,SAAUC,GAAM1D,EAAIiK,KAAKjK,EAAIoF,MAAO,YAAa1B,IAAMC,WAAW,oBAAoB,CAAC3D,EAAI+J,GAAG,kDAAkD7J,EAAG,kBAAkB,CAACG,MAAM,CAAC,GAAK,aAAa,KAAO,MAAMK,GAAG,CAAC,OAASV,EAAImJ,OAAO5F,MAAM,CAAC1E,MAAOmB,EAAIoF,MAAM+D,MAAO1F,SAAS,SAAUC,GAAM1D,EAAIiK,KAAKjK,EAAIoF,MAAO,QAAS1B,IAAMC,WAAW,gBAAgB,CAAC3D,EAAI+J,GAAG,+CAAgD/J,EAAIoF,MAAM+D,MAAOjJ,EAAG,kBAAkB,CAACG,MAAM,CAAC,GAAK,aAAa,KAAO,MAAMkD,MAAM,CAAC1E,MAAOmB,EAAIoF,MAAMiG,MAAO5H,SAAS,SAAUC,GAAM1D,EAAIiK,KAAKjK,EAAIoF,MAAO,QAAS1B,IAAMC,WAAW,gBAAgB,CAAC3D,EAAI+J,GAAG,+DAA+D/J,EAAI8D,KAAK5D,EAAG,eAAe,CAACG,MAAM,CAAC,GAAK,gBAAgB,MAAQ,cAAc,YAAY,UAAU,aAAa,OAAO,CAACH,EAAG,kBAAkB,CAACG,MAAM,CAAC,GAAK,UAAU,KAAO,KAAK,YAAc,eAAekD,MAAM,CAAC1E,MAAOmB,EAAIoF,MAAMkG,YAAa7H,SAAS,SAAUC,GAAM1D,EAAIiK,KAAKjK,EAAIoF,MAAO,cAAe1B,IAAMC,WAAW,wBAAwB,IAAI,GAAGzD,EAAG,eAAe,CAACU,YAAY,OAAOP,MAAM,CAAC,MAAQ,OAAO,cAAc,0BAA0B,CAACH,EAAG,eAAe,CAACG,MAAM,CAAC,GAAK,gBAAgB,MAAQ,mBAAmB,YAAY,UAAU,aAAa,OAAO,CAACH,EAAG,kBAAkB,CAACG,MAAM,CAAC,GAAK,UAAU,KAAO,KAAK,YAAc,oBAAoBkD,MAAM,CAAC1E,MAAOmB,EAAIoF,MAAMmG,gBAAiB9H,SAAS,SAAUC,GAAM1D,EAAIiK,KAAKjK,EAAIoF,MAAO,kBAAmB1B,IAAMC,WAAW,4BAA4B,GAAGzD,EAAG,eAAe,CAACG,MAAM,CAAC,GAAK,gBAAgB,MAAQ,0BAA0B,YAAY,UAAU,aAAa,OAAO,CAACH,EAAG,kBAAkB,CAACG,MAAM,CAAC,GAAK,UAAU,KAAO,KAAK,YAAc,2BAA2BkD,MAAM,CAAC1E,MAAOmB,EAAIoF,MAAMoG,uBAAwB/H,SAAS,SAAUC,GAAM1D,EAAIiK,KAAKjK,EAAIoF,MAAO,yBAA0B1B,IAAMC,WAAW,mCAAmC,GAAGzD,EAAG,eAAe,CAACG,MAAM,CAAC,GAAK,gBAAgB,MAAQ,aAAa,YAAY,UAAU,aAAa,OAAO,CAACH,EAAG,kBAAkB,CAACG,MAAM,CAAC,GAAK,UAAU,KAAO,KAAK,YAAc,cAAckD,MAAM,CAAC1E,MAAOmB,EAAIoF,MAAMqG,UAAWhI,SAAS,SAAUC,GAAM1D,EAAIiK,KAAKjK,EAAIoF,MAAO,YAAa1B,IAAMC,WAAW,sBAAsB,GAAGzD,EAAG,eAAe,CAACG,MAAM,CAAC,GAAK,gBAAgB,MAAQ,oBAAoB,YAAY,UAAU,aAAa,OAAO,CAACH,EAAG,kBAAkB,CAACG,MAAM,CAAC,GAAK,UAAU,KAAO,KAAK,YAAc,qBAAqBkD,MAAM,CAAC1E,MAAOmB,EAAIoF,MAAMsG,iBAAkBjI,SAAS,SAAUC,GAAM1D,EAAIiK,KAAKjK,EAAIoF,MAAO,mBAAoB1B,IAAMC,WAAW,6BAA6B,IAAI,IAAI,IAAI,IAEzpGvD,EAAkB,GC+GP,GACfxG,OACA,UAIAmI,QAAA,CACAmH,UAAA,SAAAyC,GACAA,GACA,KAAAvG,MAAA+D,QAAA,KAAA/D,MAAA+D,OAAA,GACA,KAAA/D,MAAA8F,MAAAU,YAAA,iBAEA,KAAAxG,MAAA+D,MAAA,KAAA/D,MAAA8F,MAAAU,YAAA,aACA,KAAAxG,MAAA8F,MAAAU,YAAA,KAEAzC,MAAA,SAAAwC,GACAA,GACA,KAAAvG,MAAA8D,YAAA,KAAA9D,MAAA8D,WAAA,GACA,KAAA9D,MAAA8F,MAAAU,YAAA,cAEA,KAAAxG,MAAA8D,UAAA,KAAA9D,MAAA8F,MAAAU,YAAA,gBACA,KAAAxG,MAAA8F,MAAAU,YAAA,MAGAd,MAAA,CACA1F,MAAA/K,OACAgL,GAAA0F,OACAc,MAAAC,UC5IkV,ICO9U,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,I,QCfA,MAAMC,EAWjBjD,YAAYkD,EAAQvO,EAAQ6D,EAAM/D,EAAO,cACzCyL,eAAA,cAXS,IAAEA,eAAA,cACF,IAAEA,eAAA,YACJ,IAAEA,eAAA,YACF,cAAcA,eAAA,UAEhB,IAAIA,eAAA,eACC,IAMN/I,KAAK+L,OAASA,EACd/L,KAAKxC,OAASA,EACdwC,KAAKqB,KAAOA,EACZrB,KAAK1C,KAAOA,EACZ0C,KAAKgM,SAAW,GAEhBhM,KAAKiM,QAAQxR,KAAK,CAAEmE,MAAO,EAAGsN,WAAY,KAAM1C,MAAO,IAEnDxJ,KAAKqB,MAAMrB,KAAKmM,eAKxBA,eACInM,KAAKqB,KAAK+K,IAAI,CAAC,OAAwB,cAAbpM,KAAK1C,KAAwB,MAAQ,WAGnE4N,MAAM9F,GACFpF,KAAKoF,GAAKA,EACVpF,KAAKqB,KAAK+D,GAAKA,EACf3F,QAAQ6H,IAAItH,KAAKqB,MAGrB,WACI,OAAOrB,KAAK1C,KAGhB,aACI,OAAO0C,KAAK+L,OAGhB,aACI,OAAO/L,KAAKxC,OAGhB,aACI,IAAIuO,EAAS,CACTM,EAAGrM,KAAK+L,OAAOO,QAAQC,GAAGF,EAAKrM,KAAK+L,OAAOO,QAAQE,GAAGH,EAAI,EAC1DI,EAAGzM,KAAK+L,OAAOO,QAAQE,GAAGC,EAAKzM,KAAK+L,OAAOO,QAAQC,GAAGE,EAAI,GAE1DjP,EAAS,CACT6O,EAAGrM,KAAKxC,OAAO8O,QAAQC,GAAGF,EAAKrM,KAAKxC,OAAO8O,QAAQE,GAAGH,EAAI,EAC1DI,EAAGzM,KAAKxC,OAAO8O,QAAQE,GAAGC,EAAKzM,KAAKxC,OAAO8O,QAAQC,GAAGE,EAAI,GAE9D,OAAO7F,KAAK8F,KAAK9F,KAAK+F,IAAIZ,EAAOM,EAAI7O,EAAO6O,EAAG,GAAKzF,KAAK+F,IAAIZ,EAAOU,EAAIjP,EAAOiP,EAAE,KC5DzF,IAAI3M,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,SAAS,CAACG,MAAM,CAAC,GAAKL,EAAIqF,KAAK,CAACnF,EAAG,eAAe,CAACU,YAAY,OAAOP,MAAM,CAAC,MAAQ,kBAAkB,cAAc,0BAA0B,CAACH,EAAG,eAAe,CAACG,MAAM,CAAC,GAAK,mBAAmB,MAAQ,OAAO,YAAY,aAAa,aAAa,QAAQH,EAAG,gBAAgB,CAACG,MAAM,CAAC,GAAK,aAAa,KAAO,KAAK,QAAUL,EAAI6M,kBAAkBC,gBAAgBpM,GAAG,CAAC,OAASV,EAAIoM,cAAc7I,MAAM,CAAC1E,MAAOmB,EAAIsF,WAAW/H,KAAMkG,SAAS,SAAUC,GAAM1D,EAAIiK,KAAKjK,EAAIsF,WAAY,OAAQ5B,IAAMC,WAAW,qBAAqBzD,EAAG,KAA6B,WAAvBF,EAAIsF,WAAW/H,KAAmB2C,EAAG,MAAM,CAACA,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,YAAY,aAAa,OAAO,CAACL,EAAI+M,GAAI/M,EAAIsF,WAAW4G,SAAS,SAASc,GAAQ,OAAO9M,EAAG,MAAM,CAACf,IAAI6N,EAAOvD,OAAO,CAACvJ,EAAG,SAAS,CAACG,MAAM,CAAC,UAAU,KAAK,CAACH,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,KAAK,CAACH,EAAG,oBAAoB,CAACA,EAAG,gBAAgB,CAACG,MAAM,CAAC,GAAK,oBAAoB,KAAO,KAAK,QAAUL,EAAI6M,kBAAkBV,YAAY5I,MAAM,CAAC1E,MAAOmO,EAAOb,WAAY1I,SAAS,SAAUC,GAAM1D,EAAIiK,KAAK+C,EAAQ,aAActJ,IAAMC,WAAW,wBAAwB,GAAGzD,EAAG,oBAAoB,CAACA,EAAG,eAAe,CAACG,MAAM,CAAC,GAAK,eAAe,KAAO,SAAS,KAAO,KAAK,IAAM,IAAI,IAAM,KAAKkD,MAAM,CAAC1E,MAAOmO,EAAOnO,MAAO4E,SAAS,SAAUC,GAAM1D,EAAIiK,KAAK+C,EAAQ,QAAStJ,IAAMC,WAAW,mBAAmB,IAAI,IAAI,GAAGzD,EAAG,MAAM,MAAKA,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,GAAG,KAAO,MAAMK,GAAG,CAAC,MAAQV,EAAIiN,gBAAgB,CAAC/M,EAAG,gBAAgB,GAAGF,EAAI+J,GAAG,IAAI/J,EAAIgK,GAAG,KAAK,0BAA0B9J,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,GAAG,SAAWL,EAAIsF,WAAW4G,QAAQ9R,OAAS,EAAE,KAAO,MAAMsG,GAAG,CAAC,MAAQ,SAASwM,GAAQ,OAAOlN,EAAIsF,WAAW4G,QAAQiB,SAAS,CAACjN,EAAG,gBAAgB,IAAI,IAAI,GAAGF,EAAI8D,KAAK5D,EAAG,eAAe,CAACG,MAAM,CAAC,GAAK,qBAAqB,MAAQ,SAAS,YAAY,eAAe,aAAa,OAAO,CAACH,EAAG,eAAe,CAACG,MAAM,CAAC,GAAK,eAAe,KAAO,KAAK,SAAW,IAAIkD,MAAM,CAAC1E,MAAOmB,EAAI5F,OAAQqJ,SAAS,SAAUC,GAAM1D,EAAI5F,OAAOsJ,GAAKC,WAAW,aAAa,IAAI,IAAI,IAAI,IAE3/DvD,EAAkB,GC0HP,GACfxG,OACA,OACAiT,kBAAA,CACAC,eAAA,CACA,CAAAjO,MAAA,aAAA+L,KAAA,cACA,CAAA/L,MAAA,UAAA+L,KAAA,YAEAuB,WAAA,CACA,CAAAtN,MAAA,KAAA+L,KAAA,MACA,CAAA/L,MAAA,OAAA+L,KAAA,QACA,CAAA/L,MAAA,QAAA+L,KAAA,SACA,CAAA/L,MAAA,SAAA+L,KAAA,cAKAE,MAAA,CACAxF,WAAAjL,OACAgL,GAAA+H,OACAvB,MAAAC,SAEA/J,QAAA,CACAqK,aAAA,WACA,KAAA9G,WAAA8G,gBAEAa,cAAA,WAEA,KAAA3H,WAAA4G,QAAAxR,KAAA,CAAAmE,MAAA,EAAAsN,WAAA,KAAA1C,MAAA,KAAAnE,WAAA4G,QAAA9R,WAGAsI,SAAA,CACAY,MAAA,WACA,YAAA+J,WAAA,WAAAC,YAEAD,WAAA,WACA,eAAA/H,WAAA0G,OAAA5G,MAAAgG,OAAA,KAAA9F,WAAA0G,OAAA5G,MAAAgG,OAAAvB,WAAA,KAAAvE,WAAA0G,OAAA5G,MAAAC,IAEAiI,WAAA,WACA,eAAAhI,WAAA7H,OAAA2H,MAAAgG,OAAA,KAAA9F,WAAA7H,OAAA2H,MAAAgG,OAAAvB,WAAA,KAAAvE,WAAA7H,OAAA2H,MAAAC,IAEAjL,OAAA,WACA,YAAAkL,WAAA,KAAAA,WAAAlL,OAAAmT,QAAA,cCtKuV,ICOnV,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,K,QClBXxN,GAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,WAAW,GAAK,WAAW,MAAQL,EAAIqD,MAAM,MAAQ,WAAW,MAAQ,GAAG,OAAS,IAAI3C,GAAG,CAAC,MAAQV,EAAIwN,QAAQ,OAASxN,EAAIyN,QAAQ,CAACvN,EAAG,MAAM,CAACiD,YAAY,CAAC,QAAU,SAAS,CAACjD,EAAG,SAAS,CAACG,MAAM,CAAC,GAAK,gBAAgB,UAAU,GAAG,OAAS,SAASK,GAAG,CAAC,MAAQV,EAAIyN,QAAQ,CAACvN,EAAG,gBAAgB,CAACU,YAAY,MAAMP,MAAM,CAAC,aAAa,SAAS,KAAO,QAAQ,CAACH,EAAG,WAAW,CAACI,WAAW,CAAC,CAAC3C,KAAK,WAAW4C,QAAQ,oCAAoCC,UAAU,CAAC,0BAAyB,KAAQH,MAAM,CAAC,MAAQ,GAAG,QAAUL,EAAI0N,sBAAsB,CAAC1N,EAAI+J,GAAG,oBAAoB,GAAG7J,EAAG,aAAa,CAACG,MAAM,CAAC,QAAU,GAAG,GAAK,2BAA2B,CAACH,EAAG,SAAS,CAACG,MAAM,CAAC,UAAU,GAAG,iBAAiBL,EAAI2N,UAAU,wBAAwB3N,EAAI2N,YAAY,CAACzN,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,KAAK,CAACH,EAAG,oBAAoB,CAACU,YAAY,qDAAqD,CAAEZ,EAAI4N,kBAAmB1N,EAAG,sBAAsB,CAACG,MAAM,CAAC,QAAU,aAAaH,EAAG,kBAAkB,CAACG,MAAM,CAAC,QAAU,YAAYL,EAAI+J,GAAG,yEAAyE,GAAG7J,EAAG,oBAAoB,CAACU,YAAY,qDAAqD,CAAEZ,EAAI6N,cAAe3N,EAAG,sBAAsB,CAACG,MAAM,CAAC,QAAU,aAAaH,EAAG,kBAAkB,CAACG,MAAM,CAAC,QAAU,YAAYL,EAAI+J,GAAG,sEAAsE,GAAG7J,EAAG,oBAAoB,CAACU,YAAY,qDAAqD,CAAEZ,EAAI8N,gBAAiB5N,EAAG,sBAAsB,CAACG,MAAM,CAAC,QAAU,aAAaH,EAAG,kBAAkB,CAACG,MAAM,CAAC,QAAU,YAAYL,EAAI+J,GAAG,4EAA4E,GAAG7J,EAAG,oBAAoB,CAACU,YAAY,qDAAqD,CAAEZ,EAAI+N,qBAAsB7N,EAAG,sBAAsB,CAACG,MAAM,CAAC,QAAU,aAAaH,EAAG,kBAAkB,CAACG,MAAM,CAAC,QAAU,YAAYL,EAAI+J,GAAG,iFAAiF,GAAG7J,EAAG,oBAAoB,CAACU,YAAY,qDAAqD,CAAEZ,EAAIgO,uBAAwB9N,EAAG,sBAAsB,CAACG,MAAM,CAAC,QAAU,aAAaH,EAAG,kBAAkB,CAACG,MAAM,CAAC,QAAU,YAAYL,EAAI+J,GAAG,oFAAoF,IAAI,IAAI,IAAI,IAAI,GAAG7J,EAAG,KAAKA,EAAG,SAAS,CAACA,EAAG,eAAe,CAACU,YAAY,OAAOP,MAAM,CAAC,MAAQ,uBAAuB,cAAc,0BAA0B,CAACH,EAAG,SAAS,CAACG,MAAM,CAAC,UAAU,KAAK,CAACH,EAAG,gBAAgB,CAACG,MAAM,CAAC,OAAS,YAAYK,GAAG,CAAC,MAAQ,SAASwM,GAAQlN,EAAIiO,sBAAwBjO,EAAIiO,yBAAyB/N,EAAG,aAAa,CAACqD,MAAM,CAAC1E,MAAOmB,EAAIiO,qBAAsBxK,SAAS,SAAUC,GAAM1D,EAAIiO,qBAAqBvK,GAAKC,WAAW,yBAAyB,CAACzD,EAAG,cAAc,CAACA,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,eAAe,aAAa,KAAK,UAAYL,EAAIkO,iBAAiB,CAAChO,EAAG,eAAe,CAACG,MAAM,CAAC,KAAO,MAAMkD,MAAM,CAAC1E,MAAOmB,EAAImO,YAAa1K,SAAS,SAAUC,GAAM1D,EAAImO,YAAYzK,GAAKC,WAAW,kBAAkB,GAAGzD,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,qBAAqB,aAAa,OAAO,CAACH,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,KAAK,UAAYL,EAAIkO,gBAAgB3K,MAAM,CAAC1E,MAAOmB,EAAIoO,uBAAwB3K,SAAS,SAAUC,GAAM1D,EAAIoO,uBAAuB1K,GAAKC,WAAW,6BAA6B,GAAGzD,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,QAAQ,aAAa,OAAO,CAACH,EAAG,eAAe,CAACG,MAAM,CAAC,KAAO,KAAK,KAAO,QAAQ,IAAM,IAAI,IAAM,IAAI,UAAW,GAAMkD,MAAM,CAAC1E,MAAOmB,EAAIqO,eAAgB5K,SAAS,SAAUC,GAAM1D,EAAIqO,eAAe3K,GAAKC,WAAW,qBAAqB,GAAI3D,EAAIsO,cAAepO,EAAG,WAAW,CAACG,MAAM,CAAC,MAAQ,GAAG,QAAU,UAAU,UAAYL,EAAIkO,gBAAgBxN,GAAG,CAAC,MAAQV,EAAIuO,WAAW,CAACrO,EAAG,qBAAqB,GAAGA,EAAG,WAAW,CAACG,MAAM,CAAC,MAAQ,GAAG,QAAU,UAAUK,GAAG,CAAC,MAAQV,EAAIyN,QAAQ,CAACvN,EAAG,0BAA0B,IAAI,IAAI,IAAI,GAAGA,EAAG,KAAKA,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,iCAAiC,aAAa,OAAO,CAACH,EAAG,eAAe,CAACG,MAAM,CAAC,KAAO,KAAK,UAAW,GAAMkD,MAAM,CAAC1E,MAAOmB,EAAIwO,QAAQpU,OAAQqJ,SAAS,SAAUC,GAAM1D,EAAIiK,KAAKjK,EAAIwO,QAAS,SAAU9K,IAAMC,WAAW,qBAAqB,GAAGzD,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,wBAAwB,aAAa,OAAO,CAACH,EAAG,eAAe,CAACG,MAAM,CAAC,KAAO,KAAK,UAAW,GAAMkD,MAAM,CAAC1E,MAAOmB,EAAIyO,oBAAqBhL,SAAS,SAAUC,GAAM1D,EAAIyO,oBAAoB/K,GAAKC,WAAW,0BAA0B,IAAI,IAAI,IAAI,GAAGzD,EAAG,MAAM,CAACiD,YAAY,CAAC,QAAU,SAAS,CAACjD,EAAG,WAAW,CAACG,MAAM,CAAC,MAAQ,GAAG,UAAYL,EAAIkO,gBAA2C,GAAzBlO,EAAI0O,WAAWtU,QAAasG,GAAG,CAAC,MAAQV,EAAIiD,WAAW,CAAC/C,EAAG,kCAAkCA,EAAG,KAAK,CAACF,EAAI+J,GAAG,8BAA8B,IAAI,MAEttJ3J,GAAkB,GCIP,MAAMuO,GAMjB7F,YAAYM,EAAQwF,GACpB5F,eAAA,cALS,IAAEA,eAAA,mBACG,IAAEA,eAAA,gBACL,IAIP/I,KAAKmJ,OAASA,EACdnJ,KAAK2O,YAAcA,EAGvBC,mBAKAC,aAEI,IAAIA,EAAa,GAGjB,OAFA7O,KAAKmJ,OAAO2F,QAAQ3J,GAAS0J,GAAe1J,EAAMC,GAAK,MACvDyJ,EAAaA,EAAWhP,MAAM,EAAGgP,EAAW1U,OAAS,GAC9C0U,EAGXE,oBAEI,IAAIC,EAAmB,GAMvB,OALAhP,KAAK2O,YAAYG,QAAQzJ,IAEjB2J,GAAoB3J,EAAW0G,OAAO3G,GAAK,MAAQC,EAAW7H,OAAO4H,GAAK,OAElF4J,EAAmBA,EAAiBnP,MAAM,EAAGmP,EAAiB7U,OAAS,GAChE6U,GCjCA,MAAMC,GASjBpG,YAAYI,EAAW0F,EAAaO,GAAQ,GAC5CnG,eAAA,qBAAAA,eAAA,uBAAAA,eAAA,YAPO,IAAEA,eAAA,aACD,IAAEA,eAAA,6BAAAA,eAAA,8BAAAA,eAAA,oBAON/I,KAAK6J,MAAQ8E,EACb3O,KAAKmP,QAAUlG,EACfjJ,KAAKoP,KAAK3U,KAAKwO,GAEfjJ,KAAKkP,MAAQA,EAEb,OAAQlP,KAAKqP,KACTrP,KAAKsP,OAGbA,OAEI,GAAItP,KAAKqP,KACL,OAEJ,IAAIC,EAAO1I,KAAK2I,MAAsB,EAAhB3I,KAAK4I,UAAgB,EAC3CxP,KAAKyP,MAAMhV,KAAK6U,GAChBtP,KAAK0P,OAAO,UAAYJ,GACxBtP,KAAK2P,UAAUL,GAGnBK,UAAUL,GAENtP,KAAK0P,OAAO,YAAcJ,EAAO,OAAStP,KAAKmP,QAAQ/J,IACvD,IAAIwK,EAAO5P,KAAKmP,QACZU,EAAqB7P,KAAK8P,wBAAwB9P,KAAKmP,SACvDU,EAAmB1V,OAAS,GAE5B0V,EAAmBf,QAAQzJ,IAEnBA,EAAW4G,QAAQ6C,QAAQ/B,IAEvB,OAAOA,EAAOb,YAEV,IAAK,KACGoD,GAAQvC,EAAOnO,QAAOgR,EAAOvK,EAAW7H,OAAO2H,OACnD,MACJ,IAAK,OACGmK,EAAOvC,EAAOnO,QAAOgR,EAAOvK,EAAW7H,OAAO2H,OAClD,MACJ,IAAK,QACGmK,EAAOvC,EAAOnO,QAAOgR,EAAOvK,EAAW7H,OAAO2H,OAClD,MACJ,IAAK,SACGmK,GAAQvC,EAAOnO,QAAOgR,EAAOvK,EAAW7H,OAAO2H,OACnD,MACJ,QACI,gBAKZvH,GAARgS,IAAmBA,EAAQ5P,KAAK+P,YAAYT,IAASM,GACzD5P,KAAKgQ,MAAMJ,GAGfI,MAAM7K,GAEFnF,KAAK0P,OAAO,WAAavK,EAAMC,IAC3BpF,KAAKiQ,SAITjQ,KAAKmP,QAAUhK,EACfnF,KAAKoP,KAAK3U,KAAKuF,KAAKmP,SAEhBnP,KAAKmP,QAAQjG,QAAOlJ,KAAKqP,MAAO,GAGxCU,YAAYG,GAERlQ,KAAK0P,OAAO,cAAgBQ,EAAS,SAAWlQ,KAAKmP,QAAQ/J,IAC7D,IAAID,EAAQnF,KAAKmP,QACjB,MAAOe,EAAS,EAChB,CACI,GAAI/K,EAAM+D,MAEN,OAAI/D,EAAMiG,MAAcpL,KAAKmQ,aAAahL,EAAO+K,GAC1C/K,EAEX,IAAIE,EAAarF,KAAKoQ,0BAA0BjL,GAChD,IAAKE,EAAY,OAAO,EACxBF,EAAQE,EAAW7H,OAAO2H,MAC1B+K,IAEJ,OAAO/K,EAGXgL,aAAaE,EAAMH,GAEflQ,KAAK0P,OAAO,eAAiBQ,EAAS,SAAWG,EAAKjL,IACtD,IAAID,EAAQkL,EACZ,MAAOH,EAAS,EAChB,CACI,GAAI/K,EAAM8D,UAAW,OAAO9D,EAC5B,IAAIE,EAAarF,KAAKsQ,uBAAuBnL,GAC7CA,EAAQE,EAAW0G,OAAO5G,MAC1B+K,IAEJ,OAAO/K,EAGXiL,0BAA0BjL,GAEtBnF,KAAK0P,OAAO,iCAAmCvK,EAAMC,IACrD,IAAImL,GAAuB,EAQ3B,OAPAvQ,KAAK6J,MAAMiF,QAAQzJ,IAEPA,EAAW0G,OAAO3G,IAAMD,EAAMC,IAAyB,cAAnBC,EAAW/H,OAE/CiT,EAAuBlL,KAG5BkL,EAGXT,wBAAwB3K,GAEpBnF,KAAK0P,OAAO,0BACZ,IAAIf,EAAc,GAQlB,OAPA3O,KAAK6J,MAAMiF,QAAQzJ,IAEPA,EAAW0G,OAAO3G,IAAMD,EAAMC,IAAyB,WAAnBC,EAAW/H,MAE/CqR,EAAYlU,KAAK4K,KAGtBsJ,EAGX2B,uBAAuBnL,GAEnBnF,KAAK0P,OAAO,8BAAgCvK,EAAMC,IAClD,IAAImL,EAAuB,GAQ3B,OAPAvQ,KAAK6J,MAAMiF,QAAQzJ,IAEPA,EAAW7H,OAAO4H,IAAMD,EAAMC,IAAyB,cAAnBC,EAAW/H,OAE/CiT,EAAuBlL,KAG5BkL,EAGXb,OAAOc,GAECxQ,KAAKkP,OAAOzP,QAAQ6H,IAAIkJ,ICnCrB,QACf9N,UACAuC,GAAAtC,IAAA,uBAEA,KAAA8N,eAEAxL,GAAAtC,IAAA,mBAEA,KAAA8N,eAEAxL,GAAAtC,IAAA,cAEA,KAAA8N,gBAGA7N,YAGAjJ,OACA,OACA+W,OAAA,GACApN,MAAA,GACAsF,MAAA,GACA+H,OAAA,GACAC,YAAA,GACAC,QAAA,GACAC,aAAA,GACAC,OAAA,EACAC,QAAA,EACA9C,YAAA,EACAC,wBAAA,EACAC,eAAA,EACAG,QAAA,GACA0C,aAAA,GACA5C,eAAA,EACAI,WAAA,GACAyC,sBAAA,EACAlD,sBAAA,IAGAvL,SAAA,CACAW,QAEA,eAEA6F,YAEA,YAAA0H,OAAAQ,KAAAhM,KAAA8D,YAEAC,QAEA,YAAAyH,OAAAQ,KAAAhM,KAAA+D,QAEAyE,oBAEA,aAAA1E,WAGA2E,gBAEA,aAAA1E,OAGAkI,oBAEA,aAAAR,YAAAO,KAAA9L,GAAA,WAAAA,EAAA/H,OAGA+T,QAEA,YAAAC,UAAA,KAAArI,YAEA4E,kBAEA,cAAA5E,YAAA,KAAAC,QACA,QAAAmI,MAAAlX,QAGAoX,iBAEA,YAAAZ,OAAAxW,QAEA2T,uBAGA,UAEAC,yBAGA,UAEAyD,UAEA,cAAAvI,WAAA,KAAAC,OAAA,KAAA2E,iBAAA,KAAAC,sBAAA,KAAAC,yBAKAL,YAEA,YAAA8D,QAAA,UACA,UAEA/D,sBAEA,YAAA+D,QAAA,kBACA,kBAEAC,YAEA,cAAAvD,YAAA,GAGAD,iBAEA,YAAAuD,SAAA,KAAAnD,eAEAG,sBAEA,IAAAkD,EAAA,KAAAnD,QAAA,KAAAA,QAAApU,OAAA,GACA,OAAAuX,IAAAtC,KAAAjV,OACA,IAGA4Q,WAAA,GAGAjJ,QAAA,CACA2O,aAEA,IAAAkB,EAAA,GACA1M,GAAAwL,WAAAkB,GACA,KAAA/I,MAAA+I,EAAA/I,MACA,KAAA+H,OAAAgB,EAAAhB,OACA,KAAAC,YAAAe,EAAAf,aAEAgB,YAEA,IAAAD,EAAA,GACA1M,GAAA2M,UAAAD,GACA,KAAAjB,OAAAiB,EAAAjB,QAEAnD,UAWA,GATA,KAAAC,QACA,KAAAiD,aACA,KAAAmB,YAEAnS,QAAA6H,IAAA,sCAAAqG,kBACA,0BAAAC,cACA,kBAAA2D,eACA,8BAAA1D,kBAEA,KAAAwD,MAAA,OAGA,IAAAQ,EAAA,2BAAAR,MAAAlX,OAAA,MACA,QAAAF,EAAA,EAAAA,EAAA,KAAAoX,MAAAlX,OAAAF,IAEA4X,GAAA5X,EAAA,QACA4X,GAAA,KAAAR,MAAApX,GAAA4U,aAAA,OACAgD,GAAA,KAAAR,MAAApX,GAAA8U,oBAAA,KAEAtP,QAAA6H,IAAAuK,EAAA,KAAAR,QAEA/C,WAEA,KAAAd,QACA,KAAAa,eAAA,EAEA,KAAAmD,UAEA,KAAAM,aACA,KAAAC,gBACA,KAAAC,gBAGAF,aAEA,KAAApB,OAAAD,aAAA3B,QAAA7D,IAEA,IAAAgH,GAAA,EACA,YAAAhH,EAAA3N,KAEA2U,EAAA,IAAAzL,YAAA0L,SAAA,CACAC,GAAAlH,EAAAkH,GACAC,GAAAnH,EAAAmH,KAGA,aAAAnH,EAAA3N,OAEA2U,EAAA,IAAAzL,YAAA6L,UAAA,CACAjP,MAAA6H,EAAA7H,MACA0D,OAAAmE,EAAAnE,UAIAmL,IAEAA,EAAAK,KAAA,EAEAL,EAAA7M,GAAA6F,EAAA7F,GACA6M,EAAAM,KAAAtH,EAAAsH,KACAN,EAAAtQ,IAAAsJ,EAAAtJ,IAEAsQ,EAAAO,YAAA,EACAP,EAAAQ,YAAA,EACAR,EAAAS,QAAA,EACAT,EAAAU,KAAA,mBAEA1H,EAAAgH,YACA,KAAAxD,WAAAhU,KAAAwX,GACA,KAAAvB,OAAAkC,IAAAX,OAIAF,gBAEA,QAAA9X,EAAA,EAAAA,EAAA,KAAAiU,YAAAjU,IACA,CACA,IAAA4Y,EAAA,IAAA5D,GAAA,KAAAhG,UAAA,KAAA2H,aACA,KAAAC,QAAApW,KAAAoY,GACA,IAAAC,EAAA,IAAAtM,YAAAuM,YAAA,CAAA3N,GAAAnL,EAAA,GAAA4Y,EAAA,KAAA5J,WACA,KAAA6H,aAAArW,KAAAqY,GACA,KAAApC,OAAAkC,IAAAE,GAEArT,QAAA6H,IAAA,iBAAA4G,YAAA,SAAA2C,UAEAmB,cAGA,GADA,KAAAjB,QAAA,EACA,KAAAA,OAAA,KAAA7C,YAAA,EACA,CACA,QAAAK,QAAApU,OAAA,IAEA,QAAA8W,aAAA9W,QACA,KAAAoU,QAAAO,QAAA+D,GAAA,KAAA5B,aAAAxW,KAAAoY,IAEA,KAAA1E,wBAAA,KAAAI,QAAApU,QAAA,KAAA+T,aAGA,YADA,KAAA8E,kBAIA,KAAAjC,OAAA,EACA,KAAAC,SAAA,EAGA,IAAA8B,EAAA,KAAAhC,aAAA,KAAAC,QACA,GAAA+B,EACA,GAAAA,EAAAG,YAAAH,EAAA1D,KAAAjV,OAAA,EAEA,KAAA6X,kBACA,CACA,IAAA7C,EAAA2D,EAAA1D,KAAA0D,EAAAG,aACA9D,EAAAjG,OACA,KAAAqF,QAAA9T,KAAAqY,GAEA3D,EAAAlE,MAAAgH,UAAAS,SAAA,KAAAjB,UACAtC,EAAAlE,MAAAgH,UAAAK,MAAA,EAEA,KAAAY,aAAAJ,EAAA,KAAAd,eAGAkB,aAAAjI,EAAAzH,GAEA,GAAAyH,EAAAgI,YAAAhI,EAAAmE,KAAAjV,OAAA,EAGA,YADAqJ,IAIA,MAAAyH,EAAAgI,YAIA,OAFAhI,EAAAgI,aAAA,OACAzP,IAIA,IAAA4K,EAAA,KAAAA,eACA+E,EAAAlI,EAAAmI,kBAEAnI,EAAAoI,QAAA,MAAAF,EAAAZ,KAAA,IAAAY,EAAAxR,KACA,CACA2R,SAAAlF,EACAmF,SAAA,KAAA7C,OAAA8C,UAAArU,KAAA,KAAAuR,QACA+C,WAAA,WAEAxI,EAAAgI,aAAA,EACAzP,KAEAkQ,OAAAlN,YAAAmN,KAAAC,KAAAC,eAGAb,kBAEA,KAAA3E,eAAA,EACA5O,QAAA6H,IAAA,sCAAA2J,aAAA,GAAAgC,YAAA,mBAAAhC,aAAA9W,OAAA,SAAA8W,cACAxR,QAAA6H,IAAA,KAAA0J,QAAA,4BAEAM,UAAAwC,EAAAC,EAAA,GAAAC,EAAA,GAAAC,EAAA,GAAA5C,EAAA,IAEA,IAAAyC,EAAA,OAUA,GARA,GAAAC,EAAA5Z,QAAA,GAAA6Z,EAAA7Z,SACA4Z,EAAA,SAAAnD,cAEAoD,EAAAE,SAAAJ,IAEAE,EAAAvZ,KAAAqZ,GAGA,GAAAA,EAAA5K,MAGA,OADAmI,EAAA5W,KAAA,IAAAiU,GAAAsF,EAAAC,IACA5C,EAGA,IAAA8C,EAAA,GAiBA,OAhBAJ,EAAAjF,QAAAsF,MAAArI,OAAA3G,IAAA0O,EAAA1O,IAAA+O,EAAA1Z,KAAA2Z,KAEAD,EAAArF,QAAAsF,IAEAL,EAAA1Y,OAAA0Y,EAAAM,QAAAD,GAAA,GACA,IAAAE,EAAAF,EAAA5W,OAAA2H,MACA6O,EAAAE,SAAAI,GACA,KAAAhD,UAAAwC,EAAA,IAAAC,GAAA,IAAAC,GAAA,IAAAC,GAAA5C,IAIA4C,EAAAxZ,KAAA2Z,GACA,KAAA9C,UAAAgD,EAAA,IAAAP,GAAA,IAAAC,GAAA,IAAAC,GAAA5C,IAEA4C,EAAA/G,QAEAmE,GAEA7D,QAEA,KAAAqD,UAAA,KAAAA,QAAA,IACA,KAAAC,aAAAhC,QAAA7D,IAAA,KAAAyF,OAAAhI,OAAAuC,KACA,KAAAwD,WAAAK,QAAA3J,IAAA,KAAAuL,OAAAhI,OAAAvD,KACA,KAAA4L,OAAA,EACA,KAAAC,QAAA,EACA,KAAAF,aAAA,GACA,KAAArC,WAAA,GACA,KAAAwC,aAAA,GACA,KAAA1C,QAAA,GACA,KAAAF,eAAA,GAEArL,WAGA,IAAAkF,EAAA,CAAAqJ,eAAA,KAAAA,eAAAF,MAAA,SAAAA,OAAAR,QAAA,SAAAA,SAAA0D,gBAAA,KAAAtD,aAAA,GAAAgC,aACAuB,EAAA,KAAA5L,MAAA,GAAAjE,SAAA0E,MAAA,KAAAxJ,MAAA,MAAAyJ,KAAA,qBACA7J,QAAA6H,IAAAY,GACAA,EAAAmJ,MAAAvC,QAAAM,IAEAA,EAAAT,YAAAG,QAAAzJ,IAEAA,EAAA0G,OAAA1G,EAAA0G,OAAA3G,GACAC,EAAA7H,OAAA6H,EAAA7H,OAAA4H,GACAC,EAAAhE,KAAA+D,GAAAC,EAAAD,GACAC,EAAAhE,KAAAgE,EAAAD,GACAC,EAAA2G,SAAA,OAEAoD,EAAAjG,OAAA2F,QAAA3J,IAEAA,EAAA8F,MAAA9F,EAAA8F,MAAA7F,OAIA,IAAAb,EAAA,IAAAkQ,KAAA,CAAAC,KAAAC,UAAAzM,EAAA,UAAA5K,KAAA,qBACAsX,oBAAArQ,EAAAiQ,GACA/U,QAAA6H,IAAA,eAAAkN,EAAA,UCvfkV,MCO9U,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,M,gCCyBA,IACf7a,OACA,OACAiP,MAAA,GACA+H,OAAA,GACAC,YAAA,KAGA/F,MAAA,CACAlH,SAAA,CACArG,KAAAuX,QAGApS,SAAA,CACAM,mBAGAuC,WACA,YAAAsD,MAAA,KAAAA,MAAAzO,OAAA,IAEA2a,WACA,YAAAnE,OAAA,KAAAA,OAAAxW,OAAA,IAEA4a,gBACA,YAAAnE,YAAA,KAAAA,YAAAzW,OAAA,KAGA4Q,WAAA,CACAiK,UAAAC,EACAC,UAAAC,EACAC,eAAAC,GACAC,SAAAC,IAEAzT,QAAA,CACA0T,WAAA,SAAAC,GACA,IAAA5L,EAAA4L,EAAA7M,MAAA,GACA8M,EAAA,IAAA9M,EAAAiB,EAAAnM,KAAA,KAAA4H,SAAAwD,OACA,UAAA6M,KAAA9L,EACA6L,EAAAC,GAAA9L,EAAA8L,GAEAD,EAAA5M,MAAA,KAAAxD,SAAAwD,MACA,KAAAF,MAAA,GACA,KAAAA,MAAAnO,KAAAib,GACAzQ,GAAA2Q,YAAA,KAAAhN,MAAA,IAEA,KAAA+H,OAAA,GACA8E,EAAA9E,OAAA7B,QAAA3J,IACA,IAAA5J,EAAA,IAAAyP,EAAA7F,GACA,UAAAwQ,KAAAxQ,EACA5J,EAAAoa,GAAAxQ,EAAAwQ,GAEA,KAAAhF,OAAAlW,KAAAc,KAGA,KAAAqV,YAAA,GACA6E,EAAA7E,YAAA9B,QAAAzJ,IACA,IAAAnH,EAAA,IAAA4N,EACA,UAAA6J,KAAAtQ,EACAnH,EAAAyX,GAAAtQ,EAAAsQ,GAEA,KAAA/E,YAAAnW,KAAAyD,KAGA+G,GAAA4Q,aAAA,CAAAjN,MAAA,KAAAA,MAAA+H,OAAA,KAAAA,OAAAC,YAAA,KAAAA,YAAAkF,cAAAL,EAAAK,kBAGApT,UACA,KAAAqT,cAAAlB,MAAAxE,KAAA9T,SAAAyZ,kBAAA,sBAEApT,UACAqC,GAAAtC,IAAA,cAAAkH,IACA,IAAAoM,EAAA,KAAA3Q,SACA,KAAAsD,MAAAnO,KAAA,IAAAmO,EAAAiB,EAAAnM,KAAAmM,EAAA5F,MACA,IAAAmB,EAAA6Q,IAAA7Q,GAAA,IACA,KAAAE,SAAAF,KACAH,GAAA2Q,YAAA,KAAAtQ,UACA7F,QAAA6H,IAAA,uBAAAhC,SAAAX,SAAA,KAAAW,YAEAL,GAAAtC,IAAA,cAAAwC,IACA,IAAA8Q,EAAA,KAAAnB,SACA,KAAAnE,OAAAlW,KAAA0K,GACA,IAAAC,EAAA6Q,IAAA7Q,GAAA,IACA,KAAA0P,SAAA5J,MAAA9F,GACA3F,QAAA6H,IAAA,uBAAAwN,YAEA7P,GAAAtC,IAAA,SAAAgP,IACA,IAAAnI,GAAA,EACA,SAAA0M,EAAAC,GAAA,OAAAA,EAAA/Q,IAAAuM,EAAAxM,MAAAC,GAEA,SAAAgR,EAAAD,GAAA,OAAAA,EAAA/Q,IAAAuM,EAAAtM,WAAAD,GAGA,GAAAuM,EAAAxM,MAAA,CACAqE,EAAA,KAAAmH,OAAA0F,UAAAH,GACA1M,GAAA,QAAAmH,OAAAtV,OAAAmO,EAAA,GAEA,IAAA8M,EAAA,GACA,QAAA1F,YAAA,CACA,KAAAA,YAAA9B,QAAAzJ,IACAA,EAAA0G,QAAA4F,IACAtM,EAAA0G,OAAA,KACAuK,EAAA7b,KAAA4K,IAEAA,EAAA7H,QAAAmU,IACAtM,EAAA7H,OAAA,KACA8Y,EAAA7b,KAAA4K,MAGA,QAAApL,EAAA,EAAAA,EAAAqc,EAAAnc,OAAAF,IACA,KAAA2W,YAAAvV,OAAA,KAAAuV,YAAAyD,QAAAiC,EAAArc,IAAA,GACAgL,GAAAsR,cAMA5E,EAAAtM,aACAmE,EAAA,KAAAoH,YAAAyF,UAAAD,GACA5M,GAAA,QAAAoH,YAAAvV,OAAAmO,EAAA,MAGAvE,GAAAtC,IAAA,mBAAA0C,IACA,IAAAmR,GAAA,EACA,KAAA5F,YAAA9B,QAAA2H,IACApR,EAAA0G,QAAA0K,EAAA1K,QAAA1G,EAAA7H,QAAAiZ,EAAAjZ,SAAAgZ,GAAA,KAEAA,IACAnR,EAAA6F,MAAAwL,KAAA,gBACAjX,QAAA6H,IAAA,uBAAAjC,GACA,KAAAuL,YAAAnW,KAAA4K,GACAJ,GAAA0R,gBAAA,KAAA/F,gBAGA3L,GAAAtC,IAAA,aAAAgP,IACAA,EAAA/I,MAAA,KAAAA,MACA+I,EAAAhB,OAAA,KAAAA,OACAgB,EAAAf,YAAA,KAAAA,cAEA3L,GAAAtC,IAAA,gBACA,IAAAuF,EAAA,CAAAU,MAAA,KAAAA,MAAA+H,OAAA,KAAAA,OAAAC,YAAA,KAAAA,YAAAkF,cAAA,IACA5N,EAAAyI,OAAA7B,QAAA3J,IAEA+C,EAAA4N,cAAArb,KAAA0K,EAAA8F,OACA9F,EAAA8F,MAAA9F,EAAA8F,MAAA7F,KAEA8C,EAAA0I,YAAA9B,QAAAzJ,IAEAA,EAAA0G,OAAA1G,EAAA0G,OAAA3G,GACAC,EAAA7H,OAAA6H,EAAA7H,OAAA4H,GACAC,EAAAhE,KAAA+D,GAAAC,EAAAD,GACA8C,EAAA4N,cAAArb,KAAA4K,EAAAhE,MACAgE,EAAAhE,KAAAgE,EAAAD,GACAC,EAAA2G,SAAA,OAEA,IAAAwI,EAAA,KAAA5L,MAAA,GAAAjE,SAAA0E,MAAA,KAAAxJ,MAAA,MAAAyJ,KAAA,aACA/E,EAAA,IAAAkQ,KAAA,CAAAC,KAAAC,UAAAzM,EAAA,UAAA5K,KAAA,qBACAsX,oBAAArQ,EAAAiQ,GACA/U,QAAA6H,IAAA,eAAAkN,EAAA,SAEAvP,GAAAtC,IAAA,SAAA4B,IACA,IAAAE,EAAA,IAAAC,WACAkS,EAAA,KACAnS,EAAAvH,OAAA,SAAAF,GACA,IAAAyY,EAAAf,KAAAmC,MAAA7Z,EAAAQ,OAAAxC,QACA4b,EAAApB,WAAAC,GACAhW,QAAA6H,IAAA,YAAA/C,EAAA7G,OAEA+G,EAAAqS,WAAAvS,KAEAU,GAAAtC,IAAA,cAEA,IAAAsB,EAAAc,GAAAgS,WACA7O,EAAA,CAAAU,MAAA,KAAAA,MAAA+H,OAAA,KAAAA,OAAAC,YAAA,KAAAA,YAAAkF,cAAA,IACA5N,EAAAyI,OAAA7B,QAAA3J,IAEAA,EAAA8F,QAAA9F,EAAA8F,MAAAyF,OAAA,MACAvL,EAAA8F,MAAA9F,EAAA8F,MAAA7F,KAEA8C,EAAA0I,YAAA9B,QAAAzJ,IAEAA,EAAA0G,OAAA1G,EAAA0G,OAAA3G,GACAC,EAAA7H,OAAA6H,EAAA7H,OAAA4H,GACAC,EAAAhE,OAEAgE,EAAAhE,KAAAqP,OAAA,KACArL,EAAAhE,KAAA+D,GAAAC,EAAAD,GACAC,EAAAhE,KAAAgE,EAAAD,GACAC,EAAA2G,SAAA,QAGA,IAAAwI,EAAAtM,EAAAU,MAAAqB,cAAA,KAAArB,MAAA,GAAAjE,SAAA0E,MAAA,KAAAxJ,MAAA,MAAAyJ,KAAA,KACA0N,EACA,CACA3T,MAAAmR,EACA3K,MAAA3B,EAAAU,MACAO,OAAAjB,EAAAyI,OACAhC,YAAAzG,EAAA0I,aAGA1K,EAAAjH,OAAAgF,EAAA+S,OClPuV,MCOnV,GAAY,eACd,GACA,EACA,GACA,EACA,KACA,WACA,MAIa,M,QClBXlX,GAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,YAAY,GAAK,YAAY,MAAQL,EAAIqD,MAAM,MAAQ,WAAW,MAAQ,GAAG,OAAS,IAAI3C,GAAG,CAAC,MAAQV,EAAIkX,KAAK,OAASlX,EAAIyN,QAAQ,CAACvN,EAAG,MAAM,CAACiD,YAAY,CAAC,QAAU,SAAS,CAACjD,EAAG,WAAW,CAACG,MAAM,CAAC,MAAQ,GAAG,QAAU,WAAWK,GAAG,CAAC,MAAQV,EAAImX,SAAS,CAACnX,EAAI+J,GAAG,aAAa,MAEjX3J,GAAkB,GCStB,IACAuC,YAGAE,YAGAjJ,OAEA,UAEA8I,SACA,CACAW,QAEA,gBAIA2H,WACA,GAGAjJ,QACA,CACAmV,SAIAzJ,UAIA0J,SAEAjS,GAAAkS,MAAA,aC9CkV,MCQ9U,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QC4CA,IACfxd,OACA,OACA4J,SAAA,EACAI,SAAA,IAAAkR,MACAhL,MAAA,KACA4L,KAAA,KACA2B,QAAA,KACAC,cAAA,KACAC,WAAA,KACAC,YAAA,KACAC,SAAA,KACAC,KAAA,IAGAhV,SAAA,CACAY,MAAA,WACA,QAAAM,SAAA,CAMA,QAAAA,SAAA,SAAAA,SAAA,GAAAwB,MACA,YAAAxB,SAAA,GAAAwB,MAAAgG,OACA,KAAAxH,SAAA,GAAAwB,MAAAgG,OAAAvB,WADA,KAAAjG,SAAA,GAAAwB,MAAAC,GAAAwE,WAGA,QAAAjG,SAAA,SAAAA,SAAA,GAAA0B,WAAA,CACA,IAAAqS,EAAA,KAAA/T,SAAA,GAAA0B,WACAgL,EAAAqH,EAAA3L,OAAA5G,MAAAgG,QAAA,IAAAuM,EAAA3L,OAAA5G,MAAAgG,OAAAuM,EAAA3L,OAAA5G,MAAAgG,OAAAvB,WAAA8N,EAAA3L,OAAA5G,MAAAC,GACAuS,EAAAD,EAAA3L,OAAA5G,MAAAgG,QAAA,IAAAuM,EAAAla,OAAA2H,MAAAgG,OAAAuM,EAAAla,OAAA2H,MAAAgG,OAAAvB,WAAA8N,EAAAla,OAAA2H,MAAAC,GACA,OAAAiL,EAAAzG,WAAA,MAAA+N,GAGA,YAAA9N,MACA,KAAAA,MAAAxG,MAEA,IAEAD,MAAA,WAIA,OAHA,SAAAqU,MACAhY,QAAA6H,IAAA,KAAAmQ,MAEA,SAEAG,gBAAA,WACA,eAAAjU,SAAAxJ,SAIA4Q,WAAA,CACA8M,iBACAC,YACAvC,YACAwC,aAEArV,UACA,KAAA4U,WAAA/a,SAAAyb,eAAA,cACA,KAAAV,WAAAW,iBAAA,cAAAC,YACA,KAAAX,YAAAhb,SAAAyb,eAAA,eACA,KAAAT,YAAAU,iBAAA,cAAAE,aACA,KAAAd,cAAAxC,MAAAxE,KAAA9T,SAAAyZ,kBAAA,mBAEApT,UACAqC,GAAAtC,IAAA,aAAAgP,IACA,KAAAyG,MAAAzG,IAEA1M,GAAAtC,IAAA,cAAAsI,IACA,IAAAoN,GAAA,EACApN,EAAA9Q,QAAA,KAAAwJ,SAAAxJ,QACA8Q,EAAAqN,MAAA,CAAAC,EAAA/O,IAAA+O,GAAA,KAAA5U,SAAA6F,MAAA6O,GAAA,GACAA,IACA,KAAA9U,UAAA0H,EAAA,IACA1O,SAAAyZ,kBAAA,oBAAA3R,SAEA,KAAAd,SAAA0H,EAAA,IAIAoN,IACA,KAAA9U,SAAA0H,EAAA,GAIA,KAAAtH,SAAAsH,IAEAhG,GAAAtC,IAAA,cAAAkH,IACA,KAAAA,UAEA5E,GAAAtC,IAAA,gBACA,KAAAgB,SAAA,IAAAkR,SAGA/S,QAAA,CACA0W,WAEAC,YAEAzV,WACAiC,GAAAjC,YAEAF,cACAvG,SAAAyb,eAAA,eAAA3T,SAEApB,aACA1G,SAAAyb,eAAA,cAAA3T,SAEAqU,aAGAP,gBAGAD,aACA,IAAA1T,EAAA,KAAA8S,WAAA9S,MACA,IAAAA,EAAArK,SACA,KAAAsb,KAAAjR,EAAA,GACAS,GAAA0T,OAAA,KAAAlD,QAEA1S,iBACA,KAAAQ,UAAA,KAAAA,SAAA,IAEAJ,iBACA,KAAAI,UAAA,KAAAA,SAAA,MC1LiV,MCQ7U,I,UAAY,eACd,GACA,EACA,GACA,EACA,KACA,WACA,OAIa,M,QCnBXzD,GAAS,WAAkB,IAAIC,EAAIC,KAAQD,EAAIG,MAAMD,GAAG,OAAOF,EAAI6Y,GAAG,IAEtEzY,GAAkB,CAAC,WAAY,IAAIJ,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACG,MAAM,CAAC,GAAK,YAAY,SAAW,aAAa,CAACH,EAAG,SAAS,CAACG,MAAM,CAAC,GAAK,WCC3JoG,YAAOsF,WAAatF,YAAOmN,KAAKkF,YAAYrS,YAAOsS,KAAM,CACrDxb,KAAM,aACN0K,OAAO,EAEP+Q,WAAY,SAASC,EAASC,GAC1BA,IAAYA,EAAU,IAEtBjZ,KAAKkZ,UAAU,aAAcF,EAASC,GACtCjZ,KAAKoM,IAAI,KAAM6M,EAAQ7T,IAAM,KAEjC+T,SAAU,WACN,OAAO3S,YAAOmN,KAAKtU,OAAO+Z,OAAOpZ,KAAKkZ,UAAU,YAAa,CACzD9T,GAAIpF,KAAKxB,IAAI,SAGrB6a,WAAY,SAASha,EAAQmE,GACzB,OAAOgD,YAAOpM,OAAOkf,YAAY,aAAcja,EAAQmE,IAG3D+V,QAAS,SAASC,GACdxZ,KAAKkZ,UAAU,UAAWM,MAOlChT,YAAO6L,UAAY7L,YAAOmN,KAAKkF,YAAYrS,YAAOiT,KAAM,CACpDnc,KAAM,YACNyb,WAAY,SAASE,GACjBA,IAAYA,EAAU,IAEtBjZ,KAAKkZ,UAAU,aAAcD,GAC7BjZ,KAAKoM,IAAI,QAAS6M,EAAQS,OAAS,IACnC1Z,KAAKoM,IAAI,KAAM6M,EAAQ7T,IAAM,KAEjC+T,SAAU,WACN,OAAO3S,YAAOmN,KAAKtU,OAAO+Z,OAAOpZ,KAAKkZ,UAAU,YAAa,CACzDQ,MAAO1Z,KAAKxB,IAAI,SAChB4G,GAAIpF,KAAKxB,IAAI,SAGrB6a,WAAY,SAASha,EAAQmE,GACzB,OAAOgD,YAAOpM,OAAOkf,YAAY,YAAaja,EAAQmE,IAE1D+V,QAAS,SAASC,GACdxZ,KAAKkZ,UAAU,UAAWM,GAE1BA,EAAIG,KAAO,iBACXH,EAAII,UAAY,OAChBJ,EAAIK,UAAY,SAChBL,EAAIM,SAAS9Z,KAAK0Z,MAAO,EAAG,IAEhC/N,YAAa,SAAS+N,GAClB1Z,KAAK0Z,MAAQA,EACb1Z,KAAK+Z,OAAQ,EACb/Z,KAAK0Q,OAAOsJ,oBAEhB9O,MAAO,SAAS9F,GACZpF,KAAKoF,GAAKA,GAEd6U,MAAO,WACH,OAAOja,KAAKoF,IAGhB8U,UAAW,WACP,IAAIvT,EAAQ3G,KAAKma,mBACjBna,KAAKoD,OAASuD,EAAMM,OACpBjH,KAAK8G,QAAUH,EAAMO,OACrBlH,KAAK2G,MAAM,MAKnBH,YAAO0L,SAAW1L,YAAOmN,KAAKkF,YAAYrS,YAAO4T,QAAS,CACtD9c,KAAM,WACNyb,WAAY,SAASE,GACjBA,IAAYA,EAAU,IAEtBjZ,KAAKkZ,UAAU,aAAcD,GAC7BjZ,KAAKoM,IAAI,QAAS6M,EAAQS,OAAS,IACnC1Z,KAAKoM,IAAI,KAAM6M,EAAQ7T,IAAM,KAEjC+T,SAAU,WACN,OAAO3S,YAAOmN,KAAKtU,OAAO+Z,OAAOpZ,KAAKkZ,UAAU,YAAa,CACzDQ,MAAO1Z,KAAKxB,IAAI,SAChB4G,GAAIpF,KAAKxB,IAAI,SAGrB6a,WAAY,SAASha,EAAQmE,GACzB,OAAOgD,YAAOpM,OAAOkf,YAAY,WAAYja,EAAQmE,IAEzD+V,QAAS,SAASC,GACdxZ,KAAKkZ,UAAU,UAAWM,GAE1BA,EAAIG,KAAO,iBACXH,EAAII,UAAY,OAChBJ,EAAIK,UAAY,SAChBL,EAAIM,SAAS9Z,KAAK0Z,MAAO,EAAG,IAEhC/N,YAAa,SAAS+N,GAClB1Z,KAAK0Z,MAAQA,EACb1Z,KAAK+Z,OAAQ,EACb/Z,KAAK0Q,OAAOsJ,oBAEhB9O,MAAO,SAAS9F,GACZpF,KAAKoF,GAAKA,GAEd6U,MAAO,WACH,OAAOja,KAAKoF,IAEhB8U,UAAW,WACP,IAAIvT,EAAQ3G,KAAKma,mBACjBna,KAAKoD,OAASuD,EAAMM,OACpBjH,KAAK8G,QAAUH,EAAMO,OACrBlH,KAAK2G,MAAM,MAInBH,YAAOuM,YAAcvM,YAAOmN,KAAKkF,YAAYrS,YAAO4T,QAChD,CACI9c,KAAM,cACNyb,WAAY,SAASE,EAASpG,EAAQ5J,GAElCgQ,IAAYA,EAAU,IAEtBjZ,KAAKiT,YAAc,EAEnBjT,KAAKkZ,UAAU,aAAcD,GAC7BjZ,KAAKqa,qBAAuBpB,EAAQzG,aAAc,EAClDxS,KAAK2S,KAAOsG,EAAQtG,MAAQ,UAC5B3S,KAAKsa,OAASrB,EAAQqB,QAAU,UAChCta,KAAKyS,YAAcwG,EAAQxG,aAAe,IAE1CzS,KAAKoF,GAAK6T,EAAQ7T,IAAM,GAExBpF,KAAKoP,KAAOyD,EAAOzD,KAEnBpP,KAAKuS,KAAO0G,EAAQ1G,MAAQvS,KAAKoT,kBAAkBb,KACnDvS,KAAK2B,IAAMsX,EAAQtX,KAAO3B,KAAKoT,kBAAkBzR,IAEjD,IAAI4Y,EAAuD,IAA/CtR,EAAUgC,MAAM7H,OAAS6F,EAAUgC,MAAMkH,IACrDnS,KAAKmS,GAAK8G,EAAQ9G,IAAMoI,EACxBva,KAAKoS,GAAK6G,EAAQ7G,IAAMmI,GAI5BhB,QAAS,SAASC,GACdxZ,KAAKkZ,UAAU,UAAWM,GAC1BA,EAAIG,KAAO,iBACXH,EAAII,UAAY,OAChBJ,EAAIK,UAAY,SAChBL,EAAIM,SAAS9Z,KAAKoF,GAAI,EAAG,IAE7BgO,gBAAiB,WAEb,IAAIoH,EAAWxa,KAAKoP,KAAKpP,KAAKiT,aAAahI,MACvC7H,EAASoX,EAASpX,OAASoX,EAASrI,GACpCrL,EAAU0T,EAAS1T,QAAU0T,EAASpI,GACtCqI,EAAU7T,KAAK2I,MAAO3I,KAAK4I,SAAWpM,EAAS,IAAgB,GAARA,EACvDsX,EAAU9T,KAAK2I,MAAO3I,KAAK4I,SAAW1I,EAAU,IAAiB,GAATA,EAExDqM,EAAc,CACd,KAAQqH,EAASjI,KAAOkI,EACxB,IAAOD,EAAS7Y,IAAM+Y,GAG1B,OAAOvH,KC5JJ,MAAMwH,GAGjB9R,YAAY6H,GAAQ3H,eAAA,cAFX,IAGL/I,KAAK0Q,OAASA,EAEd1Q,KAAK4a,YACL5a,KAAK6a,YACL7a,KAAK8a,UAKTF,YACI,IAAIlK,EAAS1Q,KAAK0Q,OAClBA,EAAOjQ,GAAG,cAAc,SAASpC,GAC7B,GAAyB,MAArBqS,EAAOqK,WAAoB,OAC/B,GAAgB,MAAZ1c,EAAEb,OAAgB,OAEtB,IAAIwd,EAAUtK,EAAOuK,WAAW5c,EAAEvC,GA2ClC,GA1CAkE,KAAKkb,QAAS,EACdlb,KAAKmb,WAAY,EAIjBnb,KAAKob,MAAQJ,EAAQ3O,EACrBrM,KAAKqb,MAAQL,EAAQvO,EAGI,YAArBiE,EAAOqK,aACP/a,KAAKiL,MAAQ,IAAIzE,YAAO6L,UAAU,CAC9BE,KAAMvS,KAAKob,MACXzZ,IAAK3B,KAAKqb,MACVC,iBAAiB,EACjBC,QAAS,OACTC,QAAS,MACTpY,MAAO4X,EAAQ3O,EAAErM,KAAKob,MACtBtU,OAAQkU,EAAQ3O,EAAErM,KAAKqb,MACvBI,MAAO,EACPnB,OAAQ,MACRZ,MAAO,GACP/G,KAAM,oBACN+I,oBAAoB,KAIH,eAArBhL,EAAOqK,aACP/a,KAAKiL,MAAQ,IAAIzE,YAAO0L,SAAS,CAC7BK,KAAMvS,KAAKob,MACXzZ,IAAK3B,KAAKqb,MACVC,iBAAiB,EACjBC,QAAS,OACTC,QAAS,MACTrJ,GAAI6I,EAAQ3O,EAAErM,KAAKob,MACnBhJ,GAAI4I,EAAQ3O,EAAErM,KAAKqb,MACnBI,MAAO,EACP9I,KAAM,oBACN2H,OAAQ,MACRoB,oBAAoB,KAIH,YAArBhL,EAAOqK,YAAiD,YAArBrK,EAAOqK,WAA0B,CACpE,IAAIY,EAAQ,CAAC3b,KAAKob,MAAOpb,KAAKqb,MAAOL,EAAQ3O,EAAG2O,EAAQvO,GACxDzM,KAAKiL,MAAQ,IAAIzE,YAAOsF,WAAW6P,EAAO,CACtCrB,OAA8B,YAArB5J,EAAOqK,WAA4B,MAAQ,SACpDtI,YAAa,EACbD,YAAY,EACZoJ,SAAS,IAIjBlL,EAAOkC,IAAI5S,KAAKiL,UAMxB4P,YACI,IAAInK,EAAS1Q,KAAK0Q,OAClBA,EAAOjQ,GAAG,cAAc,SAASpC,GAC7B,IAAK2B,KAAKkb,OAAQ,OAElB,IAAIF,EAAUtK,EAAOuK,WAAW5c,EAAEvC,GAElC,GAAyB,YAArB4U,EAAOqK,YAAiD,eAArBrK,EAAOqK,WAA6B,CACnE/a,KAAKob,MAAQJ,EAAQ3O,GAAGrM,KAAKiL,MAAMmB,IAAI,CAAEmG,KAAM3L,KAAKiV,IAAIb,EAAQ3O,KAChErM,KAAKqb,MAAQL,EAAQvO,GAAGzM,KAAKiL,MAAMmB,IAAI,CAAEzK,IAAKiF,KAAKiV,IAAIb,EAAQvO,KAEnE,IAAIJ,EAAIzF,KAAKiV,IAAI7b,KAAKob,MAAQJ,EAAQ3O,GAClCI,EAAI7F,KAAKiV,IAAI7b,KAAKqb,MAAQL,EAAQvO,GACtC,GAAIzM,KAAKpF,MAAO,CACZ,IAAIkhB,EAAYzP,GAAKI,EAAKJ,EAAII,EACL,YAArBiE,EAAOqK,YAA0B/a,KAAKiL,MAAMmB,IAAI,CAAEhJ,MAAO0Y,EAAUhV,OAAQgV,IACtD,eAArBpL,EAAOqK,YAA6B/a,KAAKiL,MAAMmB,IAAI,CAAE+F,GAAI2J,EAAU1J,GAAI0J,QAElD,YAArBpL,EAAOqK,YAA0B/a,KAAKiL,MAAMmB,IAAI,CAAEhJ,MAAOiJ,EAAGvF,OAAQ2F,IAC/C,eAArBiE,EAAOqK,YAA6B/a,KAAKiL,MAAMmB,IAAI,CAAE+F,GAAI9F,EAAG+F,GAAI3F,QAG9C,YAArBiE,EAAOqK,YAAiD,YAArBrK,EAAOqK,YAC/C/a,KAAKiL,MAAMmB,IAAI,CAAE2P,GAAIf,EAAQ3O,EAAG2P,GAAIhB,EAAQvO,IAEhDiE,EAAO8C,eAMfsH,UACI,IAAIpK,EAAS1Q,KAAK0Q,OAClBA,EAAOjQ,GAAG,YAAY,SAASpC,GAG3B,GAFA2B,KAAKkb,QAAS,EAEVlb,KAAKiL,MAAO,CACZ,IAAIgR,EAAUvL,EAAOD,aACjByL,EAAaD,EAAQA,EAAQ9hB,OAAS,GAC1C,GAAsB,GAAlB8hB,EAAQ9hB,OAAa,OAiBzB,GAhBIuW,EAAOqK,WAIc,YAArBrK,EAAOqK,YAAiD,eAArBrK,EAAOqK,cACtCmB,EAAW9Y,OAAS,IAAM8Y,EAAWpV,QAAU,MAC/C4J,EAAOhI,OAAOwT,GACdlc,KAAKiL,MAAQ,MAGbjL,KAAKiL,QAAUjL,KAAKiL,MAAM9F,QAC1BnF,KAAKiL,MAAM9F,MAAQ,IAAI6F,EAAMhL,KAAKiL,OAClChG,GAAekX,YAAYnc,KAAKiL,MAAM9F,SAIrB,YAArBuL,EAAOqK,YAAiD,YAArBrK,EAAOqK,WAC1C,GAAI/a,KAAKiL,QAAUjL,KAAKiL,MAAM5F,WAAY,CACtC,IAAI2V,EAAUtK,EAAOuK,WAAW5c,EAAEvC,GAC9BsgB,EAAM,IAAI5V,YAAO6V,MAAMrc,KAAKob,MAAOpb,KAAKqb,OACxCiB,EAAM,IAAI9V,YAAO6V,MAAMrB,EAAQ3O,EAAG2O,EAAQvO,GAC1CV,EAAS,KACTvO,EAAS,KAOb,GALAye,EAAQnN,QAAQ7D,IACRA,EAAMsR,cAAcH,OAAKxe,GAAW,IAAuB,cAAdqN,EAAM0H,OAAsB5G,EAASd,GAClFA,EAAMsR,cAAcD,OAAK1e,GAAW,IAAuB,cAAdqN,EAAM0H,OAAsBnV,EAASyN,KAGtFc,GAAUvO,GAAUuO,GAAUvO,EAAQ,CAEtC,IAAI6H,EAAa,IAAIyG,EAAWC,EAAQvO,EAAQwC,KAAKiL,MAA6B,YAArByF,EAAOqK,WAA4B,aAAe,WAC/G9V,GAAeuX,iBAAiBnX,GAEpCqL,EAAOhI,OAAOwT,GACdlc,KAAKiL,MAAQ,UAEbyF,EAAOhI,OAAOwT,GACdlc,KAAKiL,MAAQ,UC7JtB,MAAMwR,GAGjB5T,YAAY6T,GAAa3T,eAAA,mBAFX,IAGV/I,KAAK0c,YAAcA,EAEnB1c,KAAK2c,gBACL3c,KAAK4c,YACL5c,KAAK6c,cAGTC,eAAezX,GACX5F,QAAQ6H,IAAIjC,GAMhBsX,gBACI,IAAI/F,EAAO5W,KACXA,KAAK0c,YAAYhM,OAAOjQ,GAAG,iBAAiB,WACnCmW,EAAK8F,YAAY/N,cAEtBiI,EAAK8F,YAAY/N,YAAYG,QAASzJ,IAElC,IAAI0X,EAASnG,EAAKoG,YAAY3X,GAC9BA,EAAWhE,KAAK+K,IAAI,CAAE,GAAM2Q,EAAO,GAAG1Q,EAAG,GAAM0Q,EAAO,GAAGtQ,EAAG,GAAMsQ,EAAO,GAAG1Q,EAAG,GAAM0Q,EAAO,GAAGtQ,IAC/FpH,EAAW2G,SAASI,IAAIwK,EAAKqG,kBAAkB5X,IAC/CuR,EAAK8F,YAAYhM,OAAOwM,WAAW7X,EAAW2G,UAC9C4K,EAAK8F,YAAYhM,OAAOwM,WAAW7X,EAAWhE,MAC9CuV,EAAK8F,YAAYhM,OAAOsJ,qBAExBpD,EAAK8F,YAAYhM,OAAO7G,OAAO+M,EAAK8F,YAAYhM,OAAOwM,WAAWtG,EAAK8F,YAAYhM,OAAO7G,WAMtG+S,YACI3X,GAAetC,IAAI,kBAAmB,KAC7B3C,KAAK0c,YAAY/N,aACtB3O,KAAK0c,YAAY/N,YAAYG,QAASzJ,IAC1BA,EAAWhE,OACXrB,KAAK0c,YAAYhM,OAAOhI,OAAOrD,EAAWhE,MAC1CrB,KAAK0c,YAAYhM,OAAOhI,OAAOrD,EAAW2G,WAG9C3G,EAAWhE,KAAOrB,KAAKmd,UAAU9X,GACjCA,EAAW2G,SAASI,IAAIpM,KAAKid,kBAAkB5X,IAE/CrF,KAAK0c,YAAYhM,OAAOkC,IAAIvN,EAAWhE,MACvCrB,KAAK0c,YAAYhM,OAAOkC,IAAIvN,EAAW2G,UAEvChM,KAAK0c,YAAYhM,OAAOwM,WAAW7X,EAAW2G,UAC9ChM,KAAK0c,YAAYhM,OAAOwM,WAAW7X,EAAWhE,MAC9CrB,KAAK0c,YAAYhM,OAAOwM,WAAWld,KAAK0c,YAAYhM,OAAO7G,WAO3EsT,UAAU9X,GACN,IAAI0X,EAAS/c,KAAKgd,YAAY3X,GAC1BhE,EAAO,IAAImF,YAAOsF,WAAW,CAACiR,EAAO,GAAG1Q,EAAG0Q,EAAO,GAAGtQ,EAAGsQ,EAAO,GAAG1Q,EAAG0Q,EAAO,GAAGtQ,GAAI,CACnF6N,OAA4B,cAAnBjV,EAAW/H,KAAwB,MAAQ,SACpDmV,YAAa,EACb2K,aAAa,EACb5K,YAAY,EACZoJ,SAAS,EACTvW,WAAYA,IAEZ2G,EAAW,IAAIxF,YAAO6W,SAAS,CAC/BC,kBAAkB,EAClB/B,QAAS,SACTC,QAAS,SACTpY,MAAO,GACP0D,OAAQ,GACR0L,YAAY,IAGhB,OADAnN,EAAW2G,SAAWA,EACf3K,EAGX4b,kBAAkB5X,GACd,IAAIhE,EAAOgE,EAAWhE,KAClB0b,EAAS/c,KAAKgd,YAAY3X,GAC1BkY,EAAQlc,EAAK0a,GAAK1a,EAAKmc,GACvBC,EAAQpc,EAAK2a,GAAK3a,EAAKqc,GACvBjC,EAAoC,IAA3B7U,KAAK+W,MAAMF,EAAOF,GAAe3W,KAAKgX,GAAM,GACzD,MAAO,CAAC,OAAUvc,EAAKiZ,OAAQ,KAAQjZ,EAAKiZ,OAAQ,KAAQyC,EAAO,GAAG1Q,EAAG,IAAO0Q,EAAO,GAAGtQ,EAAG,MAASgP,GAK1GuB,YAAY3X,GACR,IAAI+W,EAAM,IAAI5V,YAAO6V,MAAMhX,EAAW0G,OAAOO,QAAQC,GAAGF,EAAKhH,EAAW0G,OAAO3I,MAAQ,EAAIiC,EAAW0G,OAAOO,QAAQC,GAAGE,EAAKpH,EAAW0G,OAAOjF,OAAS,GACpJwV,EAAM,IAAI9V,YAAO6V,MAAMhX,EAAW7H,OAAO8O,QAAQC,GAAGF,EAAKhH,EAAW7H,OAAO4F,MAAQ,EAAIiC,EAAW7H,OAAO8O,QAAQC,GAAGE,EAAKpH,EAAW7H,OAAOsJ,OAAS,GACxJ,MAAO,CAACsV,EAAKE,GAMjBO,cACI5X,GAAetC,IAAI,aAAc,KAC7B,GAAI3C,KAAK0c,YAAYhM,OAAOD,aAAc,CACtC,IAAImG,EAAO5W,KAAK0c,YAChB9F,EAAKlG,OAAOD,aAAa3B,SAAQ,SAAUzQ,GACnCA,EAAEgH,aACyB,MAAvBhH,EAAEgH,WAAW7H,QAAyC,MAAvBa,EAAEgH,WAAW0G,QAChD6K,EAAKlG,OAAOhI,OAAOrK,GACnBuY,EAAKlG,OAAOhI,OAAOrK,EAAEgH,WAAW2G,kBC3HzC,MAAM6R,GACjBhV,YAAY6H,EAAQzM,EAAKT,GACrBxD,KAAK0Q,OAASA,EACd1Q,KAAKiE,IAAMA,EAEX,IAAI2S,EAAO5W,KACXwG,YAAOtC,MAAMuC,QAAQzG,KAAKiE,IAAIA,IAAIpH,KAAK,SAAS5C,GAC5C,IAAI6jB,EAAO7jB,EAAEmS,IAAK,CAClBmG,KAAM,EACN5Q,IAAK,EACLyB,MAAOwT,EAAK3S,IAAIA,IAAIb,MACpB0D,OAAQ8P,EAAK3S,IAAIA,IAAI6C,OACrBG,OAAQ,EACRC,OAAQ,EACRkW,aAAa,EACbW,YAAY,EACZvL,YAAY,EACZoJ,SAAS,EACToC,YAAa,YAEbpH,EAAKlG,OAAO7G,MAAQiU,EACpBlH,EAAKlG,OAAOkC,IAAIkL,GAChBlH,EAAKlG,OAAOwM,WAAWY,GACvBta,QCLG,QACf7J,OACA,OAEAsK,IAAA4Z,GACAnN,OAAAlK,YAAAyX,OACAtP,YAAA,KAGAuP,SAAA,GAGA9a,MAAA7G,SAAAqF,gBAAAuc,YACArX,OAAAvK,SAAAqF,gBAAAC,aACAuc,cAAA,EAGAC,UAAA,EACAC,WAAA,EACAC,UAAA5D,GACA6D,eAAA/B,KAGAha,SAAA,GAEAsI,WAAA,GAEAjJ,QAAA,CACA2c,qBAAA,WACAzc,GAAAW,IAAA,uBACA/E,GAAA,KAAAqG,SACA,KAAAya,iBAEA1c,GAAAW,IAAA,qBAEA,KAAA2b,WAAA,IAEAtc,GAAAW,IAAA,uBAEA,KAAA2b,WAAA,IAEAtc,GAAAW,IAAA,gBACA,KAAAgc,iBAAA,cAEA3c,GAAAW,IAAA,mBACA,KAAAgc,iBAAA,iBAEA3c,GAAAW,IAAA,sBAGAX,GAAAW,IAAA,gBACA,KAAAgc,iBAAA,cAEA3c,GAAAW,IAAA,gBACA,KAAAgc,iBAAA,cAEA3c,GAAAW,IAAA,kBACA,KAAAgc,iBAAA,QAEA3c,GAAAW,IAAA,kBACA,KAAA+N,OAAA9V,OAAA,IAEAoH,GAAAW,IAAA,iBACA,QAAA+N,OAAAkO,mBAAA,CACA,IAAAhI,EAAA,KACA,KAAAlG,OAAAkO,mBAAA9P,SAAA,SAAAzQ,GAAAuY,EAAAlG,OAAAhI,OAAArK,GAAA4G,GAAAwD,OAAApK,SAGA2D,GAAAW,IAAA,oBACA,KAAA+N,OAAA9V,OAAA,KAIAikB,kBAAA,WACA9Z,GAAApC,IAAA,cAAAsB,IACA,KAAA6a,WAAA7a,MAIA8a,oBAAA,WACA9Z,GAAAtC,IAAA,kBAAAgM,IAEA,KAAAA,gBAEA1J,GAAAtC,IAAA,eAAA8S,IAEAA,EAAAK,cAAAhH,QAAA7D,IAEA,IAAA2H,EAAA,GACA,eAAA3H,EAAA3N,KAAAsV,EAAA,IAAApM,YAAA0L,SAAAjH,OACA,iBAAAA,EAAA3N,KACA,OADAsV,EAAA,IAAApM,YAAA6L,UAAApH,GAEA,IAAA9F,EAAAsQ,EAAA9E,OAAAQ,KAAAhM,KAAAC,IAAAwN,EAAAxN,IACAD,EAAA8F,MAAA2H,EACAA,EAAAzN,QACA,KAAAuL,OAAAkC,SAEA6C,EAAA7E,YAAA9B,QAAAzJ,IAEA,IAAA0G,EAAA0J,EAAA9E,OAAAQ,KAAAhM,KAAAC,IAAAC,EAAA0G,QAAAd,MACA5F,EAAA0G,SACA,IAAAvO,EAAAiY,EAAA9E,OAAAQ,KAAAhM,KAAAC,IAAAC,EAAA7H,QAAAyN,MACA5F,EAAA7H,WAEAyH,GAAA0R,gBAAAlB,EAAA7E,eAEA3L,GAAAtC,IAAA,YAAAgP,IAEAA,EAAA+K,YAAA,KACA/K,EAAAjB,OAAA,KAAAA,UAGAsO,YAAA,WACA,KAAAtO,OAAA,IAAAlK,YAAAyX,OAAA,KACA9C,WAAA,EACA8D,gBAAA,UACArkB,OAAA,EACAskB,wBAAA,EACA9b,MAAA7G,SAAAqF,gBAAAuc,YAAA,KAAAC,cACAtX,OAAAvK,SAAAqF,gBAAAC,eACA,KAAAsd,iBAEA,KAAAC,UAAA,KACA,KAAA1O,OAAA8C,eAIA6L,aAAA,WACA,KAAAjc,MAAA7G,SAAAqF,gBAAAuc,YAAA,KAAAC,cACA,KAAAtX,OAAAvK,SAAAqF,gBAAAC,aACA,KAAA6O,OAAA4O,SAAA,KAAAlc,OACA,KAAAsN,OAAA6O,UAAA,KAAAzY,QACA,KAAA4J,OAAA8O,aACA,KAAAJ,UAAA,KACA,KAAA1O,OAAA8C,YACA,KAAA6K,eAAAzgB,GAAA,KAAAqG,SAAA,KAAAya,kBAIAA,aAAA,WAEA,KAAAL,UAAA,EACA,KAAA3N,OAAA+O,QAAA,GACA,IAAAxb,EAAA,KAAAA,YAEAb,EAAA7G,SAAAqF,gBAAAuc,YACArX,EAAAvK,SAAAqF,gBAAAC,aACA6d,EAAA9Y,KAAAF,IAAAzC,EAAAb,MAAAa,EAAA6C,QACA6Y,EAAA/Y,KAAAF,IAAAtD,EAAA0D,GACA8Y,EAAA,IACAC,EAAAF,EAAAD,EAAAE,EAEAE,EAAA,KAAA1c,MAAAyc,EACAE,EAAA,KAAAjZ,OAAA+Y,EACAxT,EAAApI,EAAAoI,EAAAyT,EAAA,EAAA7b,EAAAb,MAAA,EACAqJ,EAAAxI,EAAAwI,EAAAsT,EAAA,EAAA9b,EAAA6C,OAAA,EAEA,KAAA4J,OAAAsP,YAAA,CAAA3T,IAAAI,MACA,KAAAiE,OAAA+O,QAAAI,IAGAf,WAAA,SAAA7a,GACA,KAAAA,IAAA,IAAA4Z,GAAA,KAAAnN,OAAAzM,EAAA,KAAAya,eAGAuB,aAAA,WACA,KAAA1B,UAAA,IAAA5D,GAAA,KAAAjK,QACA,KAAA8N,eAAA,IAAA/B,GAAA,OAGAyD,kBAAA,WACA,KAAAxP,OAAAjQ,GAAA,uBACA,IAAA0f,EAAA,KAAAvB,mBACAuB,EAAA,GAAAlb,GAAAmb,YAAA,KAAAxB,oBACA3Z,GAAAiZ,eAIAmC,gBAAA,WACA,IAAAzJ,EAAA,KACA,KAAAlG,OAAAjQ,GAAA,wBAAA6f,GACA1J,EAAAyH,UAAA,EACA,IAAAkC,EAAAD,EAAAxkB,EAAA0kB,OACAX,EAAA,KAAAY,UACAZ,GAAA,SAAAU,GACAV,EAAA,KAAAA,EAAA,IACAA,EAAA,KAAAA,EAAA,IACA,KAAAa,YAAA,CAAArU,EAAAiU,EAAAxkB,EAAA6kB,QAAAlU,EAAA6T,EAAAxkB,EAAA8kB,SAAAf,GACAS,EAAAxkB,EAAA+kB,iBACAP,EAAAxkB,EAAAglB,sBAIA3B,eAAA,WACA,IAAAvI,EAAA,KACA,KAAAlG,OAAAjQ,GAAA,uBAAA6f,GACA,IAAAS,EAAAT,EAAAxkB,EACA8a,EAAA0H,YACA,KAAA0C,YAAA,EACA,KAAA7F,WAAA,EACA,KAAA8F,SAAAF,EAAAG,QACA,KAAAC,SAAAJ,EAAAK,YAGA,KAAA1Q,OAAAjQ,GAAA,uBAAA6f,GACA,QAAAU,WAAA,CACApK,EAAAyH,UAAA,EACA,IAAA0C,EAAAT,EAAAxkB,EACAulB,EAAA,KAAAC,kBACAD,EAAA,IAAAN,EAAAG,QAAA,KAAAD,SACAI,EAAA,IAAAN,EAAAK,QAAA,KAAAD,SACA,KAAAnH,mBACA,KAAAiH,SAAAF,EAAAG,QACA,KAAAC,SAAAJ,EAAAK,YAGA,KAAA1Q,OAAAjQ,GAAA,uBACA,KAAA8gB,qBAAA,KAAAD,mBACA,KAAAN,YAAA,EACA,KAAA7F,WAAA,MAIAwD,iBAAA,SAAA6C,GACA,QAAA9Q,OAAAwK,SACA,KAAAxK,OAAAqK,WAAAyG,EACA,KAAAC,gBACAhiB,QAAA6H,IAAA,oBAAAoJ,OAAAqK,cAOA0G,cAAA,WACA,iBAAA/Q,OAAAqK,YAAA,iBAAArK,OAAAqK,YAAA,QAAAmD,SAAA/jB,OAWA,iBAAAuW,OAAAqK,YAAA,iBAAArK,OAAAqK,YAAA,KAAAmD,SAAA/jB,OAAA,IAEA,KAAAuW,OAAAD,aAAA3B,QAAAzP,IACAA,EAAA8F,OAAA,KAAA+Y,SAAAhK,SAAA7U,EAAA8F,MAAAC,MACA/F,EAAAmT,YAAA,EACAnT,EAAAuc,SAAA,KAGA,KAAAsC,SAAA,GACA,KAAAxN,OAAAyK,WAAA,IAlBA,KAAAzK,OAAAgR,sBACA,KAAAhR,OAAAD,aAAA3B,QAAAzP,IACAA,EAAAmT,YAAAnT,EAAAuc,cAAAhe,GAAAyB,EAAA8F,QACA9F,EAAAmT,YAAA,EACAnT,EAAAuc,SAAA,EACA,KAAAsC,SAAAzjB,KAAA4E,EAAA8F,MAAAC,OAGA,KAAAsL,OAAAyK,WAAA,KAcAvY,UACA,KAAA6b,uBACA,KAAAI,oBACA,KAAAE,uBAEArc,UACA,KAAAsc,cACA,KAAAkB,oBACA,KAAAG,kBACA,KAAAJ,eACAtgB,OAAAsY,iBAAA,cAAAoH,gBCjSqV,MCOjV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,M,QCfA,MAAMsC,GACjB9Y,cACItM,SAAS0b,iBAAiB,UAAYjb,IAClC,OAAOA,EAAMQ,OAAOokB,SAChB,IAAK,QAAS,IAAK,SAAU,IAAK,WAAY,OAElD,MAAMC,EAAU7kB,EAAMkC,IACtB,OAAQ2iB,GACJ,IAAK,IACD7f,GAAgBG,gBAChB,MACJ,IAAK,QACDH,GAAgB8f,aAChB,MACJ,QACI,UAGT,GAEHvlB,SAAS0b,iBAAiB,QAAUjb,IAChC,OAAOA,EAAMQ,OAAOokB,SAChB,IAAK,QAAS,IAAK,SAAU,IAAK,WAAY,OAElD,MAAMC,EAAU7kB,EAAMkC,IACtB,OAAQ2iB,GACJ,IAAK,IACD7f,GAAgBI,aAChB,MACJ,IAAK,IACDJ,GAAgBK,WAChB,MACJ,IAAK,IACDL,GAAgBM,cAChB,MACJ,IAAK,IACDN,GAAgB+f,cAChB,MACJ,IAAK,IACD/f,GAAgBE,aAChB,MACJ,IAAK,IACDF,GAAgBO,WAChB,MACJ,IAAK,IACDP,GAAgBC,kBAChB,MACJ,IAAK,QACDD,GAAgBggB,eAChB,MACJ,IAAK,IACDhgB,GAAgBigB,YAChB,MACJ,IAAK,IACDjgB,GAAgBQ,WAChB,MACJ,QACI,UAGT,ICjDX,IAAAmf,GAEe,QACfjkB,KAAA,cACA/D,OACA,OACAuV,OAAA,IAGAnE,WAAA,CACAmX,WAAAC,EACAC,WAAAC,GACAC,eAAAC,KC1B8T,MCQ1T,I,UAAY,eACd,GACAziB,EACAK,GACA,EACA,KACA,KACA,OAIa,M,qBChBfqiB,aAAIC,IAAIC,SAEO,WAAIA,QAAO,CACxB5jB,KAAM,UACN6jB,OAAQ,CACN,CACEvT,KAAM,IACNwT,MAAO,YACPllB,KAAM,WACNmF,UAAWA,IAAM,iDAEnB,CACEuM,KAAM,OACN1R,KAAM,MACNmF,UAAWA,IAAM,oD,8CCLvB2f,aAAIjd,OAAOsd,eAAgB,EAEpB,MAAM5d,GAAiB,IAAIud,aAAI,CACpC1gB,QAAS,CACPoD,YAAYjB,GACVjE,KAAKmX,MAAM,cAAelT,IAE5B2R,YAAY/L,GACV7J,KAAKmX,MAAM,cAAetN,IAE5BsS,YAAYhX,GACVnF,KAAKmX,MAAM,cAAehS,IAE5BsD,OAAOkJ,GACL3R,KAAKmX,MAAM,SAAUxF,GACrB3R,KAAKke,YAEP3H,aACEvW,KAAKmX,MAAM,eAEbqF,iBAAiBnX,GACfrF,KAAKmX,MAAM,mBAAoB9R,IAEjCsR,gBAAgBhI,GACd3O,KAAKmX,MAAM,kBAAmBxI,IAEhCyR,YAAYnV,GACVjL,KAAKmX,MAAM,cAAelM,IAE5BiT,WACEle,KAAKmX,MAAM,aAEbnU,WACEhD,KAAKmX,MAAM,aAEbwB,OAAOpU,GACLvE,KAAKmX,MAAM,SAAU5S,IAEvB2S,SAEElX,KAAKmX,MAAM,WAEbtB,aAAaJ,GACXzV,KAAKmX,MAAM,eAAgB1B,IAE7BhF,WAAWkB,GACT3R,KAAKmX,MAAM,aAAcxF,IAE3BC,UAAUD,GAER3R,KAAKmX,MAAM,YAAaxF,OAKjB3P,GAAkB,IAAIwgB,aAAK,CACtC1gB,QAAS,CACPO,WACErC,KAAKmX,MAAM,aAEb7U,cACEtC,KAAKmX,MAAM,gBAEb4K,cACE/hB,KAAKmX,MAAM,gBAEbjV,aACElC,KAAKmX,MAAM,eAEb5U,WACEvC,KAAKmX,MAAM,aAEb3U,WACExC,KAAKmX,MAAM,aAEb/U,aACEpC,KAAKmX,MAAM,eAEbhV,gBACEnC,KAAKmX,MAAM,kBAEblV,kBACEjC,KAAKmX,MAAM,oBAEb2K,aACE9hB,KAAKmX,MAAM,eAEb6K,eACEhiB,KAAKmX,MAAM,iBAEb8K,YACEjiB,KAAKmX,MAAM,iBAKJpS,GAAe,IAAIyd,aAAK,CACnC3X,MAAO,CACL5G,IAAK,IAEPnC,QAAS,CACPkD,YAAYf,GACVjE,KAAKiE,IAAMA,EACXjE,KAAKmX,MAAM,cAAelT,IAE5B8S,WAEE,OAAO/W,KAAKiE,QAKlBue,aAAIC,IAAIK,SACRN,aAAIC,IAAIM,SAER,IAAIP,aAAI,CACNQ,UACAC,GAAI,OACJnjB,OAAQojB,GAAKA,EAAEC,O,6GClIjB,W,kCCAA,W","file":"js/app.daf1d33c.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-2d0d5fe0\":\"6c5771de\",\"chunk-2d229bd2\":\"c942d1f4\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/double-sixes-app/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=style&index=0&id=30201142&prod&scoped=true&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Database.vue?vue&type=style&index=0&id=2053ff44&prod&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=style&index=0&id=fb5ff980&prod&scoped=true&lang=css&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('appToolbar'),_c('appSidebar'),_c('appImageCanvas')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"toolbar\"}},[_c('b-button-group',{attrs:{\"vertical\":\"\",\"size\":\"lg\",\"aria-role\":\"toolbar\"}},[_c('b-button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.right\",modifiers:{\"hover\":true,\"right\":true}}],attrs:{\"variant\":\"light\",\"pressed\":_vm.select,\"title\":\"Cursor (v)\"},on:{\"click\":_vm.selectClick}},[_c('svg',{staticClass:\"bi bi-cursor\",attrs:{\"width\":\"1em\",\"height\":\"1em\",\"viewBox\":\"0 0 16 16\",\"fill\":\"currentColor\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"fill-rule\":\"evenodd\",\"d\":\"M14.082 2.182a.5.5 0 0 1 .103.557L8.528 15.467a.5.5 0 0 1-.917-.007L5.57 10.694.803 8.652a.5.5 0 0 1-.006-.916l12.728-5.657a.5.5 0 0 1 .556.103zM2.25 8.184l3.897 1.67a.5.5 0 0 1 .262.263l1.67 3.897L12.743 3.52 2.25 8.184z\"}})])]),_c('b-button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.right\",modifiers:{\"hover\":true,\"right\":true}}],attrs:{\"variant\":\"light\",\"pressed\":_vm.pan,\"title\":\"Pan (hold space)\"},on:{\"click\":_vm.panClick}},[_c('svg',{staticClass:\"bi bi-arrows-move\",attrs:{\"width\":\"1em\",\"height\":\"1em\",\"viewBox\":\"0 0 16 16\",\"fill\":\"currentColor\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"fill-rule\":\"evenodd\",\"d\":\"M7.646.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 1.707V5.5a.5.5 0 0 1-1 0V1.707L6.354 2.854a.5.5 0 1 1-.708-.708l2-2zM8 10a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 .708-.708L7.5 14.293V10.5A.5.5 0 0 1 8 10zM.146 8.354a.5.5 0 0 1 0-.708l2-2a.5.5 0 1 1 .708.708L1.707 7.5H5.5a.5.5 0 0 1 0 1H1.707l1.147 1.146a.5.5 0 0 1-.708.708l-2-2zM10 8a.5.5 0 0 1 .5-.5h3.793l-1.147-1.146a.5.5 0 0 1 .708-.708l2 2a.5.5 0 0 1 0 .708l-2 2a.5.5 0 0 1-.708-.708L14.293 8.5H10.5A.5.5 0 0 1 10 8z\"}})])]),_c('b-button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.right\",modifiers:{\"hover\":true,\"right\":true}}],attrs:{\"variant\":\"light\",\"pressed\":_vm.center,\"title\":\"Center (c)\"},on:{\"click\":_vm.centerClick}},[_c('svg',{staticClass:\"bi bi-arrows-fullscreen\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"16\",\"height\":\"16\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 16 16\"}},[_c('path',{attrs:{\"fill-rule\":\"evenodd\",\"d\":\"M5.828 10.172a.5.5 0 0 0-.707 0l-4.096 4.096V11.5a.5.5 0 0 0-1 0v3.975a.5.5 0 0 0 .5.5H4.5a.5.5 0 0 0 0-1H1.732l4.096-4.096a.5.5 0 0 0 0-.707zm4.344 0a.5.5 0 0 1 .707 0l4.096 4.096V11.5a.5.5 0 1 1 1 0v3.975a.5.5 0 0 1-.5.5H11.5a.5.5 0 0 1 0-1h2.768l-4.096-4.096a.5.5 0 0 1 0-.707zm0-4.344a.5.5 0 0 0 .707 0l4.096-4.096V4.5a.5.5 0 1 0 1 0V.525a.5.5 0 0 0-.5-.5H11.5a.5.5 0 0 0 0 1h2.768l-4.096 4.096a.5.5 0 0 0 0 .707zm-4.344 0a.5.5 0 0 1-.707 0L1.025 1.732V4.5a.5.5 0 0 1-1 0V.525a.5.5 0 0 1 .5-.5H4.5a.5.5 0 0 1 0 1H1.732l4.096 4.096a.5.5 0 0 1 0 .707z\"}})])]),_c('b-button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.right\",modifiers:{\"hover\":true,\"right\":true}}],attrs:{\"variant\":\"light\",\"pressed\":_vm.rect,\"title\":\"Rectangle (r)\"},on:{\"click\":_vm.rectClick}},[_c('svg',{staticClass:\"bi bi-square\",attrs:{\"width\":\"1em\",\"height\":\"1em\",\"viewBox\":\"0 0 16 16\",\"fill\":\"currentColor\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"fill-rule\":\"evenodd\",\"d\":\"M14 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"}})])]),_c('b-button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.right\",modifiers:{\"hover\":true,\"right\":true}}],attrs:{\"variant\":\"light\",\"pressed\":_vm.ellipse,\"title\":\"Ellipse (e)\"},on:{\"click\":_vm.ellipseClick}},[_c('svg',{staticClass:\"bi bi-circle\",attrs:{\"width\":\"1em\",\"height\":\"1em\",\"viewBox\":\"0 0 16 16\",\"fill\":\"currentColor\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"fill-rule\":\"evenodd\",\"d\":\"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"}})])]),_c('b-button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.right\",modifiers:{\"hover\":true,\"right\":true}}],attrs:{\"variant\":\"light\",\"title\":\"Polygon (p)\",\"disabled\":\"\"},on:{\"click\":_vm.polygonClick}},[_c('svg',{staticClass:\"bi bi-pentagon\",attrs:{\"width\":\"1em\",\"height\":\"1em\",\"viewBox\":\"0 0 16 16\",\"fill\":\"currentColor\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"fill-rule\":\"evenodd\",\"d\":\"M8 1.288l-6.842 5.56L3.733 15h8.534l2.575-8.153L8 1.288zM16 6.5L8 0 0 6.5 3 16h10l3-9.5z\"}})])]),_c('b-button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.right\",modifiers:{\"hover\":true,\"right\":true}}],attrs:{\"variant\":\"light\",\"pressed\":_vm.line,\"title\":\"Sequential connection (s)\"},on:{\"click\":_vm.lineClick}},[_c('svg',{staticClass:\"bi bi-arrow-up-right\",attrs:{\"width\":\"1em\",\"height\":\"1em\",\"viewBox\":\"0 0 16 16\",\"fill\":\"currentColor\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"fill-rule\":\"evenodd\",\"d\":\"M14 2.5a.5.5 0 0 0-.5-.5h-6a.5.5 0 0 0 0 1h4.793L2.146 13.146a.5.5 0 0 0 .708.708L13 3.707V8.5a.5.5 0 0 0 1 0v-6z\"}})])]),_c('b-button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.right\",modifiers:{\"hover\":true,\"right\":true}}],attrs:{\"variant\":\"light\",\"pressed\":_vm.jump,\"title\":\"Jumping connection (j)\"},on:{\"click\":_vm.jumpClick}},[_c('svg',{staticClass:\"bi bi-arrow-90deg-right\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"16\",\"height\":\"16\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 16 16\"}},[_c('path',{attrs:{\"fill-rule\":\"evenodd\",\"d\":\"M14.854 4.854a.5.5 0 0 0 0-.708l-4-4a.5.5 0 0 0-.708.708L13.293 4H3.5A2.5 2.5 0 0 0 1 6.5v8a.5.5 0 0 0 1 0v-8A1.5 1.5 0 0 1 3.5 5h9.793l-3.147 3.146a.5.5 0 0 0 .708.708l4-4z\"}})])])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nTODO:\nplaced on left middle of screen\ntooltips w/ higher delay\n-->\n<template>\n    <div id=\"toolbar\">\n        <b-button-group vertical size=\"lg\" aria-role=\"toolbar\">\n            <b-button variant=\"light\" v-on:click=\"selectClick\" :pressed=\"select\" v-b-tooltip.hover.right title=\"Cursor (v)\">\n                <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" class=\"bi bi-cursor\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path fill-rule=\"evenodd\" d=\"M14.082 2.182a.5.5 0 0 1 .103.557L8.528 15.467a.5.5 0 0 1-.917-.007L5.57 10.694.803 8.652a.5.5 0 0 1-.006-.916l12.728-5.657a.5.5 0 0 1 .556.103zM2.25 8.184l3.897 1.67a.5.5 0 0 1 .262.263l1.67 3.897L12.743 3.52 2.25 8.184z\"/>\n                </svg>\n            </b-button>\n            <b-button variant=\"light\" v-on:click=\"panClick\" :pressed=\"pan\" v-b-tooltip.hover.right title=\"Pan (hold space)\">\n                <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" class=\"bi bi-arrows-move\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path fill-rule=\"evenodd\" d=\"M7.646.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 1.707V5.5a.5.5 0 0 1-1 0V1.707L6.354 2.854a.5.5 0 1 1-.708-.708l2-2zM8 10a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 .708-.708L7.5 14.293V10.5A.5.5 0 0 1 8 10zM.146 8.354a.5.5 0 0 1 0-.708l2-2a.5.5 0 1 1 .708.708L1.707 7.5H5.5a.5.5 0 0 1 0 1H1.707l1.147 1.146a.5.5 0 0 1-.708.708l-2-2zM10 8a.5.5 0 0 1 .5-.5h3.793l-1.147-1.146a.5.5 0 0 1 .708-.708l2 2a.5.5 0 0 1 0 .708l-2 2a.5.5 0 0 1-.708-.708L14.293 8.5H10.5A.5.5 0 0 1 10 8z\"/>\n                </svg>\n            </b-button>\n            <b-button variant=\"light\" v-on:click=\"centerClick\" :pressed=\"center\" v-b-tooltip.hover.right title=\"Center (c)\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-arrows-fullscreen\" viewBox=\"0 0 16 16\">\n                <path fill-rule=\"evenodd\" d=\"M5.828 10.172a.5.5 0 0 0-.707 0l-4.096 4.096V11.5a.5.5 0 0 0-1 0v3.975a.5.5 0 0 0 .5.5H4.5a.5.5 0 0 0 0-1H1.732l4.096-4.096a.5.5 0 0 0 0-.707zm4.344 0a.5.5 0 0 1 .707 0l4.096 4.096V11.5a.5.5 0 1 1 1 0v3.975a.5.5 0 0 1-.5.5H11.5a.5.5 0 0 1 0-1h2.768l-4.096-4.096a.5.5 0 0 1 0-.707zm0-4.344a.5.5 0 0 0 .707 0l4.096-4.096V4.5a.5.5 0 1 0 1 0V.525a.5.5 0 0 0-.5-.5H11.5a.5.5 0 0 0 0 1h2.768l-4.096 4.096a.5.5 0 0 0 0 .707zm-4.344 0a.5.5 0 0 1-.707 0L1.025 1.732V4.5a.5.5 0 0 1-1 0V.525a.5.5 0 0 1 .5-.5H4.5a.5.5 0 0 1 0 1H1.732l4.096 4.096a.5.5 0 0 1 0 .707z\"/>\n                </svg>\n            </b-button>\n            <b-button variant=\"light\" v-on:click=\"rectClick\" :pressed=\"rect\" v-b-tooltip.hover.right title=\"Rectangle (r)\">\n                <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" class=\"bi bi-square\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path fill-rule=\"evenodd\" d=\"M14 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"/>\n                </svg>\n            </b-button>\n            <b-button variant=\"light\" v-on:click=\"ellipseClick\" :pressed=\"ellipse\" v-b-tooltip.hover.right title=\"Ellipse (e)\">\n                <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" class=\"bi bi-circle\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path fill-rule=\"evenodd\" d=\"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"/>\n                </svg>\n            </b-button>\n            <b-button variant=\"light\" v-on:click=\"polygonClick\" v-b-tooltip.hover.right title=\"Polygon (p)\" disabled>\n                <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" class=\"bi bi-pentagon\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path fill-rule=\"evenodd\" d=\"M8 1.288l-6.842 5.56L3.733 15h8.534l2.575-8.153L8 1.288zM16 6.5L8 0 0 6.5 3 16h10l3-9.5z\"/>\n                </svg>\n            </b-button>\n            <b-button variant=\"light\" v-on:click=\"lineClick\" :pressed=\"line\" v-b-tooltip.hover.right title=\"Sequential connection (s)\">\n                <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" class=\"bi bi-arrow-up-right\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path fill-rule=\"evenodd\" d=\"M14 2.5a.5.5 0 0 0-.5-.5h-6a.5.5 0 0 0 0 1h4.793L2.146 13.146a.5.5 0 0 0 .708.708L13 3.707V8.5a.5.5 0 0 0 1 0v-6z\"/>\n                </svg>\n            </b-button>\n            <b-button variant=\"light\" v-on:click=\"jumpClick\" :pressed=\"jump\" v-b-tooltip.hover.right title=\"Jumping connection (j)\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-arrow-90deg-right\" viewBox=\"0 0 16 16\">\n                <path fill-rule=\"evenodd\" d=\"M14.854 4.854a.5.5 0 0 0 0-.708l-4-4a.5.5 0 0 0-.708.708L13.293 4H3.5A2.5 2.5 0 0 0 1 6.5v8a.5.5 0 0 0 1 0v-8A1.5 1.5 0 0 1 3.5 5h9.793l-3.147 3.146a.5.5 0 0 0 .708.708l4-4z\"/>\n                </svg>\n            </b-button>\n\n        </b-button-group>\n    </div>\n</template>\n\n<script>\nimport { controlEventBus } from '../main';\n\nexport default {\n    data() {\n        return {\n            select: true,\n            panSelect: false,\n            panToggle: false,\n            center: false,\n            rect: false,\n            ellipse: false,\n            line: false,\n            jump: false,\n            top: document.documentElement.clientHeight / 2,\n        }\n    },\n    directives: {\n        \n    },\n    methods: {\n        clear: function() {\n            this.select = false; this.panSelect = false; this.rect = false; this.ellipse = false; this.line = false; this.jump = false; \n            controlEventBus.imagePanRelease();\n        },\n        selectClick: function() {\n            controlEventBus.drawSelect();\n            controlEventBus.imagePanRelease();\n            this.clear();\n            this.select = true;\n        },\n        panClick: function() {\n            controlEventBus.imagePanPress();\n            this.clear();\n            this.panSelect = true;\n        },\n        centerClick: function() {\n            controlEventBus.imagePlace();\n        },\n        rectClick: function() {\n            controlEventBus.drawRect();\n            controlEventBus.imagePanRelease();\n            this.clear();\n            this.rect = true;\n        },\n        ellipseClick: function() {\n            controlEventBus.drawEllipse();\n            controlEventBus.imagePanRelease();\n            this.clear();\n            this.ellipse = true;\n        },\n        polygonClick: function() {\n            //TODO: polygon\n        },\n        lineClick: function() {\n            controlEventBus.drawLine();\n            controlEventBus.imagePanRelease();\n        },\n        jumpClick: function() {\n            controlEventBus.drawJump();\n            controlEventBus.imagePanRelease();\n        }\n    },\n    computed: {\n        pan: function() {\n            return (this.panSelect || this.panToggle);\n        },\n    },\n    mounted() {\n        controlEventBus.$on('drawSelect', () => {\n            this.clear();\n            this.select = true;\n        });\n        controlEventBus.$on('imagePanPress', () => {\n            this.panToggle = true;\n        });\n        controlEventBus.$on('imagePanRelease', () => {\n            this.panToggle = false;\n        })\n        controlEventBus.$on('drawRect', () => {\n            this.clear();\n            this.rect = true;\n        });\n        controlEventBus.$on('drawEllipse', () => {\n            this.clear();\n            this.ellipse = true;\n        });\n        controlEventBus.$on('drawLine', () => {\n            this.clear();\n            this.line = true;\n        });\n        controlEventBus.$on('drawJump', () => {\n            this.clear();\n            this.jump = true;\n        })\n    },\n    created() {\n    },\n}\n</script>\n\n<style scoped>\n    #toolbar {\n        position: absolute;\n        left: 10px;\n        top: 10px;\n        z-index: 999;\n    }\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Toolbar.vue?vue&type=template&id=fb5ff980&scoped=true&\"\nimport script from \"./Toolbar.vue?vue&type=script&lang=js&\"\nexport * from \"./Toolbar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Toolbar.vue?vue&type=style&index=0&id=fb5ff980&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fb5ff980\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"sidebar\"}},[_c('div',{attrs:{\"id\":\"buttons\"}},[_c('b-button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.left\",modifiers:{\"hover\":true,\"left\":true}},{name:\"b-toggle\",rawName:\"v-b-toggle.bsidebar\",modifiers:{\"bsidebar\":true}}],attrs:{\"name\":\"sidebarButton\",\"id\":\"eyeButton\",\"pill\":\"\",\"variant\":\"light\",\"size\":\"md\",\"title\":\"Sidebar\"}},[_c('svg',{staticClass:\"bi bi-layout-sidebar-reverse\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"2em\",\"height\":\"2em\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 16 16\"}},[_c('path',{attrs:{\"d\":\"M16 3a2 2 0 0 0-2-2H2a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3zm-5-1v12H2a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1h9zm1 0h2a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1h-2V2z\"}})])]),_c('br'),_c('b-button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.right\",modifiers:{\"hover\":true,\"right\":true}}],attrs:{\"name\":\"boardButton\",\"id\":\"boardButton\",\"pill\":\"\",\"variant\":\"light\",\"size\":\"md\",\"title\":\"Upload board image\"},on:{\"click\":_vm.buttonBoard}},[_c('svg',{staticClass:\"bi bi-image\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"2em\",\"height\":\"2em\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 16 16\"}},[_c('path',{attrs:{\"d\":\"M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z\"}}),_c('path',{attrs:{\"d\":\"M2.002 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2h-12zm12 1a1 1 0 0 1 1 1v6.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12V3a1 1 0 0 1 1-1h12z\"}})]),_c('image-load',{attrs:{\"id\":\"boardUpload\"}})],1),_c('br'),_c('b-button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.right\",modifiers:{\"hover\":true,\"right\":true}},{name:\"b-toggle\",rawName:\"v-b-toggle.asidebar\",modifiers:{\"asidebar\":true}}],attrs:{\"name\":\"analysisButton\",\"id\":\"analysisButton\",\"pill\":\"\",\"variant\":\"light\",\"title\":\"Analysis\",\"size\":\"md\"},on:{\"click\":_vm.analysisToggle}},[_c('svg',{staticClass:\"bi bi-clipboard-data\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"2em\",\"height\":\"2em\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 16 16\"}},[_c('path',{attrs:{\"d\":\"M4 11a1 1 0 1 1 2 0v1a1 1 0 1 1-2 0v-1zm6-4a1 1 0 1 1 2 0v5a1 1 0 1 1-2 0V7zM7 9a1 1 0 0 1 2 0v3a1 1 0 1 1-2 0V9z\"}}),_c('path',{attrs:{\"d\":\"M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z\"}}),_c('path',{attrs:{\"d\":\"M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z\"}})])]),_c('br'),_c('b-button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.right\",modifiers:{\"hover\":true,\"right\":true}}],attrs:{\"name\":\"jsonButton\",\"id\":\"downloadButton\",\"pill\":\"\",\"variant\":\"light\",\"size\":\"md\",\"title\":\"Download JSON\"},on:{\"click\":_vm.download}},[_c('svg',{staticClass:\"bi bi-file-earmark-arrow-down\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"2em\",\"height\":\"2em\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 16 16\"}},[_c('path',{attrs:{\"d\":\"M8.5 6.5a.5.5 0 0 0-1 0v3.793L6.354 9.146a.5.5 0 1 0-.708.708l2 2a.5.5 0 0 0 .708 0l2-2a.5.5 0 0 0-.708-.708L8.5 10.293V6.5z\"}}),_c('path',{attrs:{\"d\":\"M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z\"}})])]),_c('br'),_c('b-button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.right\",modifiers:{\"hover\":true,\"right\":true}}],attrs:{\"name\":\"upButton\",\"id\":\"uploadButton\",\"pill\":\"\",\"variant\":\"light\",\"size\":\"md\",\"title\":\"Upload JSON\"},on:{\"click\":_vm.buttonJson}},[_c('svg',{staticClass:\"bi bi-file-earmark-arrow-up\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"2em\",\"height\":\"2em\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 16 16\"}},[_c('path',{attrs:{\"d\":\"M8.5 11.5a.5.5 0 0 1-1 0V7.707L6.354 8.854a.5.5 0 1 1-.708-.708l2-2a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 7.707V11.5z\"}}),_c('path',{attrs:{\"d\":\"M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z\"}})])]),_c('input',{staticStyle:{\"display\":\"none\"},attrs:{\"id\":\"jsonUpload\",\"type\":\"file\",\"accept\":\".json\"}}),_c('br'),_c('b-button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.right\",modifiers:{\"hover\":true,\"right\":true}},{name:\"b-toggle\",rawName:\"v-b-toggle.dbSidebar\",modifiers:{\"dbSidebar\":true}}],attrs:{\"name\":\"dbButton\",\"id\":\"dbButton\",\"pill\":\"\",\"variant\":\"light\",\"size\":\"md\",\"title\":\"Database\"},on:{\"click\":_vm.databaseToggle}},[_c('svg',{staticClass:\"bi bi-wifi\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"2em\",\"height\":\"2em\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 16 16\"}},[_c('path',{attrs:{\"d\":\"M15.384 6.115a.485.485 0 0 0-.047-.736A12.444 12.444 0 0 0 8 3C5.259 3 2.723 3.882.663 5.379a.485.485 0 0 0-.048.736.518.518 0 0 0 .668.05A11.448 11.448 0 0 1 8 4c2.507 0 4.827.802 6.716 2.164.205.148.49.13.668-.049z\"}}),_c('path',{attrs:{\"d\":\"M13.229 8.271a.482.482 0 0 0-.063-.745A9.455 9.455 0 0 0 8 6c-1.905 0-3.68.56-5.166 1.526a.48.48 0 0 0-.063.745.525.525 0 0 0 .652.065A8.46 8.46 0 0 1 8 7a8.46 8.46 0 0 1 4.576 1.336c.206.132.48.108.653-.065zm-2.183 2.183c.226-.226.185-.605-.1-.75A6.473 6.473 0 0 0 8 9c-1.06 0-2.062.254-2.946.704-.285.145-.326.524-.1.75l.015.015c.16.16.407.19.611.09A5.478 5.478 0 0 1 8 10c.868 0 1.69.201 2.42.56.203.1.45.07.61-.091l.016-.015zM9.06 12.44c.196-.196.198-.52-.04-.66A1.99 1.99 0 0 0 8 11.5a1.99 1.99 0 0 0-1.02.28c-.238.14-.236.464-.04.66l.706.706a.5.5 0 0 0 .707 0l.707-.707z\"}})])])],1),_c('b-sidebar',{attrs:{\"name\":\"bsidebar\",\"id\":\"bsidebar\",\"width\":_vm.width,\"title\":_vm.title,\"right\":\"\",\"shadow\":\"\"},model:{value:(_vm.toggled),callback:function ($$v) {_vm.toggled=$$v},expression:\"toggled\"}},[_c('object-manager',{attrs:{\"id\":\"object-manager\",\"selected\":_vm.selected}})],1),_c('analysis'),_c('database')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(!_vm.imgLoaded)?_c('div',{attrs:{\"id\":\"imageload\"},on:{\"click\":_vm.selectImage}},[_c('input',{ref:\"imgLoad\",attrs:{\"type\":\"file\",\"accept\":\".png\"},on:{\"input\":_vm.storeImage}})]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- https://www.positronx.io/vue-image-preview-tutorial/ -->\n<!-- https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file -->\n\n<template>\n    <div>\n        <div @click=\"selectImage\" v-if=\"!imgLoaded\" id=\"imageload\">\n            <input \n                ref=\"imgLoad\" \n                type=\"file\"\n                accept=\".png\"\n                @input=\"storeImage\">\n        </div>\n    </div>\n</template>\n\n<script>\nimport { fileEventBus } from '../main.js';\nimport { objectEventBus } from '../main.js';\n\nexport default {\n    data: function () {\n        return {\n            img: {\n                img: new Image(),\n                name: '',\n                type: null\n            },\n            imgLoaded: false,\n        }\n    },\n    methods: {\n        selectImage: function() {\n            this.$refs.imgLoad.click();\n        },\n        storeImage: function() {\n            let input = this.$refs.imgLoad;\n            let file = input.files;\n            let img = new Image();\n\n            if (file && file[0]) {\n                let reader = new FileReader;\n                reader.fileName = file[0].name;\n                reader.onload = e => {\n                    img.src = e.target.result;\n                    this.img.name = e.target.fileName;\n                }\n                reader.onloadend = () => {\n                    this.img.img = img;\n                    this.imgLoaded = true;\n                    this.img.type = file[0].type;\n                    this.img.file = file[0]\n                    this.submitImage();\n                }\n                reader.readAsDataURL(file[0]);\n            }\n        },\n        submitImage: function() {\n            fileEventBus.imageLoaded(this.img);\n            objectEventBus.createBoard(this.img);\n        }\n    },\n}\n</script>\n\n<style scoped lang=\"scss\">\n  #imageload {\n      position: absolute;\n      top: 0;\n      left: 0;\n      opacity: 0;\n      height: 100%;\n      width: 100%;\n      z-index: 999;\n  }\n    input {\n        visibility: hidden;\n    }\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageLoad.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageLoad.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImageLoad.vue?vue&type=template&id=7eec34d9&scoped=true&\"\nimport script from \"./ImageLoad.vue?vue&type=script&lang=js&\"\nexport * from \"./ImageLoad.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ImageLoad.vue?vue&type=style&index=0&id=7eec34d9&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7eec34d9\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"px-3 py-2\",attrs:{\"id\":\"objectManager\"}},[(_vm.selected[0])?_c('div',[(_vm.selected[0].space)?_c('space-list',{key:_vm.selected[0].space.id,attrs:{\"space\":_vm.selected[0].space,\"id\":_vm.selected[0].space.id,\"embed\":false}}):_vm._e(),(_vm.selected[0].connection)?_c('connection-list',{key:_vm.selected[0].connection.id,attrs:{\"connection\":_vm.selected[0].connection,\"id\":_vm.selected[0].connection.id,\"embed\":false}}):_vm._e()],1):(_vm.analysisToggle)?_c('div'):(_vm.topBoard)?_c('div',[_c('board-list',{key:_vm.topBoard.id,attrs:{\"board\":_vm.topBoard,\"id\":_vm.topBoard.id}})],1):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import * as firebase from \"firebase\"\nimport \"firebase/database\"\nimport \"firebase/storage\"\n\nconst config = {\n    apiKey: \"AIzaSyC2pxabpZMk1Nc3C7H0_v3AyTa6ZVMi4os\",\n    authDomain: \"double-sixes-testing.firebaseapp.com\",\n    projectId: \"double-sixes-testing\",\n    storageBucket: \"double-sixes-testing.appspot.com\",\n    messagingSenderId: \"60295337404\",\n    appId: \"1:60295337404:web:9e4fa15760147e01f287b9\"\n  };\n\nfirebase.initializeApp(config);\n\nconst container = {\n  db: firebase.database(),\n  store: firebase.storage()\n}\n\nexport default container","//https://firebase.google.com/docs/storage/web/upload-files#web-version-8\nimport { fabric } from 'fabric'\nimport firebase from \"./firebase\"\nconst db = firebase.db.ref()\nconst store = firebase.store.ref()\n\nclass DataService {\n  getAll() {\n    return db;\n  }\n\n  async createThubmnail(img)\n  {\n    return new Promise(\n      (resolve) =>\n      {\n        let thumbnail = {}\n        let imgReader = new FileReader()\n        imgReader.onload = function(read)\n        {\n          let url = read.target.result\n          fabric.Image.fromURL(url, \n            (img) =>\n            {\n              const max = 128\n              let scale = Math.min(max / img.width, max / img.height)\n              img.filters.push(new fabric.Image.filters.Resize(\n              {\n                scaleX: scale,\n                scaleY: scale\n              }))\n              img.applyFilters()\n              thumbnail = img._element.toDataURL()\n              resolve(thumbnail)\n          })\n        }\n        imgReader.readAsDataURL(img.file)\n      })\n  }\n\n  async imageUpload(img, name)\n  {\n    console.log(\"trying to upload \", name)\n    return new Promise(\n    (resolve, reject) =>\n    {\n      let imageUpload = {}\n      if (typeof(img) == 'string') imageUpload = store.child(name).putString(img, 'data_url')\n      else imageUpload = store.child(name).put(img.file)\n      imageUpload.on('state_changed',\n      (snapshot) =>\n      {\n        const progress = Math.ceil((snapshot.bytesTransferred / snapshot.totalBytes) * 100)\n        console.log(progress + '% uploaded')\n      },\n      (error) => {\n        console.log(error)\n        reject(error)\n      },\n      async () =>\n      {\n        const url = await imageUpload.snapshot.ref.getDownloadURL()\n        console.log('uploaded to ' + url)\n        resolve(url)\n      })\n    })\n  }\n\n  async create(img, content) {\n    //create thumbnail image\n    let thumbnail = await new Promise(\n    (resolve) => \n    {\n      this.createThubmnail(img).then(\n        (thumb) =>\n        {\n          resolve(thumb)\n        }\n      )\n    })\n    \n    //upload img\n    content.url = await new Promise((resolve) =>\n    {\n      this.imageUpload(img, content.title).then(\n        (url) =>\n        {\n          resolve(url)\n        }\n      ).catch(\n      (error) =>\n      {\n  \n      }\n    )\n    })\n\n  //upload thumb to store, save url\n  content.url_thumb = await new Promise((resolve) =>\n  {\n    this.imageUpload(thumbnail, content.title + '_thumb').then(\n      (url) =>\n      {\n        resolve(url)\n      }\n    ).catch(\n      (error) =>\n      {\n  \n      }\n    )\n  })\n  \n  //upload content to database\n  db.push(content).then(\n  () =>\n  {\n      console.log(\"submitted\", content.title, \" successfully: \")\n      console.log(content)\n  }).catch(\n  (e) =>\n  {\n      console.log(e)\n  })\n  }\n\n  update(key, value) {\n    return db.child(key).update(value);\n  }\n\n  delete(key) {\n    return db.child(key).remove();\n  }\n\n  deleteAll() {\n    return db.remove();\n  }\n}\n\nexport default new DataService();\n","export default class Board {\n    //neccesary\n    fileName = \"\";\n    image = []; //Image\n    \n    title = \"\"; //String\n    id = 0; //added by ObjectManager.vue\n    movementType = '';\n    chanceMechanism = '';\n    type = [];\n    spaces = {}\n\n    //unneccesary\n    englishTitle = '';\n    date = '';\n    height = '';\n    width = '';\n    artist = '';\n    publisher = '';\n    theme = [];\n    material = null;\n    otherMaterial = '';\n\n    constructor (fileName, image) {\n        this.fileName = fileName;\n        this.image = image;\n    }\n\n    set fileName(fileName) {\n        this.fileName = fileName;\n    }\n\n    set title(title) {\n        this.title = title;\n    }\n    \n    set image(image) {\n        this.image = image;\n    }\n\n    set id(id) {\n        this.id = id;\n    }\n\n    set dice(dice) {\n        this.dice = dice;\n    }\n\n    set furidashi(space) {\n        this.furidashi = space;\n    }\n\n    set agari(space) {\n        this.agari = space;\n    }\n\n    set spaces(spaces) {\n        this.spaces = spaces;\n    }\n\n    get fileName() {\n        return this.fileName;\n    }\n\n    get title() {\n        return this.title;\n    }\n\n    get id() {\n        return this.id;\n    }\n\n    get image() {\n        return this.image;\n    }\n    \n    get spacesAmount() {\n        return this.spaces.length;\n    }\n\n    get spaces() {\n        return this.spaces;\n    }\n\n    trimTitle(title) {\n        return title.split('.').slice(0, -1).join('.');\n    }\n\n    spaceAt(index) {\n        return this.spaces[index];\n    }\n\n    addSpace(space) {\n        this.spaces.push(space);\n    }\n\n    removeSpace(index) {\n        this.spaces = this.spaces.splice(index, 1);\n    }\n\n    clearSpaces() {\n        this.spaces = [];\n    }\n}","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('b-form',{attrs:{\"id\":_vm.id.toString()}},[(_vm.board)?_c('b-img',{attrs:{\"src\":_vm.board.image.src,\"fluid\":\"\",\"thumbnail\":\"\"}}):_vm._e(),_c('p',[_c('small',[_c('em',[_vm._v(_vm._s(_vm.board.fileName))])])]),_c('b-form-group',{staticClass:\"mb-0\",attrs:{\"label\":\"Publication Info\",\"label-class\":\"font-weight-bold pt-0\"}},[_c('b-form-group',{attrs:{\"id\":\"input-group-1\",\"label\":\"Title\",\"label-for\":\"input-1\",\"label-size\":\"sm\"}},[_c('b-form-input',{attrs:{\"id\":\"input-1\",\"size\":\"sm\"},model:{value:(_vm.board.title),callback:function ($$v) {_vm.$set(_vm.board, \"title\", $$v)},expression:\"board.title\"}})],1),_c('b-form-group',{attrs:{\"id\":\"input-group-2\",\"label\":\"Title (Translated)\",\"label-for\":\"input-2\",\"label-size\":\"sm\"}},[_c('b-form-input',{attrs:{\"id\":\"input-2\",\"size\":\"sm\"},model:{value:(_vm.board.englishTitle),callback:function ($$v) {_vm.$set(_vm.board, \"englishTitle\", $$v)},expression:\"board.englishTitle\"}})],1),_c('b-form-group',{attrs:{\"id\":\"input-group-7\",\"label\":\"Date\",\"label-for\":\"input-7\",\"description\":\"YYYY/MM/DD\",\"label-size\":\"sm\"}},[_c('b-form-input',{attrs:{\"id\":\"input-7\",\"size\":\"sm\"},model:{value:(_vm.board.date),callback:function ($$v) {_vm.$set(_vm.board, \"date\", $$v)},expression:\"board.date\"}})],1),_c('b-form-group',{attrs:{\"id\":\"input-group-9\",\"label\":\"Publisher\",\"label-for\":\"input-9\",\"label-size\":\"sm\"}},[_c('b-form-input',{attrs:{\"id\":\"input-9\",\"size\":\"sm\"},model:{value:(_vm.board.publisher),callback:function ($$v) {_vm.$set(_vm.board, \"publisher\", $$v)},expression:\"board.publisher\"}})],1),_c('b-form-group',{attrs:{\"id\":\"input-group-12\",\"label\":\"Artist\",\"label-for\":\"input-12\",\"label-size\":\"sm\"}},[_c('b-form-input',{attrs:{\"id\":\"input-12\",\"size\":\"sm\"},model:{value:(_vm.board.artist),callback:function ($$v) {_vm.$set(_vm.board, \"artist\", $$v)},expression:\"board.artist\"}})],1)],1),_c('b-form-group',{staticClass:\"mb-1\",attrs:{\"label\":\"Design Info\",\"label-class\":\"font-weight-bold pt-0\"}},[_c('b-form-group',{attrs:{\"id\":\"input-group-3\",\"label\":\"Theme\",\"label-for\":\"input-3\",\"description\":\"Comma separated\",\"label-size\":\"sm\"}},[_c('b-form-tags',{attrs:{\"id\":\"input-3\",\"separator\":\",\",\"size\":\"sm\"},model:{value:(_vm.board.theme),callback:function ($$v) {_vm.$set(_vm.board, \"theme\", $$v)},expression:\"board.theme\"}})],1),_c('b-form-group',{attrs:{\"id\":\"input-group-13\",\"label\":\"Movement Type\",\"label-for\":\"input-13\",\"label-size\":\"sm\"}},[_c('b-form-select',{attrs:{\"id\":\"input-13\",\"size\":\"sm\",\"options\":_vm.boardOptions.movementType},model:{value:(_vm.board.movementType),callback:function ($$v) {_vm.$set(_vm.board, \"movementType\", $$v)},expression:\"board.movementType\"}})],1),_c('b-form-group',{attrs:{\"id\":\"input-group-14\",\"label\":\"Chance Mechanism\",\"label-for\":\"input-14\",\"label-size\":\"sm\"}},[_c('b-form-select',{attrs:{\"id\":\"input-14\",\"size\":\"sm\",\"options\":_vm.boardOptions.chanceMechanism},model:{value:(_vm.board.chanceMechanism),callback:function ($$v) {_vm.$set(_vm.board, \"chanceMechanism\", $$v)},expression:\"board.chanceMechanism\"}})],1)],1),_c('b-form-group',{staticClass:\"mb-2\",attrs:{\"label\":\"Material Info\",\"label-class\":\"font-weight-bold pt-0\"}},[_c('b-form-group',{attrs:{\"id\":\"input-group-5\",\"label\":\"Height\",\"label-for\":\"input-5\",\"description\":\"cm\",\"label-size\":\"sm\"}},[_c('b-form-input',{attrs:{\"id\":\"input-5\",\"size\":\"sm\"},model:{value:(_vm.board.height),callback:function ($$v) {_vm.$set(_vm.board, \"height\", $$v)},expression:\"board.height\"}})],1),_c('b-form-group',{attrs:{\"id\":\"input-group-6\",\"label\":\"Width\",\"label-for\":\"input-6\",\"description\":\"cm\",\"label-size\":\"sm\"}},[_c('b-form-input',{attrs:{\"id\":\"input-6\",\"size\":\"sm\"},model:{value:(_vm.board.width),callback:function ($$v) {_vm.$set(_vm.board, \"width\", $$v)},expression:\"board.width\"}})],1),_c('b-form-group',{attrs:{\"id\":\"input-group-10\",\"label\":\"Material\",\"label-for\":\"input-10\",\"label-size\":\"sm\"}},[_c('b-form-select',{attrs:{\"id\":\"input-10\",\"size\":\"sm\",\"options\":_vm.boardOptions.material},model:{value:(_vm.board.material),callback:function ($$v) {_vm.$set(_vm.board, \"material\", $$v)},expression:\"board.material\"}})],1),(_vm.board.material == 'other')?_c('b-form-group',{attrs:{\"id\":\"input-group-11\",\"label\":\"Other Material\",\"label-for\":\"input-11\",\"label-size\":\"sm\"}},[_c('b-form-input',{attrs:{\"id\":\"input-11\",\"size\":\"sm\"},model:{value:(_vm.board.otherMaterial),callback:function ($$v) {_vm.$set(_vm.board, \"otherMaterial\", $$v)},expression:\"board.otherMaterial\"}})],1):_vm._e()],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <b-form :id=\"id.toString()\">\n            <b-img v-if=\"board\" :src=\"board.image.src\" fluid thumbnail></b-img>\n            <p><small><em>{{ board.fileName }}</em></small></p>\n            <b-form-group\n                label=\"Publication Info\"\n                label-class=\"font-weight-bold pt-0\"\n                class=\"mb-0\">\n                <b-form-group\n                    id=\"input-group-1\"\n                    label=\"Title\"\n                    label-for=\"input-1\"\n                    label-size=\"sm\">\n                <b-form-input\n                    id=\"input-1\"\n                    size=\"sm\"\n                    v-model=\"board.title\">\n                </b-form-input>\n                </b-form-group>\n                <b-form-group\n                    id=\"input-group-2\"\n                    label=\"Title (Translated)\"\n                    label-for=\"input-2\"\n                    label-size=\"sm\">\n                <b-form-input\n                    id=\"input-2\"\n                    size=\"sm\"\n                    v-model=\"board.englishTitle\">\n                </b-form-input>\n                </b-form-group>\n                <b-form-group\n                    id=\"input-group-7\"\n                    label=\"Date\"\n                    label-for=\"input-7\"\n                    description=\"YYYY/MM/DD\"\n                    label-size=\"sm\">\n                <b-form-input\n                    id=\"input-7\"\n                    size=\"sm\"\n                    v-model=\"board.date\">\n                </b-form-input>\n                </b-form-group>\n                <b-form-group\n                    id=\"input-group-9\"\n                    label=\"Publisher\"\n                    label-for=\"input-9\"\n                    label-size=\"sm\">\n                <b-form-input\n                    id=\"input-9\"\n                    size=\"sm\"\n                    v-model=\"board.publisher\">\n                </b-form-input>\n                </b-form-group>\n                <b-form-group\n                    id=\"input-group-12\"\n                    label=\"Artist\"\n                    label-for=\"input-12\"\n                    label-size=\"sm\">\n                <b-form-input\n                    id=\"input-12\"\n                    size=\"sm\"\n                    v-model=\"board.artist\">\n                </b-form-input>\n                </b-form-group>\n            </b-form-group>\n\n            <b-form-group\n            label=\"Design Info\"\n            label-class=\"font-weight-bold pt-0\"\n            class=\"mb-1\">\n                <b-form-group\n                    id=\"input-group-3\"\n                    label=\"Theme\"\n                    label-for=\"input-3\"\n                    description=\"Comma separated\"\n                    label-size=\"sm\">\n                <b-form-tags\n                    id=\"input-3\"\n                    v-model=\"board.theme\"\n                    separator=\",\"\n                    size=\"sm\">\n                </b-form-tags>\n                </b-form-group>\n                <b-form-group\n                    id=\"input-group-13\"\n                    label=\"Movement Type\"\n                    label-for=\"input-13\"\n                    label-size=\"sm\">\n                <b-form-select\n                    id=\"input-13\"\n                    size=\"sm\"\n                    v-model=\"board.movementType\" :options=\"boardOptions.movementType\">\n                </b-form-select>\n                </b-form-group>\n                <b-form-group\n                    id=\"input-group-14\"\n                    label=\"Chance Mechanism\"\n                    label-for=\"input-14\"\n                    label-size=\"sm\">\n                <b-form-select\n                    id=\"input-14\"\n                    size=\"sm\"\n                    v-model=\"board.chanceMechanism\" :options=\"boardOptions.chanceMechanism\">\n                </b-form-select>\n                </b-form-group>\n            </b-form-group>\n\n            <b-form-group\n            label=\"Material Info\"\n            label-class=\"font-weight-bold pt-0\"\n            class=\"mb-2\">\n                <b-form-group\n                    id=\"input-group-5\"\n                    label=\"Height\"\n                    label-for=\"input-5\"\n                    description=\"cm\"\n                    label-size=\"sm\">\n                <b-form-input\n                    id=\"input-5\"\n                    size=\"sm\"\n                    v-model=\"board.height\">\n                </b-form-input>\n                </b-form-group>\n                <b-form-group\n                    id=\"input-group-6\"\n                    label=\"Width\"\n                    label-for=\"input-6\"\n                    description=\"cm\"\n                    label-size=\"sm\">\n                <b-form-input\n                    id=\"input-6\"\n                    size=\"sm\"\n                    v-model=\"board.width\">\n                </b-form-input>\n                </b-form-group>\n                <b-form-group\n                    id=\"input-group-10\"\n                    label=\"Material\"\n                    label-for=\"input-10\"\n                    label-size=\"sm\">\n                <b-form-select\n                    id=\"input-10\"\n                    size=\"sm\"\n                    v-model=\"board.material\" :options=\"boardOptions.material\"> <!-- dropdown -->\n                </b-form-select>\n                </b-form-group>\n                <b-form-group v-if=\"board.material == 'other'\"\n                    id=\"input-group-11\"\n                    label=\"Other Material\"\n                    label-for=\"input-11\"\n                    label-size=\"sm\">\n                <b-form-input\n                    id=\"input-11\"\n                    size=\"sm\"\n                    v-model=\"board.otherMaterial\"> <!-- multi dropdown -->\n                </b-form-input>\n                </b-form-group>\n            </b-form-group>\n        </b-form>\n    </div>\n</template>\n\n<script>\n//import Board from '../classes/Board.js';\n\nexport default {\n    data() {\n        return {\n            boardOptions: {\n                movementType: [\n                    { value: \"roundabout\", text: '回り / Roundabout'},\n                    { value: \"jumping-roundabout\", text: '飛び回り / Jumping Roundabout)'},\n                    { value: \"jumping\", text: '飛び / Jumping'},\n                    { value: \"parted\", text: '振分 / Parted'},\n                    { value: \"hybrid\", text: 'Hybrid'}\n                ],\n                material: [\n                    { value: \"paper\", text: \"Paper\"},\n                    { value: \"cardboard\", text: \"Cardboard\"},\n                    { value: \"newsprint\", text: \"Newsprint\"},\n                    { value: \"chipboard\", text: \"Chipboard\"},\n                    { value: \"fabric\", text: \"Fabric\"},\n                    { value: \"plastic\", text: \"Plastic\"},\n                    { value: \"unknown\", text: \"Unknown\"},\n                    { value: \"other\", text: \"Other\"}\n                ],\n                chanceMechanism: [\n                    { value: \"dice\", text: \"Dice\"},\n                    { value: \"cards\", text: \"Cards\", disabled: true},\n                    { value: \"roulette\", text: \"Roulette\"},\n                    { value: \"spinner\", text: \"Spinner\"},\n                    { value: \"teetotem\", text: \"Teetotem\"},\n                    { value: \"electronic\", text: \"Electronic\"}\n                ]\n            \n            }\n        }\n    },\n    props: {\n        board: Object,\n        id: Number\n    },\n    mounted() {\n        \n    },\n    created() {\n\n    },\n    computed: {\n    \n    },\n    components: {\n\n    },\n    methods: {\n\n    },\n}\n\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BoardVue.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BoardVue.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BoardVue.vue?vue&type=template&id=09f40514&scoped=true&\"\nimport script from \"./BoardVue.vue?vue&type=script&lang=js&\"\nexport * from \"./BoardVue.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"09f40514\",\n  null\n  \n)\n\nexport default component.exports","//todo: index is poorly named, change it (to like, 'name' or something)\n//'effect' - 一回休み、2回休み\n//  other effects could be added\n//  this will be a huge job\n//adding connections/jumping on the space (like effects) would be really helpful\n//selecting connections + lil pictures from a dropdown menu... fuck\nexport default class Space {\n    index = 0;\n    shape = {};\n\n    id = \"\"; //added by ObjectManager.vue\n    number = \"\";\n    furidashi = false;\n    agari = false;\n    exact = true;\n    description = \"\";\n    instructionText = \"\";\n    instructionTranslation = \"\";\n    otherText = \"\";\n    otherTranslation = \"\";\n\n    constructor(shape) {\n        this.shape = shape;\n    }\n\n    get id() {\n        return this.id;\n    }\n\n    set id(id) {\n        this.id = id;\n        this.shape.id = id;\n    }\n\n    SetID(id) {\n        this.id = id;\n        this.shape.id = id;\n    }\n}","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('b-form',{attrs:{\"id\":_vm.id.toString()}},[_c('b-form-group',{staticClass:\"mb-0\",attrs:{\"label\":\"Space Info\",\"label-class\":\"font-weight-bold pt-0\"}},[_c('b-form-group',{attrs:{\"id\":\"input-group-1\",\"label\":\"Space #\",\"label-for\":\"input-1\",\"label-size\":\"sm\"}},[_c('b-form-input',{attrs:{\"id\":\"input-1\",\"size\":\"sm\"},model:{value:(_vm.space.number),callback:function ($$v) {_vm.$set(_vm.space, \"number\", $$v)},expression:\"space.number\"}})],1),_c('b-form-checkbox',{attrs:{\"id\":\"checkbox-1\",\"size\":\"sm\"},on:{\"change\":_vm.furidashi},model:{value:(_vm.space.furidashi),callback:function ($$v) {_vm.$set(_vm.space, \"furidashi\", $$v)},expression:\"space.furidashi\"}},[_vm._v(\"\\n                振り出し / Start\\n            \")]),_c('b-form-checkbox',{attrs:{\"id\":\"checkbox-2\",\"size\":\"sm\"},on:{\"change\":_vm.agari},model:{value:(_vm.space.agari),callback:function ($$v) {_vm.$set(_vm.space, \"agari\", $$v)},expression:\"space.agari\"}},[_vm._v(\"\\n                上がり / End\\n            \")]),(_vm.space.agari)?_c('b-form-checkbox',{attrs:{\"id\":\"checkbox-3\",\"size\":\"sm\"},model:{value:(_vm.space.exact),callback:function ($$v) {_vm.$set(_vm.space, \"exact\", $$v)},expression:\"space.exact\"}},[_vm._v(\"\\n                Exact roll needed for 上がり\\n            \")]):_vm._e(),_c('b-form-group',{attrs:{\"id\":\"input-group-3\",\"label\":\"Description\",\"label-for\":\"input-3\",\"label-size\":\"sm\"}},[_c('b-form-textarea',{attrs:{\"id\":\"input-3\",\"size\":\"sm\",\"placeholder\":\"Description\"},model:{value:(_vm.space.description),callback:function ($$v) {_vm.$set(_vm.space, \"description\", $$v)},expression:\"space.description\"}})],1)],1),_c('b-form-group',{staticClass:\"mb-0\",attrs:{\"label\":\"Text\",\"label-class\":\"font-weight-bold pt-0\"}},[_c('b-form-group',{attrs:{\"id\":\"input-group-4\",\"label\":\"Instruction Text\",\"label-for\":\"input-4\",\"label-size\":\"sm\"}},[_c('b-form-textarea',{attrs:{\"id\":\"input-4\",\"size\":\"sm\",\"placeholder\":\"Instruction Text\"},model:{value:(_vm.space.instructionText),callback:function ($$v) {_vm.$set(_vm.space, \"instructionText\", $$v)},expression:\"space.instructionText\"}})],1),_c('b-form-group',{attrs:{\"id\":\"input-group-5\",\"label\":\"Instruction Translation\",\"label-for\":\"input-5\",\"label-size\":\"sm\"}},[_c('b-form-textarea',{attrs:{\"id\":\"input-5\",\"size\":\"sm\",\"placeholder\":\"Instruction Translation\"},model:{value:(_vm.space.instructionTranslation),callback:function ($$v) {_vm.$set(_vm.space, \"instructionTranslation\", $$v)},expression:\"space.instructionTranslation\"}})],1),_c('b-form-group',{attrs:{\"id\":\"input-group-6\",\"label\":\"Other Text\",\"label-for\":\"input-6\",\"label-size\":\"sm\"}},[_c('b-form-textarea',{attrs:{\"id\":\"input-6\",\"size\":\"sm\",\"placeholder\":\"Other Text\"},model:{value:(_vm.space.otherText),callback:function ($$v) {_vm.$set(_vm.space, \"otherText\", $$v)},expression:\"space.otherText\"}})],1),_c('b-form-group',{attrs:{\"id\":\"input-group-4\",\"label\":\"Other Translation\",\"label-for\":\"input-4\",\"label-size\":\"sm\"}},[_c('b-form-textarea',{attrs:{\"id\":\"input-4\",\"size\":\"sm\",\"placeholder\":\"Other Translation\"},model:{value:(_vm.space.otherTranslation),callback:function ($$v) {_vm.$set(_vm.space, \"otherTranslation\", $$v)},expression:\"space.otherTranslation\"}})],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- todo: add collapse/card for connections -->\n<template>\n    <div>\n    <b-form :id=\"id.toString()\">\n            <b-form-group\n                label=\"Space Info\"\n                label-class=\"font-weight-bold pt-0\"\n                class=\"mb-0\">\n                <b-form-group\n                    id=\"input-group-1\"\n                    label=\"Space #\"\n                    label-for=\"input-1\"\n                    label-size=\"sm\">\n                <b-form-input\n                    id=\"input-1\"\n                    size=\"sm\"\n                    v-model=\"space.number\">\n                </b-form-input>\n                </b-form-group>\n                <b-form-checkbox\n                    id=\"checkbox-1\"\n                    size=\"sm\"\n                    @change=\"furidashi\"\n                    v-model=\"space.furidashi\">\n                    振り出し / Start\n                </b-form-checkbox>\n                <b-form-checkbox\n                    id=\"checkbox-2\"\n                    size=\"sm\"\n                    @change=\"agari\"\n                    v-model=\"space.agari\">\n                    上がり / End\n                </b-form-checkbox>\n                <b-form-checkbox v-if=\"space.agari\"\n                    id=\"checkbox-3\"\n                    size=\"sm\"\n                    v-model=\"space.exact\">\n                    Exact roll needed for 上がり\n                </b-form-checkbox>\n                <b-form-group\n                    id=\"input-group-3\"\n                    label=\"Description\"\n                    label-for=\"input-3\"\n                    label-size=\"sm\">\n                <b-form-textarea\n                    id=\"input-3\"\n                    size=\"sm\"\n                    v-model=\"space.description\"\n                    placeholder=\"Description\">\n                </b-form-textarea>\n                </b-form-group>\n            </b-form-group>\n\n            <b-form-group\n                label=\"Text\"\n                label-class=\"font-weight-bold pt-0\"\n                class=\"mb-0\">\n                <b-form-group\n                    id=\"input-group-4\"\n                    label=\"Instruction Text\"\n                    label-for=\"input-4\"\n                    label-size=\"sm\">\n                <b-form-textarea\n                    id=\"input-4\"\n                    size=\"sm\"\n                    v-model=\"space.instructionText\"\n                    placeholder=\"Instruction Text\">\n                </b-form-textarea>\n                </b-form-group>\n                <b-form-group\n                    id=\"input-group-5\"\n                    label=\"Instruction Translation\"\n                    label-for=\"input-5\"\n                    label-size=\"sm\">\n                <b-form-textarea\n                    id=\"input-5\"\n                    size=\"sm\"\n                    v-model=\"space.instructionTranslation\"\n                    placeholder=\"Instruction Translation\">\n                </b-form-textarea>\n                </b-form-group>\n                <b-form-group\n                    id=\"input-group-6\"\n                    label=\"Other Text\"\n                    label-for=\"input-6\"\n                    label-size=\"sm\">\n                <b-form-textarea\n                    id=\"input-6\"\n                    size=\"sm\"\n                    v-model=\"space.otherText\"\n                    placeholder=\"Other Text\">\n                </b-form-textarea>\n                </b-form-group>\n                <b-form-group\n                    id=\"input-group-4\"\n                    label=\"Other Translation\"\n                    label-for=\"input-4\"\n                    label-size=\"sm\">\n                <b-form-textarea\n                    id=\"input-4\"\n                    size=\"sm\"\n                    v-model=\"space.otherTranslation\"\n                    placeholder=\"Other Translation\">\n                </b-form-textarea>\n                </b-form-group>\n            </b-form-group>\n        </b-form>\n    </div>\n</template>\n\n<script>\n//import Space from '../classes/Space.js';\n\nexport default {\n    data() {\n        return {\n\n        }\n    },\n    methods: {\n        furidashi: function(checked) {\n            if (checked) {\n                if (this.space.agari) this.space.agari = false;\n                this.space.shape.ChangeLabel('振り出し / Start');\n            }\n            else if (this.space.agari) this.space.shape.ChangeLabel('上がり / End')\n            else this.space.shape.ChangeLabel('');\n        },\n        agari: function(checked) {\n            if (checked) {\n                if (this.space.furidashi) this.space.furidashi = false;\n                this.space.shape.ChangeLabel('上がり / End');\n            }\n            else if (this.space.furidashi) this.space.shape.ChangeLabel('振り出し / Start'); \n            else this.space.shape.ChangeLabel('');\n        }\n    },\n    props: {\n        space: Object,\n        id: Number,\n        embed: Boolean\n    }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpaceVue.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpaceVue.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SpaceVue.vue?vue&type=template&id=1590ba4e&scoped=true&\"\nimport script from \"./SpaceVue.vue?vue&type=script&lang=js&\"\nexport * from \"./SpaceVue.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1590ba4e\",\n  null\n  \n)\n\nexport default component.exports","//todo:\n// why are other ids '1' while connection ids are 'connection-1'\n\nexport default class Connection {\n    origin = {};\n    target = {};\n    line = {};\n    type = 'sequential'; //'sequential' or 'jumping'\n    \n    id = ''; //added by ObjectManager.vue\n    chances = []\n    //chance = 1;\n    //chanceType = \"on\"; //'on', 'over', 'under', 'unless'\n\n    constructor(origin, target, line, type = 'sequential') \n    {\n        this.origin = origin\n        this.target = target\n        this.line = line\n        this.type = type\n        this.triangle = ''\n\n        this.chances.push({ value: 1, chanceType: 'on', index: 0 })\n\n        if (this.line) this.setLineColor()\n    }\n\n    //setLineColor()\n    //called from constructor, as well as from outside\n    setLineColor() {\n        this.line.set({'stroke': (this.type == 'sequential') ? 'red' : 'yellow'})\n    }\n\n    SetID(id) {\n        this.id = id;\n        this.line.id = id;\n        console.log(this.line);\n    }\n    \n    get type() {\n        return this.type;\n    }\n\n    get origin() {\n        return this.origin;\n    }\n\n    get target() {\n        return this.target;\n    }\n\n    get length() {\n        let origin = { \n            x: this.origin.aCoords.tl.x + (this.origin.aCoords.br.x / 2),\n            y: this.origin.aCoords.br.y + (this.origin.aCoords.tl.y / 2)\n        };\n        let target = { \n            x: this.target.aCoords.tl.x + (this.target.aCoords.br.x / 2),\n            y: this.target.aCoords.br.y + (this.target.aCoords.tl.y / 2)\n        };\n        return Math.sqrt(Math.pow(origin.x - target.x, 2) + Math.pow(origin.y - target.y,2))\n    }\n}","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('b-form',{attrs:{\"id\":_vm.id}},[_c('b-form-group',{staticClass:\"mb-0\",attrs:{\"label\":\"Connection Info\",\"label-class\":\"font-weight-bold pt-0\"}},[_c('b-form-group',{attrs:{\"id\":\"input-group-type\",\"label\":\"Type\",\"label-for\":\"input-type\",\"label-size\":\"sm\"}}),_c('b-form-select',{attrs:{\"id\":\"input-type\",\"size\":\"sm\",\"options\":_vm.connectionOptions.connectionType},on:{\"change\":_vm.setLineColor},model:{value:(_vm.connection.type),callback:function ($$v) {_vm.$set(_vm.connection, \"type\", $$v)},expression:\"connection.type\"}}),_c('p'),(_vm.connection.type == 'jumping')?_c('div',[_c('b-form-group',{attrs:{\"label\":\"Chance(s)\",\"label-size\":\"sm\"}},[_vm._l((_vm.connection.chances),function(chance){return _c('div',{key:chance.index},[_c('b-card',{attrs:{\"no-body\":\"\"}},[_c('b-list-group',{attrs:{\"flush\":\"\"}},[_c('b-list-group-item',[_c('b-form-select',{attrs:{\"id\":\"input-chance-type\",\"size\":\"sm\",\"options\":_vm.connectionOptions.chanceType},model:{value:(chance.chanceType),callback:function ($$v) {_vm.$set(chance, \"chanceType\", $$v)},expression:\"chance.chanceType\"}})],1),_c('b-list-group-item',[_c('b-form-input',{attrs:{\"id\":\"input-chance\",\"type\":\"number\",\"size\":\"sm\",\"min\":\"1\",\"max\":\"6\"},model:{value:(chance.value),callback:function ($$v) {_vm.$set(chance, \"value\", $$v)},expression:\"chance.value\"}})],1)],1)],1),_c('p')],1)}),_c('b-button',{attrs:{\"pill\":\"\",\"size\":\"sm\"},on:{\"click\":_vm.addConnection}},[_c('b-icon-plus')],1),_vm._v(\" \"+_vm._s(\" \")+\"\\n                    \"),_c('b-button',{attrs:{\"pill\":\"\",\"disabled\":_vm.connection.chances.length < 2,\"size\":\"sm\"},on:{\"click\":function($event){return _vm.connection.chances.pop()}}},[_c('b-icon-dash')],1)],2)],1):_vm._e(),_c('b-form-group',{attrs:{\"id\":\"input-group-length\",\"label\":\"Length\",\"label-for\":\"input-length\",\"label-size\":\"sm\"}},[_c('b-form-input',{attrs:{\"id\":\"input-length\",\"size\":\"sm\",\"disabled\":\"\"},model:{value:(_vm.length),callback:function ($$v) {_vm.length=$$v},expression:\"length\"}})],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <b-form :id=\"id\">\n            <!-- origin, target, chance strings, distance -->\n            <b-form-group\n                label=\"Connection Info\"\n                label-class=\"font-weight-bold pt-0\"\n                class=\"mb-0\">\n                <b-form-group\n                    id=\"input-group-type\"\n                    label=\"Type\"\n                    label-for=\"input-type\"\n                    label-size=\"sm\">\n                </b-form-group>\n                <b-form-select\n                    id=\"input-type\"\n                    size=\"sm\"\n                    v-model=\"connection.type\" :options=\"connectionOptions.connectionType\" @change=\"setLineColor\">\n                </b-form-select>\n\n                <p />\n\n                <div v-if=\"connection.type == 'jumping'\">\n                    <b-form-group\n                        label=\"Chance(s)\"\n                        label-size=\"sm\">\n                        <div v-for=\"chance in connection.chances\" :key=\"chance.index\">\n                            <b-card no-body>\n                                <b-list-group flush>\n                                    <b-list-group-item>\n                                    <b-form-select\n                                        id=\"input-chance-type\"\n                                        size=\"sm\"\n                                        v-model=\"chance.chanceType\" :options=\"connectionOptions.chanceType\">\n                                    </b-form-select>\n                                    </b-list-group-item>\n                                    <b-list-group-item>\n                                        <b-form-input\n                                            id=\"input-chance\"\n                                            type=\"number\"\n                                            size=\"sm\"\n                                            min=1\n                                            max=6\n                                            v-model=\"chance.value\">\n                                        </b-form-input>\n                                    </b-list-group-item>\n                                </b-list-group>\n                            </b-card>\n                            <p />\n                        </div>\n                        <b-button pill @click=\"addConnection\" size=\"sm\"> \n                            <b-icon-plus />\n                        </b-button> {{ \" \" }}\n                        <b-button pill @click=\"connection.chances.pop()\" :disabled=\"connection.chances.length < 2\" size=\"sm\">\n                            <b-icon-dash />\n                        </b-button>\n                    </b-form-group>\n                </div>\n\n\n                <b-form-group\n                    id=\"input-group-length\"\n                    label=\"Length\"\n                    label-for=\"input-length\"\n                    label-size=\"sm\">\n                <b-form-input\n                    id=\"input-length\"\n                    size=\"sm\"\n                    v-model=\"length\"\n                    disabled>\n                </b-form-input>\n                </b-form-group>\n            </b-form-group>\n            <!--<b-form-group\n                label=\"Connected Spaces\"\n                label-class=\"font-weight-bold pt-0\"\n                class=\"mb=0\">\n                <b-form-group\n                    label=\"Origin Space\"\n                    label-size=\"sm\">\n                    <b-button v-b-toggle.collapse-origin \n                    block\n                    size=\"sm\"\n                    :disabled=\"embed\"\n                    class=\"m-1\">{{ originName }}</b-button>\n                    <b-collapse id=\"collapse-origin\">\n                        <b-card>\n                            <space-list v-if=\"!embed\" \n                            :space=\"connection.origin.space\"\n                            :id=\"connection.origin.space.id\"\n                            :embed=\"true\"\n                            :key=\"connection.origin.space.id\">\n                            </space-list>\n                        </b-card>\n                    </b-collapse>\n                </b-form-group>\n                <b-form-group\n                    label=\"Target Space\"\n                    label-size=\"sm\">\n                <b-button v-b-toggle.collapse-target\n                block\n                size=\"sm\"\n                :disabled=\"embed\"\n                class=\"m-1\">{{ targetName }}</b-button>\n                <b-collapse id=\"collapse-target\">\n                    <b-card>\n                        <space-list v-if=\"!embed\"\n                        :space=\"connection.target.space\"\n                        :id=\"connection.target.space.id\"\n                        :embed=\"true\"\n                        :key=\"connection.origin.space.id\">\n                        </space-list>\n                    </b-card>\n                </b-collapse>\n                </b-form-group>\n            </b-form-group> -->\n        </b-form>\n    </div>\n</template>\n\n<script>\n//todo: 1 - 6 on chance number\n// todos on Connection.js\n\nexport default {\n    data() {\n        return {\n            connectionOptions: {\n                connectionType: [\n                    { value: \"sequential\", text: \"Sequential\"},\n                    { value: \"jumping\", text: \"Jumping\"}\n                ],\n                chanceType: [\n                    { value: \"on\", text: \"On\"},\n                    { value: \"over\", text: \"Over\"},\n                    { value: \"under\", text: \"Under\"},\n                    { value: \"unless\", text: \"Unless\"}\n                ]\n            }\n        }\n    },\n    props: {\n        connection: Object,\n        id: String,\n        embed: Boolean\n    },\n    methods: {\n        setLineColor: function() {\n            this.connection.setLineColor();\n        },\n        addConnection: function() \n        {\n            this.connection.chances.push({ value: 1, chanceType: 'on', index: this.connection.chances.length})\n        }\n    },\n    computed: {\n        title: function() {\n            return this.originName + \" → \" + this.targetName;\n        },\n        originName: function() {\n            return (this.connection.origin.space.number != \"\") ? this.connection.origin.space.number.toString() : this.connection.origin.space.id;\n        },\n        targetName: function() {\n            return (this.connection.target.space.number != \"\") ? this.connection.target.space.number.toString() : this.connection.target.space.id;\n        },\n        length: function() {\n            return this.connection ? this.connection.length.toFixed(2) + \" px\" : 0;\n        }\n    }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnectionVue.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnectionVue.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ConnectionVue.vue?vue&type=template&id=219cf92c&scoped=true&\"\nimport script from \"./ConnectionVue.vue?vue&type=script&lang=js&\"\nexport * from \"./ConnectionVue.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"219cf92c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-sidebar',{attrs:{\"name\":\"asidebar\",\"id\":\"asidebar\",\"width\":_vm.width,\"title\":\"Analysis\",\"right\":\"\",\"shadow\":\"\"},on:{\"shown\":_vm.analyze,\"hidden\":_vm.reset}},[_c('div',{staticStyle:{\"padding\":\"10px\"}},[_c('b-card',{attrs:{\"id\":\"preconditions\",\"no-body\":\"\",\"border\":\"light\"},on:{\"click\":_vm.reset}},[_c('b-card-header',{staticClass:\"p-1\",attrs:{\"header-tag\":\"header\",\"role\":\"tab\"}},[_c('b-button',{directives:[{name:\"b-toggle\",rawName:\"v-b-toggle.preconditions-collapse\",modifiers:{\"preconditions-collapse\":true}}],attrs:{\"block\":\"\",\"variant\":_vm.preconditionsButton}},[_vm._v(\"Preconditions\")])],1),_c('b-collapse',{attrs:{\"visible\":\"\",\"id\":\"preconditions-collapse\"}},[_c('b-card',{attrs:{\"no-body\":\"\",\"border-variant\":_vm.cardColor,\"header-border-variant\":_vm.cardColor}},[_c('b-list-group',{attrs:{\"flush\":\"\"}},[_c('b-list-group-item',{staticClass:\"d-flex justify-content-between align-items-center\"},[(_vm.containsFuridashi)?_c('b-icon-check-circle',{attrs:{\"variant\":\"success\"}}):_c('b-icon-x-circle',{attrs:{\"variant\":\"danger\"}}),_vm._v(\"\\n                            振り出し / Start\\n                        \")],1),_c('b-list-group-item',{staticClass:\"d-flex justify-content-between align-items-center\"},[(_vm.containsAgari)?_c('b-icon-check-circle',{attrs:{\"variant\":\"success\"}}):_c('b-icon-x-circle',{attrs:{\"variant\":\"danger\"}}),_vm._v(\"\\n                            上がり / End\\n                        \")],1),_c('b-list-group-item',{staticClass:\"d-flex justify-content-between align-items-center\"},[(_vm.pathToEndExists)?_c('b-icon-check-circle',{attrs:{\"variant\":\"success\"}}):_c('b-icon-x-circle',{attrs:{\"variant\":\"danger\"}}),_vm._v(\"\\n                            振り出し ➞ 上がり path\\n                        \")],1),_c('b-list-group-item',{staticClass:\"d-flex justify-content-between align-items-center\"},[(_vm.noConflictingChances)?_c('b-icon-check-circle',{attrs:{\"variant\":\"success\"}}):_c('b-icon-x-circle',{attrs:{\"variant\":\"danger\"}}),_vm._v(\"\\n                            No jumping conflicts\\n                        \")],1),_c('b-list-group-item',{staticClass:\"d-flex justify-content-between align-items-center\"},[(_vm.noConflictingSequences)?_c('b-icon-check-circle',{attrs:{\"variant\":\"success\"}}):_c('b-icon-x-circle',{attrs:{\"variant\":\"danger\"}}),_vm._v(\"\\n                            No sequential conflicts\\n                        \")],1)],1)],1)],1)],1),_c('p'),_c('b-form',[_c('b-form-group',{staticClass:\"mb-0\",attrs:{\"label\":\"Agent-Based Analysis\",\"label-class\":\"font-weight-bold pt-0\"}},[_c('b-card',{attrs:{\"no-body\":\"\"}},[_c('b-card-header',{attrs:{\"header\":\"Controls\"},on:{\"click\":function($event){_vm.agentControlsVisible = !_vm.agentControlsVisible}}}),_c('b-collapse',{model:{value:(_vm.agentControlsVisible),callback:function ($$v) {_vm.agentControlsVisible=$$v},expression:\"agentControlsVisible\"}},[_c('b-card-body',[_c('b-form-group',{attrs:{\"label\":\"# of Players\",\"label-size\":\"sm\",\"disabled\":!_vm.readyToAnimate}},[_c('b-form-input',{attrs:{\"size\":\"sm\"},model:{value:(_vm.playerCount),callback:function ($$v) {_vm.playerCount=$$v},expression:\"playerCount\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Game ends on Agari\",\"label-size\":\"sm\"}},[_c('b-form-checkbox',{attrs:{\"size\":\"sm\",\"disabled\":!_vm.readyToAnimate},model:{value:(_vm.finishAnimationOnAgari),callback:function ($$v) {_vm.finishAnimationOnAgari=$$v},expression:\"finishAnimationOnAgari\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Speed\",\"label-size\":\"sm\"}},[_c('b-form-input',{attrs:{\"size\":\"sm\",\"type\":\"range\",\"min\":\"0\",\"max\":\"1\",\"disabled\":true},model:{value:(_vm.animationSpeed),callback:function ($$v) {_vm.animationSpeed=$$v},expression:\"animationSpeed\"}})],1),(_vm.doneAnimating)?_c('b-button',{attrs:{\"block\":\"\",\"variant\":\"success\",\"disabled\":!_vm.readyToAnimate},on:{\"click\":_vm.simulate}},[_c('b-icon-play-fill')],1):_c('b-button',{attrs:{\"block\":\"\",\"variant\":\"danger\"},on:{\"click\":_vm.reset}},[_c('b-icon-x-octagon-fill')],1)],1)],1)],1),_c('p'),_c('b-form-group',{attrs:{\"label\":\"# of Players who reached Agari\",\"label-size\":\"sm\"}},[_c('b-form-input',{attrs:{\"size\":\"sm\",\"disabled\":true},model:{value:(_vm.onAgari.length),callback:function ($$v) {_vm.$set(_vm.onAgari, \"length\", $$v)},expression:\"onAgari.length\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Rounds until complete\",\"label-size\":\"sm\"}},[_c('b-form-input',{attrs:{\"size\":\"sm\",\"disabled\":true},model:{value:(_vm.roundsUntilComplete),callback:function ($$v) {_vm.roundsUntilComplete=$$v},expression:\"roundsUntilComplete\"}})],1)],1)],1)],1),_c('div',{staticStyle:{\"padding\":\"10px\"}},[_c('b-button',{attrs:{\"block\":\"\",\"disabled\":!_vm.readyToAnimate || _vm.heatSpaces.length == 0},on:{\"click\":_vm.download}},[_c('b-icon-file-earmark-arrow-down'),_c('em',[_vm._v(\" Download analysis json\")])],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//todo: \n// consolidate symmetrical paths - paths with same spaces but different connections should be one Path\n// find optimal paths\n// toString()\n// vue\n\nexport default class Path \n{\n    spaces = []\n    connections = []\n    subPaths = []\n\n    constructor(spaces, connections) \n    {\n        this.spaces = spaces\n        this.connections = connections\n    }\n\n    findOptimalPath()\n    {\n        //todo\n    }\n\n    pathString()\n    {\n        let pathString = \"\"\n        this.spaces.forEach(space => pathString += (space.id + \", \"))\n        pathString = pathString.slice(0, pathString.length - 2)\n        return pathString\n    }\n\n    connectionsString()\n    {\n        let connectionString = \"\"\n        this.connections.forEach(connection => \n            {\n                connectionString += connection.origin.id + \" ➞ \" + connection.target.id + \", \"\n            })\n        connectionString = connectionString.slice(0, connectionString.length - 2)\n        return connectionString\n    }\n}","//todo:\n// use Path object instead of current path array\n// toString()\nimport Path from './Path.js'\n\n\nexport default class Player {\n    board\n    spaceOn\n    path = []\n    rolls = []\n    toMoveForward\n    toMoveBackward\n    done\n\n    constructor(furidashi, connections, debug = false)\n    { \n        this.board = connections\n        this.spaceOn = furidashi\n        this.path.push(furidashi)\n\n        this.debug = debug\n\n        while (!this.done) \n            this.roll()\n    }\n\n    roll() \n    {\n        if (this.done)\n            return\n\n        let roll = Math.floor(Math.random() * 6) + 1 // 1 - 6\n        this.rolls.push(roll)\n        this._debug(\"rolled \" + roll)\n        this._planMove(roll)\n    }\n\n    _planMove(roll) \n    {\n        this._debug(\"planMove \" + roll + \" on \" + this.spaceOn.id)\n        let next = this.spaceOn\n        let jumpingConnections = this._findJumpingConnections(this.spaceOn)\n        if (jumpingConnections.length > 0) \n        {\n            jumpingConnections.forEach(connection => \n                {\n                    connection.chances.forEach(chance => \n                        {\n                        switch(chance.chanceType) \n                        {\n                            case 'on':\n                                if (roll == chance.value) next = connection.target.space;\n                                break\n                            case 'over':\n                                if (roll > chance.value) next = connection.target.space;\n                                break\n                            case 'under':\n                                if (roll < chance.value) next = connection.target.space;\n                                break\n                            case 'unless':\n                                if (roll != chance.value) next = connection.target.space;\n                                break\n                            default:\n                                break\n                        }\n                    })\n                })\n        } \n        if (next != undefined) next = (this._spaceAhead(roll) || next)\n        this._move(next)\n    }\n\n    _move(space) \n    {\n        this._debug(\"move to \" + space.id)\n        if (this.animated) \n        {\n            //todo: move from this.spaceOn to space\n        }\n        this.spaceOn = space\n        this.path.push(this.spaceOn)\n\n        if (this.spaceOn.agari) this.done = true\n    }\n\n    _spaceAhead(amount) \n    {\n        this._debug(\"spaceAhead \" + amount + \" from \" + this.spaceOn.id)\n        let space = this.spaceOn\n        while (amount > 0)\n        {\n            if (space.agari)\n            {\n                if (space.exact) return this._spaceBehind(space, amount)\n                return space\n            }\n            let connection = this._findSequentialConnection(space)\n            if (!connection) return false\n            space = connection.target.space\n            amount--\n        }\n        return space\n    }\n\n    _spaceBehind(from, amount) \n    {\n        this._debug(\"spaceBehind \" + amount + \" from \" + from.id)\n        let space = from\n        while (amount > 0)\n        {\n            if (space.furidashi) return space\n            let connection = this._findReverseConnection(space)\n            space = connection.origin.space\n            amount--\n        }\n        return space\n    }\n\n    _findSequentialConnection(space) \n    {\n        this._debug(\"findSequentialConnection from \" + space.id)\n        let sequentialConnection = false\n        this.board.forEach(connection => \n            {\n                if (connection.origin.id == space.id && connection.type == 'sequential') \n                {\n                    sequentialConnection = connection\n                }\n            })\n        return sequentialConnection\n    }\n\n    _findJumpingConnections(space) \n    {\n        this._debug(\"findJumpingConnections\")\n        let connections = []\n        this.board.forEach(connection => \n            {\n                if (connection.origin.id == space.id && connection.type == 'jumping') \n                {\n                    connections.push(connection)\n                }\n            })\n        return connections\n    }\n\n    _findReverseConnection(space)\n    {\n        this._debug(\"findReverseConnection from \" + space.id)\n        let sequentialConnection = {}\n        this.board.forEach(connection =>\n            {\n                if (connection.target.id == space.id && connection.type == 'sequential') \n                {\n                    sequentialConnection = connection\n                }\n            })\n        return sequentialConnection\n    }\n\n    _debug(string)\n    {\n        if (this.debug) console.log(string)\n    }\n}","<template>\n    <b-sidebar name=\"asidebar\" id=\"asidebar\" :width=\"width\" title=\"Analysis\" @shown=\"analyze\" @hidden=\"reset\" right shadow>\n        <div style=\"padding: 10px\">\n            <b-card id=\"preconditions\" no-body border=\"light\" @click=\"reset\">\n                <b-card-header header-tag=\"header\" class=\"p-1\" role=\"tab\">\n                    <b-button block v-b-toggle.preconditions-collapse :variant=\"preconditionsButton\">Preconditions</b-button>\n                </b-card-header>\n                <b-collapse visible id=\"preconditions-collapse\">\n                    <b-card no-body :border-variant=\"cardColor\" :header-border-variant=\"cardColor\">\n                        <b-list-group flush>\n                            <b-list-group-item class=\"d-flex justify-content-between align-items-center\">\n                                <b-icon-check-circle v-if=\"containsFuridashi\" variant=\"success\"/>\n                                <b-icon-x-circle v-else variant=\"danger\"/>\n                                振り出し / Start\n                            </b-list-group-item>\n                            <b-list-group-item class=\"d-flex justify-content-between align-items-center\">\n                                <b-icon-check-circle v-if=\"containsAgari\" variant=\"success\"/>\n                                <b-icon-x-circle v-else variant=\"danger\"/>\n                                上がり / End\n                            </b-list-group-item>\n                            <b-list-group-item class=\"d-flex justify-content-between align-items-center\">\n                                <b-icon-check-circle v-if=\"pathToEndExists\" variant=\"success\"/>\n                                <b-icon-x-circle v-else variant=\"danger\"/>\n                                振り出し ➞ 上がり path\n                            </b-list-group-item>\n                            <b-list-group-item class=\"d-flex justify-content-between align-items-center\">\n                                <b-icon-check-circle v-if=\"noConflictingChances\" variant=\"success\"/>\n                                <b-icon-x-circle v-else variant=\"danger\"/>\n                                No jumping conflicts\n                            </b-list-group-item>\n                            <b-list-group-item class=\"d-flex justify-content-between align-items-center\">\n                                <b-icon-check-circle v-if=\"noConflictingSequences\" variant=\"success\"/>\n                                <b-icon-x-circle v-else variant=\"danger\"/>\n                                No sequential conflicts\n                            </b-list-group-item>\n                        </b-list-group>\n                    </b-card>\n                </b-collapse>\n            </b-card>\n            <p />\n            <b-form>\n                \n                <!-- <b-form-group\n                    label=\"Simple Analysis\"\n                    label-class=\"font-weight-bold pt-0\"\n                    class=\"mb-0\">\n                </b-form-group>\n\n                <b-form-group\n                    label=\"Paths Analysis\"\n                    label-class=\"font-weight-bold pt-0\"\n                    class=\"mb-0\">\n                </b-form-group> -->\n\n                <b-form-group\n                    label=\"Agent-Based Analysis\"\n                    label-class=\"font-weight-bold pt-0\"\n                    class=\"mb-0\">\n\n                    <b-card no-body>\n                        <b-card-header @click=\"agentControlsVisible = !agentControlsVisible\" header=\"Controls\"></b-card-header>\n                        <b-collapse v-model=\"agentControlsVisible\">\n                            <b-card-body>\n                            <b-form-group\n                                label=\"# of Players\"\n                                label-size=\"sm\"\n                                :disabled=\"!readyToAnimate\">\n                                <b-form-input v-model=\"playerCount\" size=\"sm\"></b-form-input>\n                            </b-form-group>\n                            <b-form-group\n                                label=\"Game ends on Agari\"\n                                label-size=\"sm\">\n                                <b-form-checkbox v-model=\"finishAnimationOnAgari\" size=\"sm\" :disabled=\"!readyToAnimate\"></b-form-checkbox>\n                            </b-form-group>\n                            <b-form-group\n                                label=\"Speed\"\n                                label-size=\"sm\">\n                                <!-- todo: currently useless -->\n                                <b-form-input v-model=\"animationSpeed\" size=\"sm\" type=\"range\" min=\"0\" max=\"1\" :disabled=\"true\"></b-form-input>\n                            </b-form-group>\n                            <b-button v-if=\"doneAnimating\" block variant=\"success\" @click=\"simulate\" :disabled=\"!readyToAnimate\">\n                                <b-icon-play-fill />\n                            </b-button>\n                            <b-button v-else block variant=\"danger\" @click=\"reset\">\n                                <b-icon-x-octagon-fill />\n                            </b-button>\n                            </b-card-body>\n                        </b-collapse>\n                     </b-card>\n                    <p />\n\n                    <b-form-group\n                        label=\"# of Players who reached Agari\"\n                        label-size=\"sm\">\n                    <b-form-input v-model=\"onAgari.length\" size=\"sm\" :disabled=\"true\"/>\n                    </b-form-group>\n                    <b-form-group\n                        label=\"Rounds until complete\"\n                        label-size=\"sm\">\n                    <b-form-input v-model=\"roundsUntilComplete\" size=\"sm\" :disabled=\"true\"/>\n                    </b-form-group>\n                </b-form-group>\n            </b-form>\n        </div>\n        <div style=\"padding: 10px\">\n        <b-button block @click=\"download\" :disabled=\"!readyToAnimate || heatSpaces.length == 0\">\n            <b-icon-file-earmark-arrow-down /> <em> Download analysis json</em>\n        </b-button>\n        </div>\n    </b-sidebar>\n</template>\n\n<script>\n//todo:\n// json download button\n// there seems to be a pathfinding bug with henshin.json that's obvious\n// paths permutations\n// path thing vue\n// find min heat max heat to more appropriately set heatToAdd\n// make speed work and not break shit\n// split this apart\n\nimport { fabric } from 'fabric'\nimport { saveAs } from 'file-saver'\nimport { objectEventBus } from '../main.js'\nimport Path from '../classes/Path.js'\nimport Player from '../classes/Player.js'\n\nexport default {\n    mounted() {\n        objectEventBus.$on('connectionsList', () => \n        {\n            this.getObjects()\n        })\n        objectEventBus.$on('createSpace', () => \n        {\n            this.getObjects()\n        })\n        objectEventBus.$on('delete', () =>\n        {\n            this.getObjects()\n        })\n    },\n    created() {\n\n    },\n    data() {\n        return {\n            canvas: {},\n            model: {},\n            Board: [],\n            Spaces: [],\n            Connections: [],\n            players: [],\n            playerShapes: [],\n            turnAt: 0,\n            roundAt: 0,\n            playerCount: 6,\n            finishAnimationOnAgari: true,\n            animationSpeed: 1,\n            onAgari: [],\n            firstOnAgari: [],\n            doneAnimating: true,\n            heatSpaces: [],\n            preconditionsVisible: true,\n            agentControlsVisible: true,\n        }\n    },\n    computed: {\n        width()\n        {\n            return '320px' //todo\n        },\n        furidashi() \n        {\n            return this.Spaces.find(space => space.furidashi);\n        },\n        agari() \n        {\n            return this.Spaces.find(space => space.agari);\n        },\n        containsFuridashi()\n        {\n            if (this.furidashi) return true\n            return false\n        },\n        containsAgari()\n        {\n            if (this.agari) return true\n            return false\n        },\n        isJumpingSugoroku() \n        {\n            if (this.Connections.find(connection => connection.type == 'jumping')) return true\n            else return false\n        },\n        paths()\n        {\n            return (this.findPaths(this.furidashi))\n        },\n        pathToEndExists() \n        {\n            if (!this.furidashi || !this.agari) return false\n            else if (this.paths.length == 0) return false\n            else return true\n        },\n        numberOfSpaces() \n        {\n            return this.Spaces.length\n        },\n        noConflictingChances()\n        {\n            //todo\n            return true\n        },\n        noConflictingSequences()\n        {\n            //todo\n            return true\n        },\n        isValid()\n        {\n            if (this.furidashi && this.agari && this.pathToEndExists && this.noConflictingChances && this.noConflictingSequences) {\n                return true\n            }\n            return false\n        },\n        cardColor()\n        {\n            if (this.isValid) return \"success\"\n            return \"danger\"\n        },\n        preconditionsButton()\n        {\n            if (this.isValid) return \"outline-success\"\n            return \"outline-danger\"\n        },\n        heatToAdd()\n        {\n            return (1 / (this.playerCount)) * 2\n            //return 0.1\n        },\n        readyToAnimate()\n        {\n            return (this.isValid && this.doneAnimating)\n        },\n        roundsUntilComplete()\n        {\n            let lastOnAgari = this.onAgari[this.onAgari.length - 1]\n            if (lastOnAgari) return lastOnAgari.path.length\n            return 0\n        }\n    },\n    components: {\n\n    },\n    methods: {\n        getObjects() \n        {\n            let obj = {};\n            objectEventBus.getObjects(obj);\n            this.Board = obj.Board;\n            this.Spaces = obj.Spaces;\n            this.Connections = obj.Connections;\n        },\n        getCanvas()\n        {\n            let obj = {}\n            objectEventBus.getCanvas(obj)\n            this.canvas = obj.canvas \n        },\n        analyze() \n        {\n            this.reset()\n            this.getObjects()\n            this.getCanvas()\n\n            console.log(\"analysis\\ncontains furidashi: \" + this.containsFuridashi + \n            \"\\ncontains agari: \" + this.containsAgari + \n            \"\\nspaces: \" + this.numberOfSpaces + \n            \"\\npath to end exists: \" + this.pathToEndExists)\n            \n            if (!this.paths) return\n\n            //todo: put this in its own function\n            let pathsString = \"non-looping paths (\" + this.paths.length + \")\\n\"\n            for (let i = 0; i < this.paths.length; i++)\n            {\n                pathsString += (i + 1) + \":\\t\"\n                pathsString += this.paths[i].pathString() + \"\\n\\t\"\n                pathsString += this.paths[i].connectionsString() + \"\\n\"\n            }\n            console.log(pathsString, this.paths)\n        },\n        simulate()\n        {\n            this.reset()\n            this.doneAnimating = false\n\n            if (this.isValid) \n            {\n                this.createHeat()\n                this.createPlayers()\n                this.animateNext()\n            }\n        },\n        createHeat()\n        {\n            this.canvas.getObjects().forEach(shape =>\n            {\n                let heatSpace = false\n                if (shape.type == 'ellSpace') \n                {\n                    heatSpace = new fabric.EllSpace({\n                        rx: shape.rx,\n                        ry: shape.ry\n                    })\n                }\n                else if (shape.type == 'rectSpace') \n                {\n                    heatSpace = new fabric.RectSpace({\n                        width: shape.width,\n                        height: shape.height\n                    })\n                }\n\n                if (heatSpace)\n                {\n                    heatSpace.heat = 0\n\n                    heatSpace.id = shape.id\n                    heatSpace.left = shape.left\n                    heatSpace.top = shape.top\n\n                    heatSpace.selectable = false\n                    heatSpace.strokeWidth = 0\n                    heatSpace.opacity = 0\n                    heatSpace.fill = 'rgba(0,0,0,0.66)'\n\n                    shape.heatSpace = heatSpace\n                    this.heatSpaces.push(heatSpace)\n                    this.canvas.add(heatSpace)\n                }\n            })\n        },\n        createPlayers()\n        {\n            for (let i = 0; i < this.playerCount; i++)\n            {\n                let player = new Player(this.furidashi, this.Connections)\n                this.players.push(player)\n                let playerShape = new fabric.PlayerShape({ id: i + 1 }, player, this.furidashi);\n                this.playerShapes.push(playerShape)\n                this.canvas.add(playerShape)\n            }\n            console.log(\"players (\" + this.playerCount + \")\", this.players)\n        },\n        animateNext()\n        {\n            this.turnAt += 1\n            if (this.turnAt > this.playerCount - 1) \n            {\n                if (this.onAgari.length > 0)\n                {\n                    if (this.firstOnAgari.length == 0) \n                        this.onAgari.forEach(player => this.firstOnAgari.push(player))\n\n                    if (this.finishAnimationOnAgari || this.onAgari.length == this.playerCount)\n                    {\n                        this.finishAnimation()\n                        return\n                    }\n                }\n                this.turnAt = 0\n                this.roundAt += 1\n            }\n\n            let playerShape = this.playerShapes[this.turnAt]\n            if (!playerShape) return\n            if (playerShape.animationAt > playerShape.path.length - 1)\n            {\n                this.animateNext()\n            } else {\n                let spaceOn = playerShape.path[playerShape.animationAt]\n                if (spaceOn.agari) \n                    this.onAgari.push(playerShape)\n\n                spaceOn.shape.heatSpace.opacity += this.heatToAdd\n                spaceOn.shape.heatSpace.heat += 1\n\n                this.animateShape(playerShape, this.animateNext)\n            }\n        },\n        animateShape(shape, callback)\n        {\n            if (shape.animationAt > shape.path.length - 1)\n            {\n                callback()\n                return\n            }\n\n            if (shape.animationAt == 0)\n            {\n                shape.animationAt += 1\n                callback()\n                return\n            }\n\n            let animationSpeed = this.animationSpeed\n            let newPosition = shape.findNewPosition()\n\n            shape.animate({'left': newPosition.left, 'top': newPosition.top },\n            {\n                duration: animationSpeed,\n                onChange: this.canvas.renderAll.bind(this.canvas),\n                onComplete: function() \n                {\n                    shape.animationAt += 1\n                    callback()\n                },\n                easing: fabric.util.ease.easeOutCirc\n            })\n        },\n        finishAnimation()\n        {\n            this.doneAnimating = true\n            console.log(\"players who reached agari in (\" + this.firstOnAgari[0].animationAt + \") turn(s) (\" + this.firstOnAgari.length + \")\", this.firstOnAgari)\n            console.log((this.roundAt + 1) + \" rounds to completion\")\n        },\n        findPaths(node, unvisitedEdges = [], visitedNodes = [], connectedEdges = [], paths = []) \n        {\n            if (!node) return\n\n            if (unvisitedEdges.length == 0 && visitedNodes.length == 0) \n                unvisitedEdges = [...this.Connections]\n\n            if (!visitedNodes.includes(node)) \n            {\n                visitedNodes.push(node)\n            }\n\n            if (node.agari == true) \n            {\n                paths.push(new Path(visitedNodes, connectedEdges))\n                return paths\n            }\n\n            let adjacentEdges = []\n            unvisitedEdges.forEach(edge => { if (edge.origin.id == node.id) adjacentEdges.push(edge) })\n\n            adjacentEdges.forEach(edge => \n            {\n                unvisitedEdges.splice(unvisitedEdges.indexOf(edge), 1) //remove edge from unvisitedEdges\n                let nextNode = edge.target.space\n                if (visitedNodes.includes(nextNode)) {\n                    this.findPaths(node, [...unvisitedEdges], [...visitedNodes], [...connectedEdges], paths);\n                }\n                else \n                {\n                    connectedEdges.push(edge)\n                    this.findPaths(nextNode, [...unvisitedEdges], [...visitedNodes], [...connectedEdges], paths);\n                }\n                connectedEdges.pop()\n            })\n            return paths;\n        },\n        reset()\n        {\n            if (this.players) this.players = []\n            this.playerShapes.forEach(shape => { this.canvas.remove(shape) })\n            this.heatSpaces.forEach(space => { this.canvas.remove(space) })\n            this.turnAt = 0\n            this.roundAt = 0\n            this.playerShapes = []\n            this.heatSpaces = []\n            this.firstOnAgari = []\n            this.onAgari = []\n            this.doneAnimating = true\n        },\n        download()\n        {\n            //todo: trash\n            let content = { numberOfSpaces: this.numberOfSpaces, paths: [...this.paths], players: [...this.players],  finishedInTurns: this.firstOnAgari[0].animationAt }\n            let filename = this.Board[0].fileName.split('.').slice(0, -1).join('.') + \"analysis.json\"\n            console.log(content)\n            content.paths.forEach(path => \n            {\n                path.connections.forEach(connection => \n                {\n                    connection.origin = connection.origin.id\n                    connection.target = connection.target.id\n                    connection.line.id = connection.id\n                    connection.line = connection.id\n                    connection.triangle = null\n                })\n                path.spaces.forEach(space => \n                {\n                    space.shape = space.shape.id\n                })\n            })\n\n            let file = new Blob([JSON.stringify(content, null, 2)], { type: 'application/json' })\n            saveAs(file, filename)\n            console.log('downloading ' + filename + '...');\n        }\n    },\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Analysis.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Analysis.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Analysis.vue?vue&type=template&id=2c16e2d7&scoped=true&\"\nimport script from \"./Analysis.vue?vue&type=script&lang=js&\"\nexport * from \"./Analysis.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2c16e2d7\",\n  null\n  \n)\n\nexport default component.exports","<!--https://stackoverflow.com/questions/34156282/how-do-i-save-json-to-local-text-file-->\n<!--https://github.com/eligrey/FileSaver.js-->\n<template>\n    <div id=\"objectManager\" class=\"px-3 py-2\">\n        <div v-if=\"selected[0]\">\n            <space-list v-if=\"selected[0].space\" \n            :space=\"selected[0].space\" \n            :id=\"selected[0].space.id\"\n            :embed=\"false\" \n            :key=\"selected[0].space.id\">\n            </space-list>\n            <connection-list v-if=\"selected[0].connection\" \n            :connection=\"selected[0].connection\" \n            :id=\"selected[0].connection.id\" \n            :embed=\"false\"\n            :key=\"selected[0].connection.id\">\n            </connection-list>\n        </div>\n\n        <div v-else-if=\"analysisToggle\">\n        \n        </div>\n\n        <div v-else-if=\"topBoard\">\n            <board-list :board=\"topBoard\" :id=\"topBoard.id\" :key=\"topBoard.id\">\n            </board-list>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { fileEventBus, objectEventBus } from '../main.js';\nimport { saveAs } from 'file-saver';\nimport DataService from '../dataservice';\nimport Board from '../classes/Board.js';\nimport BoardVue from './BoardVue.vue';\nimport Space from '../classes/Space.js';\nimport SpaceVue from './SpaceVue.vue';\nimport Connection from '../classes/Connection.js';\nimport ConnectionVue from './ConnectionVue.vue';\nimport Analysis from './Analysis.vue'\nimport uniqueID from 'lodash.uniqueid';\n\nexport default {\n    data() {\n        return {\n            Board : [],\n            Spaces : [],\n            Connections : []\n        }\n    },\n    props: {\n        selected: {\n            type: Array\n        },\n    },\n    computed: {\n        analysisToggle() {\n\n        },\n        topBoard() {\n            return this.Board[this.Board.length - 1];\n        },\n        topSpace() {\n            return this.Spaces[this.Spaces.length - 1];\n        },\n        topConnection() {\n            return this.Connections[this.Connections.length - 1];\n        }\n    },\n    components: {\n        boardList : BoardVue,\n        spaceList : SpaceVue,\n        connectionList : ConnectionVue,\n        analysis: Analysis\n    },\n    methods: {\n        jsonUpload: function(json) {\n            let board = json.Board[0];\n            let b = new Board(board.name, this.topBoard.image);\n            for (const prop in board) {\n                b[prop] = board[prop];\n            }\n            b.image = this.topBoard.image;\n            this.Board = [];\n            this.Board.push(b);\n            objectEventBus.selectBoard(this.Board[0]);\n            \n            this.Spaces = [];\n            json.Spaces.forEach((space) => {\n                let s = new Space(space)\n                for (const prop in space) {\n                    s[prop] = space[prop];\n                }\n                this.Spaces.push(s);\n            });\n            \n            this.Connections = [];\n            json.Connections.forEach((connection) => {\n                let c = new Connection();\n                for (const prop in connection) {\n                    c[prop] = connection[prop];\n                }\n                this.Connections.push(c);\n            });\n            \n            objectEventBus.jsonToCanvas({Board: this.Board, Spaces: this.Spaces, Connections: this.Connections, CanvasObjects: json.CanvasObjects});\n        }\n    },\n    mounted() {\n        this.buttonElement = Array.from(document.getElementsByName(\"sidebarButton\")[0]);\n    },\n    created() {\n        objectEventBus.$on('createBoard', (board) => {\n            let lastTop = this.topBoard;\n            this.Board.push(new Board(board.name, board.img));\n            let id = (lastTop) ? lastTop.id + 1 : 1;\n            this.topBoard.id = id;\n            objectEventBus.selectBoard(this.topBoard);\n            console.log(\"board created: \" + this.topBoard.fileName, this.topBoard);\n        })\n        objectEventBus.$on('createSpace', (space) => {            \n            let lastTop = this.topSpace;\n            this.Spaces.push(space);\n            let id = (lastTop) ? lastTop.id + 1 : 0; //todo: if you fucked everything up, change the 0 back to 1 \n            this.topSpace.SetID(id);\n            console.log(\"space created: \", this.topSpace);\n        })\n        objectEventBus.$on('delete', (obj) => {\n            var index = -1;\n            function spaceIndex (check) { return check.id == obj.space.id; }\n\n            function connIndex (check) { return check.id == obj.connection.id; }\n\n            //if this is a shape\n            if (obj.space) {\n                index = this.Spaces.findIndex(spaceIndex);\n                if (index > -1) this.Spaces.splice(index, 1);\n                //remove adjacent connections\n                var toRemove = [];\n                if (this.Connections) {\n                    this.Connections.forEach(connection => {\n                        if (connection.origin == obj) {\n                            connection.origin = null;\n                            toRemove.push(connection);\n                        }\n                        if (connection.target == obj) {\n                            connection.target = null;\n                            toRemove.push(connection);\n                        }\n                    });\n                    for (var i = 0; i < toRemove.length; i++) {\n                        this.Connections.splice(this.Connections.indexOf(toRemove[i]), 1);\n                        objectEventBus.clearLines();\n                    }\n                }\n            }\n\n            //if this is a line\n            if (obj.connection) {\n                index = this.Connections.findIndex(connIndex);\n                if (index > -1) this.Connections.splice(index, 1);\n            }\n        })\n        objectEventBus.$on('createConnection', (connection) => {\n            var copy = false;\n            this.Connections.forEach(loopConnection => {\n                if (connection.origin == loopConnection.origin && connection.target == loopConnection.target) copy = true;\n            });\n            if (!copy) {\n                connection.SetID(uniqueID('connection-'));\n                console.log(\"connection created: \", connection);\n                this.Connections.push(connection);\n                objectEventBus.connectionsList(this.Connections);\n            }\n        })\n        objectEventBus.$on('getObjects', (obj) => {\n            obj.Board = this.Board;\n            obj.Spaces = this.Spaces;\n            obj.Connections = this.Connections;\n        })\n        objectEventBus.$on('download', () => {\n            let content = { Board: this.Board, Spaces: this.Spaces, Connections: this.Connections, CanvasObjects: []}\n            content.Spaces.forEach(space => {\n                //strip interrelationships\n                content.CanvasObjects.push(space.shape);\n                space.shape = space.shape.id;\n            });\n            content.Connections.forEach(connection => {\n                //strip interrelationships\n                connection.origin = connection.origin.id;\n                connection.target = connection.target.id;\n                connection.line.id = connection.id;\n                content.CanvasObjects.push(connection.line);\n                connection.line = connection.id;\n                connection.triangle = null;\n            });\n            let filename = this.Board[0].fileName.split('.').slice(0, -1).join('.') + '.json';\n            let file = new Blob([JSON.stringify(content, null, 2)], { type: 'application/json' });\n            saveAs(file, filename);\n            console.log('downloading ' + filename + '...');\n        })\n        objectEventBus.$on('upload', (file) => {\n            let reader = new FileReader();\n            let temp = this;\n            reader.onload = function(event) {\n                let json = JSON.parse(event.target.result);\n                temp.jsonUpload(json);\n                console.log('uploaded ' + file.name);\n            }\n            reader.readAsText(file);\n        })\n        objectEventBus.$on('submit', () => \n        {\n            let img = fileEventBus.getImage()\n            let content = { Board: this.Board, Spaces: this.Spaces, Connections: this.Connections, CanvasObjects: []}\n            content.Spaces.forEach(space => {\n                //strip interrelationships\n                if (space.shape) space.shape.canvas = null\n                space.shape = space.shape.id;\n            })\n            content.Connections.forEach(connection => {\n                //strip interrelationships\n                connection.origin = connection.origin.id;\n                connection.target = connection.target.id;\n                if (connection.line)\n                {\n                    connection.line.canvas = null\n                    connection.line.id = connection.id;\n                    connection.line = connection.id;\n                    connection.triangle = null;\n                }\n            })\n            let filename = content.Board.englishTitle || this.Board[0].fileName.split('.').slice(0, -1).join('.')\n            let submissionData =\n            {\n                title: filename,\n                board: content.Board,\n                spaces: content.Spaces,\n                connections: content.Connections,\n                //canvas: content.CanvasObjects\n            }\n            DataService.create(img, submissionData)\n        })\n    }\n}\n</script>\n\n<style scoped lang=\"scss\">\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ObjectManager.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ObjectManager.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ObjectManager.vue?vue&type=template&id=4f4dec15&scoped=true&\"\nimport script from \"./ObjectManager.vue?vue&type=script&lang=js&\"\nexport * from \"./ObjectManager.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4f4dec15\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-sidebar',{attrs:{\"name\":\"dbSidebar\",\"id\":\"dbSidebar\",\"width\":_vm.width,\"title\":\"Database\",\"right\":\"\",\"shadow\":\"\"},on:{\"shown\":_vm.load,\"hidden\":_vm.reset}},[_c('div',{staticStyle:{\"padding\":\"10px\"}},[_c('b-button',{attrs:{\"block\":\"\",\"variant\":\"success\"},on:{\"click\":_vm.submit}},[_vm._v(\"Submit\")])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <b-sidebar name=\"dbSidebar\" id=\"dbSidebar\" :width=\"width\" title=\"Database\" @shown=\"load\" @hidden=\"reset\" right shadow>\n        <div style=\"padding: 10px\">\n            <b-button block variant=\"success\" @click=\"submit\">Submit</b-button>\n        </div>\n    </b-sidebar>\n</template>\n\n<script>\nimport { objectEventBus } from '../main'\nexport default\n{\n    mounted() \n    {\n    },\n    created() \n    {\n    },\n    data() \n    {\n        return { }\n    },\n    computed: \n    {\n        width()\n        {\n            return '320px'\n            //return '640px'\n        }\n    },\n    components: \n    {\n\n    },\n    methods: \n    {\n        load()\n        {\n\n        },\n        reset()\n        {\n\n        },\n        submit()\n        {\n            objectEventBus.$emit('submit')\n        }\n    },\n}\n</script>\n\n<style scoped>\n    * {\n        padding: 10px;\n    }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Database.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Database.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Database.vue?vue&type=template&id=2053ff44&scoped=true&\"\nimport script from \"./Database.vue?vue&type=script&lang=js&\"\nexport * from \"./Database.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Database.vue?vue&type=style&index=0&id=2053ff44&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2053ff44\",\n  null\n  \n)\n\nexport default component.exports","<template>\n<!-- TODO: use bootstrap icons, not urls -->\n    <div id=\"sidebar\">\n        <div id=\"buttons\">\n            <b-button name=\"sidebarButton\" id=\"eyeButton\" pill variant=\"light\" size=\"md\" v-b-tooltip.hover.left title=\"Sidebar\" v-b-toggle.bsidebar>\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"2em\" height=\"2em\" fill=\"currentColor\" class=\"bi bi-layout-sidebar-reverse\" viewBox=\"0 0 16 16\">\n                    <path d=\"M16 3a2 2 0 0 0-2-2H2a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3zm-5-1v12H2a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1h9zm1 0h2a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1h-2V2z\"/>\n                </svg>\n            </b-button>\n            <br />\n            <b-button name=\"boardButton\" id=\"boardButton\" pill variant=\"light\" size=\"md\" v-b-tooltip.hover.right title=\"Upload board image\" @click=\"buttonBoard\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"2em\" height=\"2em\" fill=\"currentColor\" class=\"bi bi-image\" viewBox=\"0 0 16 16\">\n                    <path d=\"M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z\"/>\n                    <path d=\"M2.002 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2h-12zm12 1a1 1 0 0 1 1 1v6.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12V3a1 1 0 0 1 1-1h12z\"/>\n                </svg>\n                <image-load id=\"boardUpload\" />\n            </b-button>\n            <br />\n            <b-button name=\"analysisButton\" id=\"analysisButton\" pill variant=\"light\" v-b-tooltip.hover.right title=\"Analysis\" size=\"md\" v-b-toggle.asidebar @click=\"analysisToggle\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"2em\" height=\"2em\" fill=\"currentColor\" class=\"bi bi-clipboard-data\" viewBox=\"0 0 16 16\">\n                    <path d=\"M4 11a1 1 0 1 1 2 0v1a1 1 0 1 1-2 0v-1zm6-4a1 1 0 1 1 2 0v5a1 1 0 1 1-2 0V7zM7 9a1 1 0 0 1 2 0v3a1 1 0 1 1-2 0V9z\"/>\n                    <path d=\"M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z\"/>\n                    <path d=\"M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z\"/>\n                </svg>\n            </b-button>\n            <br />\n            <b-button name=\"jsonButton\" id=\"downloadButton\" pill variant=\"light\" size=\"md\" v-b-tooltip.hover.right title=\"Download JSON\" @click=\"download\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"2em\" height=\"2em\" fill=\"currentColor\" class=\"bi bi-file-earmark-arrow-down\" viewBox=\"0 0 16 16\">\n                    <path d=\"M8.5 6.5a.5.5 0 0 0-1 0v3.793L6.354 9.146a.5.5 0 1 0-.708.708l2 2a.5.5 0 0 0 .708 0l2-2a.5.5 0 0 0-.708-.708L8.5 10.293V6.5z\"/>\n                    <path d=\"M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z\"/>\n                </svg>\n            </b-button>\n            <br />\n            <b-button name=\"upButton\" id=\"uploadButton\" pill variant=\"light\" size=\"md\" v-b-tooltip.hover.right title=\"Upload JSON\" @click=\"buttonJson\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"2em\" height=\"2em\" fill=\"currentColor\" class=\"bi bi-file-earmark-arrow-up\" viewBox=\"0 0 16 16\">\n                    <path d=\"M8.5 11.5a.5.5 0 0 1-1 0V7.707L6.354 8.854a.5.5 0 1 1-.708-.708l2-2a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 7.707V11.5z\"/>\n                    <path d=\"M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z\"/>\n                </svg>\n            </b-button>\n            <input id=\"jsonUpload\" type=\"file\" accept=\".json\" style=\"display:none;\" />\n            <br />\n            <b-button name=\"dbButton\" id=\"dbButton\" pill variant=\"light\" size=\"md\" v-b-tooltip.hover.right title=\"Database\" v-b-toggle.dbSidebar @click=\"databaseToggle\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"2em\" height=\"2em\" fill=\"currentColor\" class=\"bi bi-wifi\" viewBox=\"0 0 16 16\">\n                    <path d=\"M15.384 6.115a.485.485 0 0 0-.047-.736A12.444 12.444 0 0 0 8 3C5.259 3 2.723 3.882.663 5.379a.485.485 0 0 0-.048.736.518.518 0 0 0 .668.05A11.448 11.448 0 0 1 8 4c2.507 0 4.827.802 6.716 2.164.205.148.49.13.668-.049z\"/>\n                    <path d=\"M13.229 8.271a.482.482 0 0 0-.063-.745A9.455 9.455 0 0 0 8 6c-1.905 0-3.68.56-5.166 1.526a.48.48 0 0 0-.063.745.525.525 0 0 0 .652.065A8.46 8.46 0 0 1 8 7a8.46 8.46 0 0 1 4.576 1.336c.206.132.48.108.653-.065zm-2.183 2.183c.226-.226.185-.605-.1-.75A6.473 6.473 0 0 0 8 9c-1.06 0-2.062.254-2.946.704-.285.145-.326.524-.1.75l.015.015c.16.16.407.19.611.09A5.478 5.478 0 0 1 8 10c.868 0 1.69.201 2.42.56.203.1.45.07.61-.091l.016-.015zM9.06 12.44c.196-.196.198-.52-.04-.66A1.99 1.99 0 0 0 8 11.5a1.99 1.99 0 0 0-1.02.28c-.238.14-.236.464-.04.66l.706.706a.5.5 0 0 0 .707 0l.707-.707z\"/>\n                </svg>\n            </b-button>\n        </div>\n        <b-sidebar v-model=\"toggled\" name=\"bsidebar\" id=\"bsidebar\" :width=\"width\" :title=\"title\" right shadow>\n            <object-manager id=\"object-manager\" :selected=\"selected\"></object-manager>\n        </b-sidebar>\n        <analysis />\n        <database />\n    </div>\n</template>\n\n<script>\nimport { objectEventBus } from '../main.js';\nimport ImageLoad from './ImageLoad.vue';\nimport ObjectManager from './ObjectManager.vue';\nimport Analysis from './Analysis.vue';\nimport Database from './Database.vue';\n\nexport default {\n    data() {\n        return {\n            toggled: false,\n            selected: new Array, //Array of what is currently selected, passed in from ObjectEventBus\n            board: null,\n            json: null,\n            sidebar: null,\n            sidebarButton: null,\n            jsonButton: null,\n            boardButton: null,\n            dbButton: null,\n            drag: 0,\n        }\n    },\n    computed: {\n        title: function() {\n            if (this.selected) {\n                /*if(this.selected[1]) {\n                    let start = this.selected[0].space.id.toString();\n                    let end = this.selected[this.selected.length - 1].space.id.toString();\n                    return start + \" - \" + end;\n                }*/\n                if (this.selected[0] && this.selected[0].space) {\n                    if (!this.selected[0].space.number) return this.selected[0].space.id.toString();\n                    return this.selected[0].space.number.toString();\n                }\n                if (this.selected[0] && this.selected[0].connection) {\n                    var conn = this.selected[0].connection;\n                    var from = (conn.origin.space.number && conn.origin.space.number != \"\") ? conn.origin.space.number.toString() : conn.origin.space.id;\n                    var to = (conn.origin.space.number && conn.target.space.number != \"\") ? conn.target.space.number.toString() : conn.target.space.id;\n                    return from.toString() + \" → \" + to;\n                }\n            }\n            if (this.board) {\n                return this.board.title;\n            }\n            return \"\";\n        },\n        width: function() {\n            if (!this.drag == 0) {\n                console.log(this.drag);\n            }\n            return '320px';\n        },\n        nothingSelected: function() {\n            if (this.selected.length == 0) return true;\n            return false;\n        }\n    },\n    components: {\n        ObjectManager,\n        ImageLoad,\n        Analysis,\n        Database\n    },\n    mounted() {\n        this.jsonButton = document.getElementById('jsonUpload');\n        this.jsonButton.addEventListener('change', this.uploadJson);\n        this.boardButton = document.getElementById('boardUpload');\n        this.boardButton.addEventListener('change', this.uploadBoard);\n        this.sidebarButton = Array.from(document.getElementsByName('sidebarButton'));\n    },\n    created() {\n        objectEventBus.$on('mouseShape', (obj) => {\n            this.mouse = obj;\n        });\n        objectEventBus.$on('selectShape', (shape) => {\n            var equals = false;\n            if (shape.length == this.selected.length &&\n            shape.every((val, index) => val == this.selected[index])) equals = true;\n            if (!equals) {\n                if (this.toggled && !shape[0]) {\n                    document.getElementsByName(\"sidebarButton\")[0].click();\n                } \n                if (!this.toggled && shape[0]) {\n                    //document.getElementsByName(\"sidebarButton\")[0].click();\n                }\n            }\n            if (equals) {\n                if (!this.toggled && shape[0]) {\n                    //document.getElementsByName(\"sidebarButton\")[0].click();\n                }\n            }\n            this.selected = shape;\n        });\n        objectEventBus.$on('selectBoard', (board) => {\n            this.board = board;\n        });\n        objectEventBus.$on('deselect', () => {\n            this.selected = new Array;\n        });\n    },\n    methods: {\n        toggle() {\n        },\n        dragged() {\n        },\n        download() {\n            objectEventBus.download();\n        },\n        buttonBoard() {\n            document.getElementById('boardUpload').click();\n        },\n        buttonJson() {\n            document.getElementById('jsonUpload').click(); \n        },\n        buttonDb() {\n\n        },\n        uploadBoard() {\n\n        },\n        uploadJson() {\n            let files = this.jsonButton.files;\n            if (files.length === 0) return;\n            this.json = files[0];\n            objectEventBus.upload(this.json);\n        },\n        analysisToggle() {\n            if (this.toggled) this.toggled = false;\n        },\n        databaseToggle() {\n            if (this.toggled) this.toggled = false;\n        }\n    }\n}\n</script>\n\n<style scoped lang=\"scss\">\n    #sidebar {\n        position: absolute;\n        padding: 0px;\n        right: 10px;\n        top: 10px;\n        z-index: 999;\n    }\n    #buttons {\n        line-height: 50px\n    }\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Sidebar.vue?vue&type=template&id=30201142&scoped=true&\"\nimport script from \"./Sidebar.vue?vue&type=script&lang=js&\"\nexport * from \"./Sidebar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Sidebar.vue?vue&type=style&index=0&id=30201142&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"30201142\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _vm._m(0)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"container\",\"position\":\"relative\"}},[_c('canvas',{attrs:{\"id\":\"c\"}})])\n}]\n\nexport { render, staticRenderFns }","import { fabric } from 'fabric';\n\n//Sequential Connection\nfabric.Connection = fabric.util.createClass(fabric.Line, {\n    type: 'connection',\n    async: true,\n\n    initialize: function(element, options) {\n        options || (options = { });\n\n        this.callSuper('initialize', element, options);\n        this.set('id', options.id || '');\n    },\n    toObject: function() {\n        return fabric.util.object.extend(this.callSuper('toObject'), {\n            id: this.get('id'),\n        });\n    },\n    fromObject: function(object, callback) {\n        return fabric.Object._fromObject('connection', object, callback);\n    },\n    //TODO: Chance values\n    _render: function(ctx) {\n        this.callSuper('_render', ctx);\n    }\n});\n\n//Rectangle Space\n//todo: add more text rendering logic to _render OR remove text rendering logic from _render, add to DrawConnections or something similar. probably the latter\n//todo: normalize on mouseup\nfabric.RectSpace = fabric.util.createClass(fabric.Rect, {\n    type: 'rectSpace',\n    initialize: function(options) {\n        options || (options = { });\n\n        this.callSuper('initialize', options);\n        this.set('label', options.label || '');\n        this.set('id', options.id || '');\n    },\n    toObject: function() {\n        return fabric.util.object.extend(this.callSuper('toObject'), {\n            label: this.get('label'),\n            id: this.get('id'),\n        });\n    },\n    fromObject: function(object, callback) {\n        return fabric.Object._fromObject('rectSpace', object, callback);\n    },  \n    _render: function(ctx) {\n        this.callSuper('_render', ctx);\n        //this.Normalize();\n        ctx.font = '24px Helvetica';\n        ctx.fillStyle = '#333';\n        ctx.textAlign = \"center\";\n        ctx.fillText(this.label, 0, 0);\n    },\n    ChangeLabel: function(label) {\n        this.label = label;\n        this.dirty = true;\n        this.canvas.requestRenderAll();\n    },\n    SetID: function(id) {\n        this.id = id;\n    },\n    GetID: function() {\n        return this.id;\n    },\n    //todo: come back to this\n    Normalize: function() {\n        let scale = this.getObjectScaling();\n        this.width *= scale.scaleX;\n        this.height *= scale.scaleY;\n        this.scale(1);\n    }\n});\n\n//Ellipse Space\nfabric.EllSpace = fabric.util.createClass(fabric.Ellipse, {\n    type: 'ellSpace',\n    initialize: function(options) {\n        options || (options = { });\n\n        this.callSuper('initialize', options);\n        this.set('label', options.label || '');\n        this.set('id', options.id || '');\n    },\n    toObject: function() {\n        return fabric.util.object.extend(this.callSuper('toObject'), {\n            label: this.get('label'),\n            id: this.get('id'),\n        });\n    },\n    fromObject: function(object, callback) {\n        return fabric.Object._fromObject('ellSpace', object, callback);\n    },  \n    _render: function(ctx) {\n        this.callSuper('_render', ctx);\n        //this.Normalize();\n        ctx.font = '24px Helvetica';\n        ctx.fillStyle = \"#333\";\n        ctx.textAlign = \"center\";\n        ctx.fillText(this.label, 0, 0);\n    },\n    ChangeLabel: function(label) {\n        this.label = label;\n        this.dirty = true;\n        this.canvas.requestRenderAll();\n    },\n    SetID: function(id) {\n        this.id = id;\n    },\n    GetID: function() {\n        return this.id;\n    },\n    Normalize: function() {\n        let scale = this.getObjectScaling();\n        this.width *= scale.scaleX;\n        this.height *= scale.scaleY;\n        this.scale(1);\n    }\n});\n\nfabric.PlayerShape = fabric.util.createClass(fabric.Ellipse,\n    {\n        type: 'playerShape',\n        initialize: function(options, player, furidashi)\n        {\n            options || (options = { })\n            \n            this.animationAt = 0\n\n            this.callSuper('initialize', options)\n            this.selectableselectable = options.selectable || false\n            this.fill = options.fill || '#facade' //todo\n            this.stroke = options.stroke || '#ff9999' //todo\n            this.strokeWidth = options.strokeWidth || '2'\n\n            this.id = options.id || ''\n            \n            this.path = player.path\n\n            this.left = options.left || this.findNewPosition().left\n            this.top = options.top || this.findNewPosition().top\n\n            let size = (furidashi.shape.width || furidashi.shape.rx) * 0.2\n            this.rx = options.rx || size\n            this.ry = options.ry || size\n\n\n        },\n        _render: function(ctx) {\n            this.callSuper('_render', ctx)\n            ctx.font = '24px Helvetica'\n            ctx.fillStyle = \"#333\"\n            ctx.textAlign = \"center\"\n            ctx.fillText(this.id, 0, 5)\n        },\n        findNewPosition: function()\n        {\n            let newSpace = this.path[this.animationAt].shape\n            let width = (newSpace.width || newSpace.rx)\n            let height = (newSpace.height || newSpace.ry)\n            let xOffset = Math.floor((Math.random() * width) * 0.8) + (width * 0.1)\n            let yOffset = Math.floor((Math.random() * height) * 0.8) + (height * 0.1) \n            \n            let newPosition = { \n                'left': newSpace.left + xOffset,\n                'top': newSpace.top + yOffset \n            }\n\n            return newPosition\n        }\n    })\n\n//Polygon Space\n//fabric polySpace = fabric.util.createClass(fabric.Polygon, {\n//\n//});","//https://stackoverflow.com/questions/9417603/fabric-js-free-draw-a-rectangle\n//todo: add polygon\n// what's the deal with the weird effect stretch (rectangle only?) on mousedown \n\nimport { fabric } from 'fabric';\nimport { objectEventBus } from '../main.js';\nimport Space from './Space.js';\nimport Connection from './Connection.js';\nimport Shapes from './Shapes.js';\n\n//DrawShape\n//helper class, takes Phaser.Canvas\n//binds functions for mouse:down, mouse:move, and mouse:up on the Canvas\n//so that the user can draw a shape, depending on this.canvas.activeTool\nexport default class DrawShape {\n    canvas = [];\n\n    constructor(canvas) {\n        this.canvas = canvas;\n        Shapes; //adds custom shape subclasses to fabric object\n        this.mouseDown();\n        this.mouseMove();\n        this.mouseUp();\n    }\n\n    //mouseDown()\n    //called once by constructor\n    mouseDown() {\n        let canvas = this.canvas;\n        canvas.on('mouse:down', function(o) {\n            if (canvas.activeTool == null) return;\n            if (o.target != null) return;\n\n            let pointer = canvas.getPointer(o.e);\n            this.isDown = true;\n            this.selection = false;\n\n            //the following are bound To the canvas, to be used by mouseMove() and mouseUp()\n            //it's kind of nasty, but it works for now\n            this.origX = pointer.x;\n            this.origY = pointer.y;\n\n            //depending on canvas.activeTool, bind this.shape to the canvas\n            if (canvas.activeTool == 'drawRect') {\n                this.shape = new fabric.RectSpace({\n                    left: this.origX,\n                    top: this.origY,\n                    lockScalingFlip: true,\n                    originX: 'left',\n                    originY: 'top',\n                    width: pointer.x-this.origX,\n                    height: pointer.x-this.origY,\n                    angle: 0,\n                    stroke: 'red',\n                    label: '',\n                    fill: 'rgba(255,0,0,0.5)', //TODO: color from outside!\n                    transparentCorners: false\n                });\n            }\n\n            if (canvas.activeTool == 'drawEllipse') {\n                this.shape = new fabric.EllSpace({\n                    left: this.origX,\n                    top: this.origY,\n                    lockScalingFlip: true,\n                    originX: 'left',\n                    originY: 'top',\n                    rx: pointer.x-this.origX,\n                    ry: pointer.x-this.origY,\n                    angle: 0,\n                    fill: 'rgba(255,0,0,0.5)', //TODO: color from outside!\n                    stroke: 'red',\n                    transparentCorners: false\n                });\n            }\n\n            if (canvas.activeTool == 'drawLine' || canvas.activeTool == 'drawJump') {\n                let point = [this.origX, this.origY, pointer.x, pointer.y];\n                this.shape = new fabric.Connection(point, {\n                    stroke: (canvas.activeTool == 'drawLine') ? 'red' : 'yellow',\n                    strokeWidth: 3,\n                    selectable: false,\n                    evented: false\n                });\n            }\n            //add the shape to the canvas\n            canvas.add(this.shape);\n        });\n    }\n\n    //mouseMove()\n    //called once by constructor\n    mouseMove() {\n        let canvas = this.canvas;\n        canvas.on('mouse:move', function(o) {\n            if (!this.isDown) return;\n\n            let pointer = canvas.getPointer(o.e);\n            \n            if (canvas.activeTool == 'drawRect' || canvas.activeTool == 'drawEllipse') {\n                if (this.origX > pointer.x) this.shape.set({ left: Math.abs(pointer.x) });\n                if (this.origY > pointer.y) this.shape.set({ top: Math.abs(pointer.y) });\n\n                let x = Math.abs(this.origX - pointer.x);\n                let y = Math.abs(this.origY - pointer.y);\n                if (this.shift) { //check if shift is being held down - bound from elsewhere onto canvas\n                    let smallest = (x >= y) ? x : y;\n                    if (canvas.activeTool == 'drawRect') this.shape.set({ width: smallest, height: smallest});\n                    if (canvas.activeTool == 'drawEllipse') this.shape.set({ rx: smallest, ry: smallest});\n                } else {\n                    if (canvas.activeTool == 'drawRect') this.shape.set({ width: x, height: y});\n                    if (canvas.activeTool == 'drawEllipse') this.shape.set({ rx: x, ry: y});\n                }\n            } \n            else if (canvas.activeTool == 'drawLine' || canvas.activeTool == 'drawJump') {\n                this.shape.set({ x2: pointer.x, y2: pointer.y });\n            }\n            canvas.renderAll();\n        });\n    }\n\n    //mouseUp()\n    //called once by constructor\n    mouseUp() {\n        let canvas = this.canvas;\n        canvas.on('mouse:up', function(o) {\n            this.isDown = false;\n\n            if (this.shape) {\n                let objects = canvas.getObjects();\n                let lastObject = objects[objects.length - 1];\n                if (objects.length == 0) return;\n                if (canvas.activeTool) {\n                    //this.shape.set({ stroke: 'red', strokeWidth: 1,}); //TODO: color from outside!\n                }\n                \n                if (canvas.activeTool == 'drawRect' || canvas.activeTool == 'drawEllipse') {\n                    if (lastObject.width <= 20 || lastObject.height <= 20) { //TODO: make a % of board image size\n                        canvas.remove(lastObject);\n                        this.shape = null;\n                    }\n\n                    if (this.shape && !this.shape.space) {\n                        this.shape.space = new Space(this.shape);\n                        objectEventBus.createSpace(this.shape.space);\n                    }\n                }\n\n                if (canvas.activeTool == 'drawLine' || canvas.activeTool == 'drawJump') {\n                    if (this.shape && !this.shape.connection) {\n                        let pointer = canvas.getPointer(o.e);\n                        let pt1 = new fabric.Point(this.origX, this.origY);\n                        let pt2 = new fabric.Point(pointer.x, pointer.y);\n                        let origin = null;\n                        let target = null;\n\n                        objects.forEach(shape => {\n                            if (shape.containsPoint(pt1, undefined, true) && shape.fill != \"rgb(0,0,0)\") origin = shape;\n                            if (shape.containsPoint(pt2, undefined, true) && shape.fill != \"rgb(0,0,0)\") target = shape; \n                        });\n\n                        if (origin && target && origin != target) {\n                            //this.shape.connection = new Connection(origin, target, this.shape);\n                            let connection = new Connection(origin, target, this.shape, (canvas.activeTool == 'drawLine') ? 'sequential' : 'jumping');\n                            objectEventBus.createConnection(connection);\n                        }\n                        canvas.remove(lastObject);\n                        this.shape = null;\n                    } else {\n                        canvas.remove(lastObject);\n                        this.shape = null;\n                    }\n                }\n            }\n        });\n    }\n}","import { fabric } from 'fabric';\nimport { objectEventBus } from '../main.js';\n//todo:\n//moving multiple shapes breaks\n//add some kind of slow animation or something on the arrows, or at least more arrows along the line\n//fix the triangle position\n//HEAT on space, with text\n//arrow color duh\n\n//DrawConnection\n//helper class, takes ImageCanvas\n//uses ImageCanvas.connections (list of Connections) and ImageCanvas.canvas (fabric Canvas)\n//responsible for drawing lines on Canvas representative of those Connections\nexport default class DrawConnection {\n    imageCanvas = [];\n\n    constructor(imageCanvas) {\n        this.imageCanvas = imageCanvas;\n\n        this._lineMovement();\n        this._newLines();\n        this._clearLines();\n    }\n    \n    jsonConnection(connection) {\n        console.log(connection);\n    }\n    \n    //lineMovement()\n    //called by constructor\n    //draws lines on Canvas representative of Connections whenever a fabric object on the Canvas moves\n    _lineMovement() {\n        let temp = this;\n        this.imageCanvas.canvas.on('object:moving', function() {\n            if (!temp.imageCanvas.connections) return;\n            //for each connection,\n            temp.imageCanvas.connections.forEach((connection) => {\n                //draw a straight line if the connection has no opposite in connections\n                let coords = temp._lineCoords(connection);\n                connection.line.set({ 'x1': coords[0].x, 'y1': coords[0].y, 'x2': coords[1].x, 'y2': coords[1].y});\n                connection.triangle.set(temp._trianglePosition(connection));\n                temp.imageCanvas.canvas.sendToBack(connection.triangle);\n                temp.imageCanvas.canvas.sendToBack(connection.line);\n                temp.imageCanvas.canvas.requestRenderAll();\n            });\n            if (temp.imageCanvas.canvas.board) temp.imageCanvas.canvas.sendToBack(temp.imageCanvas.canvas.board);\n        });\n    }\n\n    //newLines()\n    //called by constructor\n    _newLines() {\n        objectEventBus.$on('connectionsList', () => {\n            if (!this.imageCanvas.connections) return;\n            this.imageCanvas.connections.forEach((connection) => {\n                    if (connection.line) {\n                        this.imageCanvas.canvas.remove(connection.line);\n                        this.imageCanvas.canvas.remove(connection.triangle);\n                    }\n\n                    connection.line = this._makeLine(connection);\n                    connection.triangle.set(this._trianglePosition(connection));\n                    \n                    this.imageCanvas.canvas.add(connection.line);\n                    this.imageCanvas.canvas.add(connection.triangle);\n\n                    this.imageCanvas.canvas.sendToBack(connection.triangle);\n                    this.imageCanvas.canvas.sendToBack(connection.line);\n                    this.imageCanvas.canvas.sendToBack(this.imageCanvas.canvas.board);\n            });\n        });\n    }\n\n    //makeLine()\n    //called from various functions in DrawConnection\n    _makeLine(connection) {\n        let coords = this._lineCoords(connection);\n        let line = new fabric.Connection([coords[0].x, coords[0].y, coords[1].x, coords[1].y], {\n            stroke: (connection.type == 'sequential') ? 'red' : 'yellow',\n            strokeWidth: 5,\n            hasControls: false,\n            selectable: true,\n            evented: true,\n            connection: connection\n        });\n        let triangle = new fabric.Triangle({\n            centeredRotation: true,\n            originX: \"center\",\n            originY: \"center\",\n            width: 20,\n            height: 15,\n            selectable: false,\n        });\n        connection.triangle = triangle;\n        return line;\n    }\n\n    _trianglePosition(connection) {\n        let line = connection.line;\n        let coords = this._lineCoords(connection);\n        let xDiff = line.x2 - line.x1;\n        let yDiff = line.y2 - line.y1;\n        let angle = (Math.atan2(yDiff, xDiff) * 180 / Math.PI) + 90;\n        return {'stroke': line.stroke, 'fill': line.stroke, 'left': coords[1].x, 'top': coords[1].y, 'angle': angle}\n    }\n\n    //lineCoords()\n    //called from various functions in DrawConnection\n    _lineCoords(connection) {\n        let pt1 = new fabric.Point(connection.origin.aCoords.tl.x + (connection.origin.width / 2), connection.origin.aCoords.tl.y + (connection.origin.height / 2));\n        let pt2 = new fabric.Point(connection.target.aCoords.tl.x + (connection.target.width / 2), connection.target.aCoords.tl.y + (connection.target.height / 2));\n        return [pt1, pt2];\n    }\n\n    //clearLines()\n    //called by constructor\n    //deletes lines that are not valid\n    _clearLines() {\n        objectEventBus.$on('clearLines', () => {\n            if (this.imageCanvas.canvas.getObjects()) {\n                var temp = this.imageCanvas;\n                temp.canvas.getObjects().forEach(function (o) {\n                    if (o.connection) {\n                        if (o.connection.target == null || o.connection.origin == null)\n                        temp.canvas.remove(o);\n                        temp.canvas.remove(o.connection.triangle);\n                    }\n                });\n            }\n        });\n    }\n}","import { fabric } from 'fabric';\n\nexport default class ImageContainer {\n    constructor(canvas, img, callback) {\n        this.canvas = canvas;\n        this.img = img;\n\n        let temp = this;\n        fabric.Image.fromURL(this.img.img.src, function(i) {\n            let img1 = i.set( {\n            left: 0,\n            top: 0,\n            width: temp.img.img.width, \n            height: temp.img.img.height,\n            scaleX: 1,\n            scaleY: 1,\n            hasControls: false,\n            hasBorders: false,\n            selectable: false,\n            evented: false,\n            hoverCursor: \"default\"\n            });\n            temp.canvas.board = img1;\n            temp.canvas.add(img1);\n            temp.canvas.sendToBack(img1);\n            callback();\n        });\n    }\n}","<!-- http://fabricjs.com/fabric-intro-part-5 -->\n<!-- https://stackoverflow.com/questions/35218368/how-to-add-image-to-fabric-canvas -->\n<!-- https://stackoverflow.com/questions/32207966/how-to-zoom-in-and-center-on-an-object-with-fabricjs -->\n<template>\n    <div id=\"container\" position=\"relative\">\n         <canvas id=\"c\"></canvas>\n    </div>\n</template>\n\n<script>\nimport { fabric } from 'fabric';\nimport { objectEventBus } from '../main.js';\nimport { controlEventBus } from '../main.js';\nimport { fileEventBus } from '../main.js';\n\nimport DrawShape from '../classes/DrawShape';\nimport DrawConnection from '../classes/DrawConnection';\n\nimport ImageContainer from '../classes/ImageContainer.js';\n\nexport default {\n    data() {\n        return {\n            //objects\n            img: ImageContainer,\n            canvas: fabric.Canvas,\n            connections: null,\n\n            //buffers\n            deselect: [],\n\n            //info\n            width: document.documentElement.clientWidth,\n            height: document.documentElement.clientHeight,\n            relativeWidth: 1,//5/6, //TODO: make this draggable (in file drawer)\n\n            //controls\n            hasMoved: false,\n            isPanning: false,\n            drawShape: DrawShape,\n            drawConnection: DrawConnection,\n        }\n    },\n    computed: {\n    },\n    components: {\n    },\n    methods: {\n        controlEventBusSetup: function() {\n            controlEventBus.$on('imagePlace', () => {\n                if (this.img.img == undefined) return;\n                this.canvasCenter();\n            });\n            controlEventBus.$on('imagePanPress', () => {\n                //this.cursor = \"pointer\"; //TODO: the cursor be a hand\n                this.isPanning = true;\n            });\n            controlEventBus.$on('imagePanRelease', () => {\n                //this.cursor = \"default\";\n                this.isPanning = false;\n            });\n            controlEventBus.$on('drawRect', () => {\n                this.controlSetActive('drawRect');\n            });\n            controlEventBus.$on('drawEllipse', () => {\n                this.controlSetActive('drawEllipse');\n            });\n            controlEventBus.$on('drawPolygon', () => {\n\n            });\n            controlEventBus.$on('drawLine', () => {\n                this.controlSetActive('drawLine');\n            });\n            controlEventBus.$on('drawJump', () => {\n                this.controlSetActive('drawJump');\n            });\n            controlEventBus.$on('drawSelect', () => {\n                this.controlSetActive(null);\n            });\n            controlEventBus.$on('shiftPress', () => {\n                this.canvas.shift = true;\n            });\n            controlEventBus.$on('backspace', () => {\n                if (this.canvas.getActiveObjects()) {\n                    var temp = this;\n                    this.canvas.getActiveObjects().forEach(function(o) { temp.canvas.remove(o); objectEventBus.delete(o); });\n                }\n            });\n            controlEventBus.$on('shiftRelease', () => {\n                this.canvas.shift = false;\n            });\n        },\n        \n        fileEventBusSetup: function() {\n            fileEventBus.$on('imageLoaded', (img) => {\n                this.imageSetup(img)\n            });   \n        },\n\n        objectEventBusSetup: function() {\n            objectEventBus.$on('connectionsList', (connections) => \n            {\n                this.connections = connections;\n            })\n            objectEventBus.$on('jsonToCanvas', (json) => \n            {\n                json.CanvasObjects.forEach((shape) => \n                {\n                    let add = {};\n                    if (shape.type == 'ellSpace') add = new fabric.EllSpace(shape);\n                    else if (shape.type == 'rectSpace') add = new fabric.RectSpace(shape);\n                    else  { return }\n                    let space = json.Spaces.find(space => space.id == add.id);\n                    space.shape = add;\n                    add.space = space;\n                    this.canvas.add(add);\n                });\n                json.Connections.forEach((connection) => \n                {\n                    let origin = json.Spaces.find(space => space.id == connection.origin).shape;\n                    connection.origin = origin;\n                    let target = json.Spaces.find(space => space.id == connection.target).shape;\n                    connection.target = target;\n                })\n                objectEventBus.connectionsList(json.Connections);\n            })\n            objectEventBus.$on('getCanvas', (obj) =>\n            {\n                obj.imageCanvas = this\n                obj.canvas = this.canvas\n            })\n        },\n        canvasSetup: function() {\n            this.canvas = new fabric.Canvas('c', { \n                selection: false,\n                backgroundColor: '#facade',\n                shift: false,\n                preserveObjectStacking: true,\n                width: document.documentElement.clientWidth * this.relativeWidth,\n                height: document.documentElement.clientHeight, });\n            this.canvasPanSetup();\n\n            this.$nextTick(() => {\n                this.canvas.renderAll();\n            });\n        },\n\n        canvasResize: function() {\n            this.width = document.documentElement.clientWidth * this.relativeWidth;\n            this.height = document.documentElement.clientHeight;\n            this.canvas.setWidth(this.width);\n            this.canvas.setHeight(this.height);\n            this.canvas.calcOffset();\n            this.$nextTick(() => {\n                this.canvas.renderAll();\n                if (!this.hasMoved && this.img.img != undefined) this.canvasCenter();\n            });\n        },\n\n        canvasCenter: function() {\n            //TODO: revisit\n            this.hasMoved = false;\n            this.canvas.setZoom(1);\n            var img = this.img.img.img; //why did i do this lol\n            \n            var width = document.documentElement.clientWidth;\n            var height = document.documentElement.clientHeight;\n            var imgZoom = Math.max(img.width, img.height);\n            var canvasZoom = Math.max(width, height);\n            var zoomFactor = 0.75;\n            var zoom = (canvasZoom / imgZoom) * zoomFactor;\n\n            var vpw = this.width / zoom;\n            var vph = this.height / zoom;\n            var x = (img.x - vpw / 2) + (img.width / 2);\n            var y = (img.y - vph / 2) + (img.height / 2); \n            \n            this.canvas.absolutePan({ x: x, y: y });\n            this.canvas.setZoom(zoom);\n        },\n\n        imageSetup: function(img) {\n            this.img = new ImageContainer(this.canvas, img, this.canvasCenter);\n        },\n\n        controlSetup: function() {\n            this.drawShape = new DrawShape(this.canvas);\n            this.drawConnection = new DrawConnection(this);\n        },\n\n        canvasSelectSetup: function() {\n            this.canvas.on('mouse:up', function() {\n                var activeObjects = this.getActiveObjects();\n                if (activeObjects[0]) objectEventBus.selectShape(this.getActiveObjects());\n                else objectEventBus.deselect();\n            });\n        },\n\n        canvasZoomSetup: function() {\n            var temp = this;\n            this.canvas.on('mouse:wheel', function(opt) {\n                temp.hasMoved = true;\n                var delta = opt.e.deltaY;\n                var zoom = this.getZoom();\n                zoom *= 0.999 ** (delta * 3);\n                if (zoom < 0.1) zoom = 0.1;\n                if (zoom > 20) zoom = 20;\n                this.zoomToPoint({ x: opt.e.offsetX, y: opt.e.offsetY }, zoom);\n                opt.e.preventDefault();\n                opt.e.stopPropagation();\n            });\n        },\n\n        canvasPanSetup: function() {\n            var temp = this;\n            this.canvas.on('mouse:down', function(opt) {\n            var evt = opt.e;\n            if (temp.isPanning) {\n                this.isDragging = true;\n                this.selection = false;\n                this.lastPosX = evt.clientX;\n                this.lastPosY = evt.clientY;\n            }\n            });\n           this.canvas.on('mouse:move', function(opt) {\n            if (this.isDragging) {\n                temp.hasMoved = true;\n                var evt = opt.e;\n                var vpt = this.viewportTransform;\n                vpt[4] += evt.clientX - this.lastPosX;\n                vpt[5] += evt.clientY - this.lastPosY;\n                this.requestRenderAll();\n                this.lastPosX = evt.clientX;\n                this.lastPosY = evt.clientY;\n            }\n            });\n            this.canvas.on('mouse:up', function() {\n                this.setViewportTransform(this.viewportTransform);\n                this.isDragging = false;\n                this.selection = true;\n            });\n        },\n\n        controlSetActive: function(control) {\n            if (this.canvas.isDown == true) return;\n            this.canvas.activeTool = control;\n            this.setSelectable();\n            console.log('activeTool: ' + this.canvas.activeTool);\n        },\n        \n        //setSelectable(): if: selected line or jump tool,\n        //for every selectable object in the canvas,\n        //make not selectable, and store the object's index\n        //else: make selectable every object whose index is stored\n        setSelectable: function() {\n            if ((this.canvas.activeTool == 'drawLine' || this.canvas.activeTool == 'drawJump') && this.deselect.length == 0) {\n                //populate with indeces of objects where evented = true, set to false\n                this.canvas.discardActiveObject();\n                this.canvas.getObjects().forEach(object => {\n                    if (object.selectable && object.evented && object.space != undefined) {\n                        object.selectable = false;\n                        object.evented = false;\n                        this.deselect.push(object.space.id);\n                    }\n                })\n                this.canvas.selection = false;\n            } else if (!(this.canvas.activeTool == 'drawLine' || this.canvas.activeTool == 'drawJump') && this.deselect.length > 0) {\n                //set objects at array indeces in deselect to evented = true\n                this.canvas.getObjects().forEach(object => {\n                    if (object.space && this.deselect.includes(object.space.id)) {\n                        object.selectable = true;\n                        object.evented = true;\n                    }\n                })\n                this.deselect = [];\n                this.canvas.selection = true;\n            }\n        }\n    },\n    created() {\n        this.controlEventBusSetup();\n        this.fileEventBusSetup();\n        this.objectEventBusSetup();\n    },\n    mounted() {\n        this.canvasSetup();\n        this.canvasSelectSetup();\n        this.canvasZoomSetup();\n        this.controlSetup();\n        window.addEventListener('resize', this.canvasResize);\n    },\n}\n</script>\n\n<style scoped>\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageCanvas.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageCanvas.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImageCanvas.vue?vue&type=template&id=3b16ca50&scoped=true&\"\nimport script from \"./ImageCanvas.vue?vue&type=script&lang=js&\"\nexport * from \"./ImageCanvas.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3b16ca50\",\n  null\n  \n)\n\nexport default component.exports","//https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent\nimport { controlEventBus } from '../main.js';\n\nexport default class Control {\n    constructor() {\n        document.addEventListener('keydown', (event) => {\n            switch(event.target.tagName) {\n                case \"INPUT\": case \"SELECT\": case \"TEXTAREA\": return;\n            }\n            const keyName = event.key;\n            switch (keyName) {\n                case \" \":\n                    controlEventBus.imagePanPress();\n                    break;\n                case \"Shift\":\n                    controlEventBus.shiftPress();\n                    break;\n                default:\n                    return;\n            }\n\n        }, false);\n\n        document.addEventListener('keyup', (event) => {\n            switch(event.target.tagName) {\n                case \"INPUT\": case \"SELECT\": case \"TEXTAREA\": return;\n            }\n            const keyName = event.key;\n            switch (keyName) {\n                case \"c\":\n                    controlEventBus.imagePlace();\n                    break;\n                case \"r\":\n                    controlEventBus.drawRect();\n                    break;\n                case \"e\":\n                    controlEventBus.drawEllipse();\n                    break;\n                case \"p\":\n                    controlEventBus.drawPolygon();\n                    break;\n                case \"m\":\n                    controlEventBus.drawSelect();\n                    break;\n                case \"l\":\n                    controlEventBus.drawLine();\n                    break;\n                case \" \":\n                    controlEventBus.imagePanRelease();\n                    break;\n                case \"Shift\":\n                    controlEventBus.shiftRelease();\n                    break;\n                case \"d\":\n                    controlEventBus.backspace();\n                    break;\n                case \"j\":\n                    controlEventBus.drawJump();\n                    break;\n                default:\n                    return;\n            }\n\n        }, false);\n    }\n}\n\n","<template>\n  <div>\n      <appToolbar></appToolbar>\n      <appSidebar></appSidebar>\n      <appImageCanvas></appImageCanvas>\n  </div>\n</template>\n\n<script>\nimport Toolbar from './components/Toolbar.vue';\nimport Sidebar from './components/Sidebar.vue';\nimport ImageCanvas from './components/ImageCanvas.vue';\n\nimport Control from './classes/Control.js';\nnew Control();\n\nexport default {\n  name: 'sugorokuapp',\n  data () {\n    return {\n      debug: true,\n    }\n  },\n  components: {\n    appToolbar: Toolbar,\n    appSidebar: Sidebar,\n    appImageCanvas: ImageCanvas,\n  },\n}\n</script>\n\n<style>\n  body {\n    margin: 0;\n    position: relative;\n    overflow: hidden;\n  }\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=4de1a7b8&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=4de1a7b8&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\nimport Router from \"vue-router\";\n\nVue.use(Router);\n\nexport default new Router({\n  mode: \"history\",\n  routes: [\n    {\n      path: \"/\",\n      alias: \"/sugoroku\",\n      name: \"sugoroku\",\n      component: () => import(\"./components/SugorokuList\")\n    },\n    {\n      path: \"/add\",\n      name: \"add\",\n      component: () => import(\"./components/SugorokuAdd\")\n    }\n  ]\n});","/*\nTODO\n- Drawing a too-small shape which disappears fucks everything up\n- Clean up eventBuses\n*/\nimport Vue from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport { BootstrapVue, IconsPlugin } from 'bootstrap-vue'\nimport 'bootstrap/dist/css/bootstrap.css'\nimport 'bootstrap-vue/dist/bootstrap-vue.css'\n\nVue.config.productionTip = false;\n\nexport const objectEventBus = new Vue({\n  methods: {\n    createBoard(img) {\n      this.$emit('createBoard', img);\n    },\n    selectBoard(board) {\n      this.$emit('selectBoard', board);\n    },\n    createSpace(space) {\n      this.$emit('createSpace', space);\n    },\n    delete(obj) {\n      this.$emit('delete', obj);\n      this.deselect();\n    },\n    clearLines() {\n      this.$emit('clearLines');\n    },\n    createConnection(connection) {\n      this.$emit('createConnection', connection);\n    },\n    connectionsList(connections) {\n      this.$emit('connectionsList', connections);\n    },\n    selectShape(shape) {\n      this.$emit('selectShape', shape);\n    },\n    deselect() {\n      this.$emit('deselect');\n    },\n    download() {\n      this.$emit('download');\n    },\n    upload(file) {\n      this.$emit('upload', file);\n    },\n    submit()\n    {\n      this.$emit('submit')\n    },\n    jsonToCanvas(json) {\n      this.$emit('jsonToCanvas', json);\n    },\n    getObjects(obj) {\n      this.$emit('getObjects', obj);\n    },\n    getCanvas(obj)\n    {\n      this.$emit('getCanvas', obj)\n    }\n  }\n});\n\nexport const controlEventBus = new Vue( {\n  methods: {\n    drawRect() {\n      this.$emit('drawRect');\n    },\n    drawEllipse() {\n      this.$emit('drawEllipse');\n    },\n    drawPolygon() {\n      this.$emit('drawPolygon');\n    },\n    drawSelect() {\n      this.$emit('drawSelect');\n    },\n    drawLine() {\n      this.$emit('drawLine');\n    },\n    drawJump() {\n      this.$emit('drawJump');\n    },\n    imagePlace() {\n      this.$emit('imagePlace');\n    },\n    imagePanPress() {\n      this.$emit('imagePanPress');\n    },\n    imagePanRelease() {\n      this.$emit('imagePanRelease');\n    },\n    shiftPress() {\n      this.$emit('shiftPress');\n    },\n    shiftRelease() {\n      this.$emit('shiftRelease');\n    },\n    backspace() {\n      this.$emit('backspace');\n    },\n  }\n});\n\nexport const fileEventBus = new Vue( {\n  props: {\n    img: {}\n  },\n  methods: {\n    imageLoaded(img) {\n      this.img = img\n      this.$emit('imageLoaded', img);\n    },\n    getImage()\n    {\n      return this.img\n    }\n  }\n});\n\nVue.use(BootstrapVue);\nVue.use(IconsPlugin);\n\nnew Vue({\n  router,\n  el: '#app',\n  render: h => h(App)\n})","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=4de1a7b8&prod&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageLoad.vue?vue&type=style&index=0&id=7eec34d9&prod&scoped=true&lang=scss&\""],"sourceRoot":""}